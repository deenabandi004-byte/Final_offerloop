const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-BrkYcwtg.js","assets/vendor-ui-Dvm6rNa4.js","assets/vendor-react-BYoYq924.js","assets/DashboardPage-BAAjHtfx.js","assets/AppSidebar-Cn2aJ38A.js","assets/input-XODqQdub.js","assets/avatar-Dzw8yNMj.js","assets/user-C_wegfzu.js","assets/search-BYePgFCK.js","assets/briefcase-dTGXHmKy.js","assets/credit-card-CUtRkOcf.js","assets/settings-DRsa6wdQ.js","assets/chevron-down-BYs8h_N4.js","assets/zap-4xeOdT8m.js","assets/firebaseApi-DOnxKxO3.js","assets/api-BaCf4yf7.js","assets/activityLogger-hKmX71uM.js","assets/select-ChHsUIEu.js","assets/chevron-up-BYoRZa6c.js","assets/textarea-Q_HUC77w.js","assets/loader-circle-Dc92CH8W.js","assets/trending-up-Bgf5oKJ1.js","assets/users-D50U-cKK.js","assets/mail-BHr62ECQ.js","assets/clock-DBBbNjqD.js","assets/badge-BdqHLg7L.js","assets/file-text-anY0C2WZ.js","assets/PageHeaderActions-DBb3HQNj.js","assets/external-link-CNjLoQl2.js","assets/refresh-cw-IxHaehM0.js","assets/popover-DprC4tu3.js","assets/vendor-utils-BgAPX5c7.js","assets/phone-BOFNou82.js","assets/map-pin-ChQYAUwW.js","assets/trash-2-CokCcdpM.js","assets/AboutUs-BXUz5Y1q.js","assets/Footer-BsX4tSGd.js","assets/Contact-Hhhl_I-q.js","assets/card-BhhoFDdW.js","assets/CoffeeChatLibrary-DVX2u9gd.js","assets/badge-check-8cj4Bimp.js","assets/ContactDirectory-CO2GC2yd.js","assets/ContactDirectory-DOM7iVv6.js","assets/ContactUs-Ca2EJn8n.js","assets/PrivacyPolicy-D56n5d79.js","assets/TermsOfService-CFK_crrD.js","assets/TermsOfServiceSettings-jellYg-m.js","assets/AccountSettings-DcBnVar6.js","assets/checkbox-BptNgy9q.js","assets/command-Cpn169HM.js","assets/Pricing-DJLo6xKL.js","assets/Dashboard-CyfU9dhQ.js","assets/NotFound-XXMLaPm-.js","assets/PaymentSuccess-BZj5Xbi8.js","assets/circle-x-BeHmYZBE.js","assets/CoffeeChatPrepPage-BpSGcAxn.js","assets/tabs-B3Jp1R5J.js","assets/LockedFeatureOverlay-CsomAHDv.js","assets/constants-CpKbYGZX.js","assets/ContactSearchPage-DEzf4XBs.js","assets/InterviewPrepPage--8WXAYMg.js","assets/FirmSearchPage-Bq2jERcN.js","assets/OnboardingFlow-C6AdVQYP.js"])))=>i.map(i=>d[i]);
var XE=Object.defineProperty;var Um=n=>{throw TypeError(n)};var JE=(n,e,t)=>e in n?XE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Bm=(n,e,t)=>JE(n,typeof e!="symbol"?e+"":e,t),Du=(n,e,t)=>e.has(n)||Um("Cannot "+t);var j=(n,e,t)=>(Du(n,e,"read from private field"),t?t.call(n):e.get(n)),de=(n,e,t)=>e.has(n)?Um("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ne=(n,e,t,r)=>(Du(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),bt=(n,e,t)=>(Du(n,e,"access private method"),t);var vl=(n,e,t,r)=>({set _(s){ne(n,e,s,t)},get _(){return j(n,e,r)}});import{c as pv,a as ZE,u as Oc,j as f,B as eI,P as ei,b as mv,d as gv,e as Et,f as nc,V as yv,R as tI,g as nI,h as rI,i as sI,k as _v,D as iI,C as oI,l as aI,m as lI,n as cI,o as uI,A as hI,p as dI,_ as Wd,S as fI}from"./vendor-ui-Dvm6rNa4.js";import{a as vv,r as O,R as U,b as pI,u as Kd,L as Ro,d as Qd,B as mI,e as gI,f as Te,N as or}from"./vendor-react-BYoYq924.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var wv,zm=vv;wv=zm.createRoot,zm.hydrateRoot;const yI="modulepreload",_I=function(n){return"/"+n},$m={},tt=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(t.map(l=>{if(l=_I(l),l in $m)return;$m[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":yI,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((m,g)=>{d.addEventListener("load",m),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},vI=1,wI=1e6;let Ou=0;function bI(){return Ou=(Ou+1)%Number.MAX_SAFE_INTEGER,Ou.toString()}const Vu=new Map,qm=n=>{if(Vu.has(n))return;const e=setTimeout(()=>{Vu.delete(n),$o({type:"REMOVE_TOAST",toastId:n})},wI);Vu.set(n,e)},TI=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,vI)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?qm(t):n.toasts.forEach(r=>{qm(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},jl=[];let Fl={toasts:[]};function $o(n){Fl=TI(Fl,n),jl.forEach(e=>{e(Fl)})}function xI({...n}){const e=bI(),t=s=>$o({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>$o({type:"DISMISS_TOAST",toastId:e});return $o({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function bv(){const[n,e]=O.useState(Fl);return O.useEffect(()=>(jl.push(e),()=>{const t=jl.indexOf(e);t>-1&&jl.splice(t,1)}),[n]),{...n,toast:xI,dismiss:t=>$o({type:"DISMISS_TOAST",toastId:t})}}var Yd="ToastProvider",[Xd,EI,II]=ZE("Toast"),[Tv]=pv("Toast",[II]),[AI,Vc]=Tv(Yd),xv=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=n,[a,l]=O.useState(null),[u,h]=O.useState(0),d=O.useRef(!1),m=O.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yd}\`. Expected non-empty \`string\`.`),f.jsx(Xd.Provider,{scope:e,children:f.jsx(AI,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:O.useCallback(()=>h(g=>g+1),[]),onToastRemove:O.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:m,children:o})})};xv.displayName=Yd;var Ev="ToastViewport",SI=["F8"],Ih="toast.viewportPause",Ah="toast.viewportResume",Iv=O.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=SI,label:s="Notifications ({hotkey})",...i}=n,o=Vc(Ev,t),a=EI(t),l=O.useRef(null),u=O.useRef(null),h=O.useRef(null),d=O.useRef(null),m=Oc(e,d,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;O.useEffect(()=>{const v=x=>{var S;r.length!==0&&r.every(D=>x[D]||x.code===D)&&((S=d.current)==null||S.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),O.useEffect(()=>{const v=l.current,x=d.current;if(w&&v&&x){const A=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(Ih);x.dispatchEvent(V),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(Ah);x.dispatchEvent(V),o.isClosePausedRef.current=!1}},D=V=>{!v.contains(V.relatedTarget)&&S()},R=()=>{v.contains(document.activeElement)||S()};return v.addEventListener("focusin",A),v.addEventListener("focusout",D),v.addEventListener("pointermove",A),v.addEventListener("pointerleave",R),window.addEventListener("blur",A),window.addEventListener("focus",S),()=>{v.removeEventListener("focusin",A),v.removeEventListener("focusout",D),v.removeEventListener("pointermove",A),v.removeEventListener("pointerleave",R),window.removeEventListener("blur",A),window.removeEventListener("focus",S)}}},[w,o.isClosePausedRef]);const _=O.useCallback(({tabbingDirection:v})=>{const A=a().map(S=>{const D=S.ref.current,R=[D,...UI(D)];return v==="forwards"?R:R.reverse()});return(v==="forwards"?A.reverse():A).flat()},[a]);return O.useEffect(()=>{const v=d.current;if(v){const x=A=>{var R,V,E;const S=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!S){const b=document.activeElement,T=A.shiftKey;if(A.target===v&&T){(R=u.current)==null||R.focus();return}const N=_({tabbingDirection:T?"backwards":"forwards"}),P=N.findIndex(z=>z===b);Mu(N.slice(P+1))?A.preventDefault():T?(V=u.current)==null||V.focus():(E=h.current)==null||E.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[a,_]),f.jsxs(eI,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&f.jsx(Sh,{ref:u,onFocusFromOutsideViewport:()=>{const v=_({tabbingDirection:"forwards"});Mu(v)}}),f.jsx(Xd.Slot,{scope:t,children:f.jsx(ei.ol,{tabIndex:-1,...i,ref:m})}),w&&f.jsx(Sh,{ref:h,onFocusFromOutsideViewport:()=>{const v=_({tabbingDirection:"backwards"});Mu(v)}})]})});Iv.displayName=Ev;var Av="ToastFocusProxy",Sh=O.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,i=Vc(Av,t);return f.jsx(yv,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Sh.displayName=Av;var ka="Toast",PI="toast.swipeStart",RI="toast.swipeMove",CI="toast.swipeCancel",kI="toast.swipeEnd",Sv=O.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:i,...o}=n,[a,l]=mv({prop:r,defaultProp:s??!0,onChange:i,caller:ka});return f.jsx(gv,{present:t||a,children:f.jsx(OI,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:nc(n.onPause),onResume:nc(n.onResume),onSwipeStart:Et(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Et(n.onSwipeMove,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Et(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Et(n.onSwipeEnd,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});Sv.displayName=ka;var[NI,DI]=Tv(ka,{onClose(){}}),OI=O.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:m,onSwipeEnd:g,...w}=n,_=Vc(ka,t),[v,x]=O.useState(null),A=Oc(e,z=>x(z)),S=O.useRef(null),D=O.useRef(null),R=s||_.duration,V=O.useRef(0),E=O.useRef(R),b=O.useRef(0),{onToastAdd:T,onToastRemove:C}=_,k=nc(()=>{var Q;(v==null?void 0:v.contains(document.activeElement))&&((Q=_.viewport)==null||Q.focus()),o()}),N=O.useCallback(z=>{!z||z===1/0||(window.clearTimeout(b.current),V.current=new Date().getTime(),b.current=window.setTimeout(k,z))},[k]);O.useEffect(()=>{const z=_.viewport;if(z){const Q=()=>{N(E.current),u==null||u()},W=()=>{const G=new Date().getTime()-V.current;E.current=E.current-G,window.clearTimeout(b.current),l==null||l()};return z.addEventListener(Ih,W),z.addEventListener(Ah,Q),()=>{z.removeEventListener(Ih,W),z.removeEventListener(Ah,Q)}}},[_.viewport,R,l,u,N]),O.useEffect(()=>{i&&!_.isClosePausedRef.current&&N(R)},[i,R,_.isClosePausedRef,N]),O.useEffect(()=>(T(),()=>C()),[T,C]);const P=O.useMemo(()=>v?Ov(v):null,[v]);return _.viewport?f.jsxs(f.Fragment,{children:[P&&f.jsx(VI,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:P}),f.jsx(NI,{scope:t,onClose:k,children:vv.createPortal(f.jsx(Xd.ItemSlot,{scope:t,children:f.jsx(tI,{asChild:!0,onEscapeKeyDown:Et(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||k(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(ei.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...w,ref:A,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Et(n.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Et(n.onPointerDown,z=>{z.button===0&&(S.current={x:z.clientX,y:z.clientY})}),onPointerMove:Et(n.onPointerMove,z=>{if(!S.current)return;const Q=z.clientX-S.current.x,W=z.clientY-S.current.y,G=!!D.current,Y=["left","right"].includes(_.swipeDirection),J=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,le=Y?J(0,Q):0,ee=Y?0:J(0,W),ge=z.pointerType==="touch"?10:2,q={x:le,y:ee},ie={originalEvent:z,delta:q};G?(D.current=q,wl(RI,d,ie,{discrete:!1})):Gm(q,_.swipeDirection,ge)?(D.current=q,wl(PI,h,ie,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(Q)>ge||Math.abs(W)>ge)&&(S.current=null)}),onPointerUp:Et(n.onPointerUp,z=>{const Q=D.current,W=z.target;if(W.hasPointerCapture(z.pointerId)&&W.releasePointerCapture(z.pointerId),D.current=null,S.current=null,Q){const G=z.currentTarget,Y={originalEvent:z,delta:Q};Gm(Q,_.swipeDirection,_.swipeThreshold)?wl(kI,g,Y,{discrete:!0}):wl(CI,m,Y,{discrete:!0}),G.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),VI=n=>{const{__scopeToast:e,children:t,...r}=n,s=Vc(ka,e),[i,o]=O.useState(!1),[a,l]=O.useState(!1);return jI(()=>o(!0)),O.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(nI,{asChild:!0,children:f.jsx(yv,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",t]})})})},MI="ToastTitle",Pv=O.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return f.jsx(ei.div,{...r,ref:e})});Pv.displayName=MI;var LI="ToastDescription",Rv=O.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return f.jsx(ei.div,{...r,ref:e})});Rv.displayName=LI;var Cv="ToastAction",kv=O.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?f.jsx(Dv,{altText:t,asChild:!0,children:f.jsx(Jd,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Cv}\`. Expected non-empty \`string\`.`),null)});kv.displayName=Cv;var Nv="ToastClose",Jd=O.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=DI(Nv,t);return f.jsx(Dv,{asChild:!0,children:f.jsx(ei.button,{type:"button",...r,ref:e,onClick:Et(n.onClick,s.onClose)})})});Jd.displayName=Nv;var Dv=O.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return f.jsx(ei.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Ov(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),FI(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Ov(r))}}),e}function wl(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?sI(s,i):s.dispatchEvent(i)}var Gm=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),i=r>s;return e==="left"||e==="right"?i&&r>t:!i&&s>t};function jI(n=()=>{}){const e=nc(n);rI(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function FI(n){return n.nodeType===n.ELEMENT_NODE}function UI(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Mu(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var BI=xv,Vv=Iv,Mv=Sv,Lv=Pv,jv=Rv,Fv=kv,Uv=Jd;function Bv(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=Bv(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function zv(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=Bv(n))&&(r&&(r+=" "),r+=e);return r}const Hm=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Wm=zv,$v=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Wm(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=t==null?void 0:t[u],d=i==null?void 0:i[u];if(h===null)return null;const m=Hm(h)||Hm(d);return s[u][m]}),a=t&&Object.entries(t).reduce((u,h)=>{let[d,m]=h;return m===void 0||(u[d]=m),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:d,className:m,...g}=h;return Object.entries(g).every(w=>{let[_,v]=w;return Array.isArray(v)?v.includes({...i,...a}[_]):{...i,...a}[_]===v})?[...u,d,m]:u},[]);return Wm(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$I=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Km=n=>{const e=$I(n);return e.charAt(0).toUpperCase()+e.slice(1)},qv=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),qI=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>O.createElement("svg",{ref:l,...GI,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:qv("lucide",s),...!i&&!qI(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,h])=>O.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=(n,e)=>{const t=O.forwardRef(({className:r,...s},i)=>O.createElement(HI,{ref:i,iconNode:e,className:qv(`lucide-${zI(Km(n))}`,`lucide-${n}`,r),...s}));return t.displayName=Km(n),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],KI=ss("arrow-left",WI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],YI=ss("arrow-right",QI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qm=ss("check",XI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],ZI=ss("instagram",JI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],tA=ss("linkedin",eA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rA=ss("triangle-alert",nA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],iA=ss("twitter",sA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aA=ss("x",oA),Zd="-",lA=n=>{const e=uA(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split(Zd);return a[0]===""&&a.length!==1&&a.shift(),Gv(a,e)||cA(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Gv=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?Gv(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join(Zd);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Ym=/^\[(.+)\]$/,cA=n=>{if(Ym.test(n)){const e=Ym.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},uA=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return dA(Object.entries(n.classGroups),t).forEach(([i,o])=>{Ph(o,r,i,e)}),r},Ph=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Xm(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(hA(s)){Ph(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,o])=>{Ph(o,Xm(e,i),t,r)})})},Xm=(n,e)=>{let t=n;return e.split(Zd).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},hA=n=>n.isThemeGetter,dA=(n,e)=>e?n.map(([t,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[t,s]}):n,fA=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,o)=>{t.set(i,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){t.has(i)?t.set(i,o):s(i,o)}}},Hv="!",pA=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,h=0,d;for(let v=0;v<a.length;v++){let x=a[v];if(u===0){if(x===s&&(r||a.slice(v,v+i)===e)){l.push(a.slice(h,v)),h=v+i;continue}if(x==="/"){d=v;continue}}x==="["?u++:x==="]"&&u--}const m=l.length===0?a:a.substring(h),g=m.startsWith(Hv),w=g?m.substring(1):m,_=d&&d>h?d-h:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:_}};return t?a=>t({className:a,parseClassName:o}):o},mA=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},gA=n=>({cache:fA(n.cacheSize),parseClassName:pA(n),...lA(n)}),yA=/\s+/,_A=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=n.trim().split(yA);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:h,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:g}=t(u);let w=!!g,_=r(w?m.substring(0,g):m);if(!_){if(!w){a=u+(a.length>0?" "+a:a);continue}if(_=r(m),!_){a=u+(a.length>0?" "+a:a);continue}w=!1}const v=mA(h).join(":"),x=d?v+Hv:v,A=x+_;if(i.includes(A))continue;i.push(A);const S=s(_,w);for(let D=0;D<S.length;++D){const R=S[D];i.push(x+R)}a=u+(a.length>0?" "+a:a)}return a};function vA(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Wv(e))&&(r&&(r+=" "),r+=t);return r}const Wv=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Wv(n[r]))&&(t&&(t+=" "),t+=e);return t};function wA(n,...e){let t,r,s,i=o;function o(l){const u=e.reduce((h,d)=>d(h),n());return t=gA(u),r=t.cache.get,s=t.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=_A(l,t);return s(l,h),h}return function(){return i(vA.apply(null,arguments))}}const Se=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Kv=/^\[(?:([a-z-]+):)?(.+)\]$/i,bA=/^\d+\/\d+$/,TA=new Set(["px","full","screen"]),xA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,AA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,er=n=>Ii(n)||TA.has(n)||bA.test(n),Ir=n=>oo(n,"length",VA),Ii=n=>!!n&&!Number.isNaN(Number(n)),Lu=n=>oo(n,"number",Ii),Co=n=>!!n&&Number.isInteger(Number(n)),PA=n=>n.endsWith("%")&&Ii(n.slice(0,-1)),ce=n=>Kv.test(n),Ar=n=>xA.test(n),RA=new Set(["length","size","percentage"]),CA=n=>oo(n,RA,Qv),kA=n=>oo(n,"position",Qv),NA=new Set(["image","url"]),DA=n=>oo(n,NA,LA),OA=n=>oo(n,"",MA),ko=()=>!0,oo=(n,e,t)=>{const r=Kv.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},VA=n=>EA.test(n)&&!IA.test(n),Qv=()=>!1,MA=n=>AA.test(n),LA=n=>SA.test(n),jA=()=>{const n=Se("colors"),e=Se("spacing"),t=Se("blur"),r=Se("brightness"),s=Se("borderColor"),i=Se("borderRadius"),o=Se("borderSpacing"),a=Se("borderWidth"),l=Se("contrast"),u=Se("grayscale"),h=Se("hueRotate"),d=Se("invert"),m=Se("gap"),g=Se("gradientColorStops"),w=Se("gradientColorStopPositions"),_=Se("inset"),v=Se("margin"),x=Se("opacity"),A=Se("padding"),S=Se("saturate"),D=Se("scale"),R=Se("sepia"),V=Se("skew"),E=Se("space"),b=Se("translate"),T=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ce,e],N=()=>[ce,e],P=()=>["",er,Ir],z=()=>["auto",Ii,ce],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",ce],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Ii,ce];return{cacheSize:500,separator:":",theme:{colors:[ko],spacing:[er,Ir],blur:["none","",Ar,ce],brightness:ee(),borderColor:[n],borderRadius:["none","","full",Ar,ce],borderSpacing:N(),borderWidth:P(),contrast:ee(),grayscale:J(),hueRotate:ee(),invert:J(),gap:N(),gradientColorStops:[n],gradientColorStopPositions:[PA,Ir],inset:k(),margin:k(),opacity:ee(),padding:N(),saturate:ee(),scale:ee(),sepia:J(),skew:ee(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Ar]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),ce]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Co,ce]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Co,ce]}],"grid-cols":[{"grid-cols":[ko]}],"col-start-end":[{col:["auto",{span:["full",Co,ce]},ce]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[ko]}],"row-start-end":[{row:["auto",{span:[Co,ce]},ce]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[Ar]},Ar]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ar,Ir]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lu]}],"font-family":[{font:[ko]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Ii,Lu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",er,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",er,Ir]}],"underline-offset":[{"underline-offset":["auto",er,ce]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),kA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DA]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[er,ce]}],"outline-w":[{outline:[er,Ir]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[er,Ir]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ar,OA]}],"shadow-color":[{shadow:[ko]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ar,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[S]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Co,ce]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[er,Ir,Lu]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FA=wA(jA);function wr(...n){return FA(zv(n))}const UA=BI,Yv=O.forwardRef(({className:n,...e},t)=>f.jsx(Vv,{ref:t,className:wr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));Yv.displayName=Vv.displayName;const BA=$v("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Xv=O.forwardRef(({className:n,variant:e,...t},r)=>f.jsx(Mv,{ref:r,className:wr(BA({variant:e}),n),...t}));Xv.displayName=Mv.displayName;const zA=O.forwardRef(({className:n,...e},t)=>f.jsx(Fv,{ref:t,className:wr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));zA.displayName=Fv.displayName;const Jv=O.forwardRef(({className:n,...e},t)=>f.jsx(Uv,{ref:t,className:wr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:f.jsx(aA,{className:"h-4 w-4"})}));Jv.displayName=Uv.displayName;const Zv=O.forwardRef(({className:n,...e},t)=>f.jsx(Lv,{ref:t,className:wr("text-sm font-semibold",n),...e}));Zv.displayName=Lv.displayName;const e0=O.forwardRef(({className:n,...e},t)=>f.jsx(jv,{ref:t,className:wr("text-sm opacity-90",n),...e}));e0.displayName=jv.displayName;function $A(){const{toasts:n}=bv();return f.jsxs(UA,{children:[n.map(function({id:e,title:t,description:r,action:s,...i}){return f.jsxs(Xv,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[t&&f.jsx(Zv,{children:t}),r&&f.jsx(e0,{children:r})]}),s,f.jsx(Jv,{})]},e)}),f.jsx(Yv,{})]})}function qA(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const GA=n=>{switch(n){case"success":return KA;case"info":return YA;case"warning":return QA;case"error":return XA;default:return null}},HA=Array(12).fill(0),WA=({visible:n,className:e})=>U.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},U.createElement("div",{className:"sonner-spinner"},HA.map((t,r)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),KA=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),QA=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),YA=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),XA=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),JA=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ZA=()=>{const[n,e]=U.useState(document.hidden);return U.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let Rh=1;class eS{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Rh++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=r!==void 0,o;const a=s.then(async u=>{if(o=["resolve",u],U.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(nS(u)&&!u.ok){i=!1;const d=typeof t.error=="function"?await t.error(`HTTP error! status: ${u.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${u.status}`):t.description,w=typeof d=="object"&&!U.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:m,...w})}else if(u instanceof Error){i=!1;const d=typeof t.error=="function"?await t.error(u):t.error,m=typeof t.description=="function"?await t.description(u):t.description,w=typeof d=="object"&&!U.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:m,...w})}else if(t.success!==void 0){i=!1;const d=typeof t.success=="function"?await t.success(u):t.success,m=typeof t.description=="function"?await t.description(u):t.description,w=typeof d=="object"&&!U.isValidElement(d)?d:{message:d};this.create({id:r,type:"success",description:m,...w})}}).catch(async u=>{if(o=["reject",u],t.error!==void 0){i=!1;const h=typeof t.error=="function"?await t.error(u):t.error,d=typeof t.description=="function"?await t.description(u):t.description,g=typeof h=="object"&&!U.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:d,...g})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),l=()=>new Promise((u,h)=>a.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||Rh++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const jt=new eS,tS=(n,e)=>{const t=(e==null?void 0:e.id)||Rh++;return jt.addToast({title:n,...e,id:t}),t},nS=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",rS=tS,sS=()=>jt.toasts,iS=()=>jt.getActiveToasts(),M4=Object.assign(rS,{success:jt.success,info:jt.info,warning:jt.warning,error:jt.error,custom:jt.custom,message:jt.message,promise:jt.promise,dismiss:jt.dismiss,loading:jt.loading},{getHistory:sS,getToasts:iS});qA("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function bl(n){return n.label!==void 0}const oS=3,aS="24px",lS="16px",Jm=4e3,cS=356,uS=14,hS=45,dS=200;function Cn(...n){return n.filter(Boolean).join(" ")}function fS(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const pS=n=>{var e,t,r,s,i,o,a,l,u;const{invert:h,toast:d,unstyled:m,interacting:g,setHeights:w,visibleToasts:_,heights:v,index:x,toasts:A,expanded:S,removeToast:D,defaultRichColors:R,closeButton:V,style:E,cancelButtonStyle:b,actionButtonStyle:T,className:C="",descriptionClassName:k="",duration:N,position:P,gap:z,expandByDefault:Q,classNames:W,icons:G,closeButtonAriaLabel:Y="Close toast"}=n,[J,le]=U.useState(null),[ee,ge]=U.useState(null),[q,ie]=U.useState(!1),[ue,Lt]=U.useState(!1),[mn,Ie]=U.useState(!1),[br,Kn]=U.useState(!1),[Qn,Sn]=U.useState(!1),[go,cs]=U.useState(0),[yo,_o]=U.useState(0),us=U.useRef(d.duration||N||Jm),Ya=U.useRef(null),nn=U.useRef(null),vo=x===0,Xa=x+1<=_,Ct=d.type,Pn=d.dismissible!==!1,wo=d.className||"",Ja=d.descriptionClassName||"",$e=U.useMemo(()=>v.findIndex(Z=>Z.toastId===d.id)||0,[v,d.id]),lt=U.useMemo(()=>{var Z;return(Z=d.closeButton)!=null?Z:V},[d.closeButton,V]),hs=U.useMemo(()=>d.duration||N||Jm,[d.duration,N]),oi=U.useRef(0),Yn=U.useRef(0),Za=U.useRef(0),rn=U.useRef(null),[el,tl]=P.split("-"),ai=U.useMemo(()=>v.reduce((Z,qe,Ge)=>Ge>=$e?Z:Z+qe.height,0),[v,$e]),nl=ZA(),wu=d.invert||h,ds=Ct==="loading";Yn.current=U.useMemo(()=>$e*z+ai,[$e,ai]),U.useEffect(()=>{us.current=hs},[hs]),U.useEffect(()=>{ie(!0)},[]),U.useEffect(()=>{const Z=nn.current;if(Z){const qe=Z.getBoundingClientRect().height;return _o(qe),w(Ge=>[{toastId:d.id,height:qe,position:d.position},...Ge]),()=>w(Ge=>Ge.filter(_t=>_t.toastId!==d.id))}},[w,d.id]),U.useLayoutEffect(()=>{if(!q)return;const Z=nn.current,qe=Z.style.height;Z.style.height="auto";const Ge=Z.getBoundingClientRect().height;Z.style.height=qe,_o(Ge),w(_t=>_t.find(Qe=>Qe.toastId===d.id)?_t.map(Qe=>Qe.toastId===d.id?{...Qe,height:Ge}:Qe):[{toastId:d.id,height:Ge,position:d.position},..._t])},[q,d.title,d.description,w,d.id,d.jsx,d.action,d.cancel]);const gn=U.useCallback(()=>{Lt(!0),cs(Yn.current),w(Z=>Z.filter(qe=>qe.toastId!==d.id)),setTimeout(()=>{D(d)},dS)},[d,D,w,Yn]);U.useEffect(()=>{if(d.promise&&Ct==="loading"||d.duration===1/0||d.type==="loading")return;let Z;return S||g||nl?(()=>{if(Za.current<oi.current){const _t=new Date().getTime()-oi.current;us.current=us.current-_t}Za.current=new Date().getTime()})():(()=>{us.current!==1/0&&(oi.current=new Date().getTime(),Z=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),gn()},us.current))})(),()=>clearTimeout(Z)},[S,g,d,Ct,nl,gn]),U.useEffect(()=>{d.delete&&(gn(),d.onDismiss==null||d.onDismiss.call(d,d))},[gn,d.delete]);function rl(){var Z;if(G!=null&&G.loading){var qe;return U.createElement("div",{className:Cn(W==null?void 0:W.loader,d==null||(qe=d.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":Ct==="loading"},G.loading)}return U.createElement(WA,{className:Cn(W==null?void 0:W.loader,d==null||(Z=d.classNames)==null?void 0:Z.loader),visible:Ct==="loading"})}const fs=d.icon||(G==null?void 0:G[Ct])||GA(Ct);var li,ci;return U.createElement("li",{tabIndex:0,ref:nn,className:Cn(C,wo,W==null?void 0:W.toast,d==null||(e=d.classNames)==null?void 0:e.toast,W==null?void 0:W.default,W==null?void 0:W[Ct],d==null||(t=d.classNames)==null?void 0:t[Ct]),"data-sonner-toast":"","data-rich-colors":(li=d.richColors)!=null?li:R,"data-styled":!(d.jsx||d.unstyled||m),"data-mounted":q,"data-promise":!!d.promise,"data-swiped":Qn,"data-removed":ue,"data-visible":Xa,"data-y-position":el,"data-x-position":tl,"data-index":x,"data-front":vo,"data-swiping":mn,"data-dismissible":Pn,"data-type":Ct,"data-invert":wu,"data-swipe-out":br,"data-swipe-direction":ee,"data-expanded":!!(S||Q&&q),"data-testid":d.testId,style:{"--index":x,"--toasts-before":x,"--z-index":A.length-x,"--offset":`${ue?go:Yn.current}px`,"--initial-height":Q?"auto":`${yo}px`,...E,...d.style},onDragEnd:()=>{Ie(!1),le(null),rn.current=null},onPointerDown:Z=>{Z.button!==2&&(ds||!Pn||(Ya.current=new Date,cs(Yn.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(Ie(!0),rn.current={x:Z.clientX,y:Z.clientY})))},onPointerUp:()=>{var Z,qe,Ge;if(br||!Pn)return;rn.current=null;const _t=Number(((Z=nn.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Rn=Number(((qe=nn.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Qe=new Date().getTime()-((Ge=Ya.current)==null?void 0:Ge.getTime()),we=J==="x"?_t:Rn,ps=Math.abs(we)/Qe;if(Math.abs(we)>=hS||ps>.11){cs(Yn.current),d.onDismiss==null||d.onDismiss.call(d,d),ge(J==="x"?_t>0?"right":"left":Rn>0?"down":"up"),gn(),Kn(!0);return}else{var ct,ut;(ct=nn.current)==null||ct.style.setProperty("--swipe-amount-x","0px"),(ut=nn.current)==null||ut.style.setProperty("--swipe-amount-y","0px")}Sn(!1),Ie(!1),le(null)},onPointerMove:Z=>{var qe,Ge,_t;if(!rn.current||!Pn||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;const Qe=Z.clientY-rn.current.y,we=Z.clientX-rn.current.x;var ps;const ct=(ps=n.swipeDirections)!=null?ps:fS(P);!J&&(Math.abs(we)>1||Math.abs(Qe)>1)&&le(Math.abs(we)>Math.abs(Qe)?"x":"y");let ut={x:0,y:0};const sl=Xn=>1/(1.5+Math.abs(Xn)/20);if(J==="y"){if(ct.includes("top")||ct.includes("bottom"))if(ct.includes("top")&&Qe<0||ct.includes("bottom")&&Qe>0)ut.y=Qe;else{const Xn=Qe*sl(Qe);ut.y=Math.abs(Xn)<Math.abs(Qe)?Xn:Qe}}else if(J==="x"&&(ct.includes("left")||ct.includes("right")))if(ct.includes("left")&&we<0||ct.includes("right")&&we>0)ut.x=we;else{const Xn=we*sl(we);ut.x=Math.abs(Xn)<Math.abs(we)?Xn:we}(Math.abs(ut.x)>0||Math.abs(ut.y)>0)&&Sn(!0),(Ge=nn.current)==null||Ge.style.setProperty("--swipe-amount-x",`${ut.x}px`),(_t=nn.current)==null||_t.style.setProperty("--swipe-amount-y",`${ut.y}px`)}},lt&&!d.jsx&&Ct!=="loading"?U.createElement("button",{"aria-label":Y,"data-disabled":ds,"data-close-button":!0,onClick:ds||!Pn?()=>{}:()=>{gn(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Cn(W==null?void 0:W.closeButton,d==null||(r=d.classNames)==null?void 0:r.closeButton)},(ci=G==null?void 0:G.close)!=null?ci:JA):null,(Ct||d.icon||d.promise)&&d.icon!==null&&((G==null?void 0:G[Ct])!==null||d.icon)?U.createElement("div",{"data-icon":"",className:Cn(W==null?void 0:W.icon,d==null||(s=d.classNames)==null?void 0:s.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||rl():null,d.type!=="loading"?fs:null):null,U.createElement("div",{"data-content":"",className:Cn(W==null?void 0:W.content,d==null||(i=d.classNames)==null?void 0:i.content)},U.createElement("div",{"data-title":"",className:Cn(W==null?void 0:W.title,d==null||(o=d.classNames)==null?void 0:o.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?U.createElement("div",{"data-description":"",className:Cn(k,Ja,W==null?void 0:W.description,d==null||(a=d.classNames)==null?void 0:a.description)},typeof d.description=="function"?d.description():d.description):null),U.isValidElement(d.cancel)?d.cancel:d.cancel&&bl(d.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||b,onClick:Z=>{bl(d.cancel)&&Pn&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,Z),gn())},className:Cn(W==null?void 0:W.cancelButton,d==null||(l=d.classNames)==null?void 0:l.cancelButton)},d.cancel.label):null,U.isValidElement(d.action)?d.action:d.action&&bl(d.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||T,onClick:Z=>{bl(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,Z),!Z.defaultPrevented&&gn())},className:Cn(W==null?void 0:W.actionButton,d==null||(u=d.classNames)==null?void 0:u.actionButton)},d.action.label):null)};function Zm(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function mS(n,e){const t={};return[n,e].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?lS:aS;function l(u){["top","right","bottom","left"].forEach(h=>{t[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?t[`${o}-${u}`]=a:t[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),t}const gS=U.forwardRef(function(e,t){const{id:r,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:l,className:u,offset:h,mobileOffset:d,theme:m="light",richColors:g,duration:w,style:_,visibleToasts:v=oS,toastOptions:x,dir:A=Zm(),gap:S=uS,icons:D,containerAriaLabel:R="Notifications"}=e,[V,E]=U.useState([]),b=U.useMemo(()=>r?V.filter(q=>q.toasterId===r):V.filter(q=>!q.toasterId),[V,r]),T=U.useMemo(()=>Array.from(new Set([i].concat(b.filter(q=>q.position).map(q=>q.position)))),[b,i]),[C,k]=U.useState([]),[N,P]=U.useState(!1),[z,Q]=U.useState(!1),[W,G]=U.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=U.useRef(null),J=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),le=U.useRef(null),ee=U.useRef(!1),ge=U.useCallback(q=>{E(ie=>{var ue;return(ue=ie.find(Lt=>Lt.id===q.id))!=null&&ue.delete||jt.dismiss(q.id),ie.filter(({id:Lt})=>Lt!==q.id)})},[]);return U.useEffect(()=>jt.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{E(ie=>ie.map(ue=>ue.id===q.id?{...ue,delete:!0}:ue))});return}setTimeout(()=>{pI.flushSync(()=>{E(ie=>{const ue=ie.findIndex(Lt=>Lt.id===q.id);return ue!==-1?[...ie.slice(0,ue),{...ie[ue],...q},...ie.slice(ue+1)]:[q,...ie]})})})}),[V]),U.useEffect(()=>{if(m!=="system"){G(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:ie})=>{G(ie?"dark":"light")})}catch{q.addListener(({matches:ue})=>{try{G(ue?"dark":"light")}catch(Lt){console.error(Lt)}})}},[m]),U.useEffect(()=>{V.length<=1&&P(!1)},[V]),U.useEffect(()=>{const q=ie=>{var ue;if(o.every(Ie=>ie[Ie]||ie.code===Ie)){var mn;P(!0),(mn=Y.current)==null||mn.focus()}ie.code==="Escape"&&(document.activeElement===Y.current||(ue=Y.current)!=null&&ue.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[o]),U.useEffect(()=>{if(Y.current)return()=>{le.current&&(le.current.focus({preventScroll:!0}),le.current=null,ee.current=!1)}},[Y.current]),U.createElement("section",{ref:t,"aria-label":`${R} ${J}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((q,ie)=>{var ue;const[Lt,mn]=q.split("-");return b.length?U.createElement("ol",{key:q,dir:A==="auto"?Zm():A,tabIndex:-1,ref:Y,className:u,"data-sonner-toaster":!0,"data-sonner-theme":W,"data-y-position":Lt,"data-x-position":mn,style:{"--front-toast-height":`${((ue=C[0])==null?void 0:ue.height)||0}px`,"--width":`${cS}px`,"--gap":`${S}px`,..._,...mS(h,d)},onBlur:Ie=>{ee.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(ee.current=!1,le.current&&(le.current.focus({preventScroll:!0}),le.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||ee.current||(ee.current=!0,le.current=Ie.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{z||P(!1)},onDragEnd:()=>P(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},b.filter(Ie=>!Ie.position&&ie===0||Ie.position===q).map((Ie,br)=>{var Kn,Qn;return U.createElement(pS,{key:Ie.id,icons:D,index:br,toast:Ie,defaultRichColors:g,duration:(Kn=x==null?void 0:x.duration)!=null?Kn:w,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:s,visibleToasts:v,closeButton:(Qn=x==null?void 0:x.closeButton)!=null?Qn:l,interacting:z,position:q,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:ge,toasts:b.filter(Sn=>Sn.position==Ie.position),heights:C.filter(Sn=>Sn.position==Ie.position),setHeights:k,expandByDefault:a,gap:S,expanded:N,swipeDirections:e.swipeDirections})})):null}))}),yS=({...n})=>f.jsx(gS,{theme:"light",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n});var[Mc]=pv("Tooltip",[_v]),Lc=_v(),t0="TooltipProvider",_S=700,Ch="tooltip.open",[vS,ef]=Mc(t0),n0=n=>{const{__scopeTooltip:e,delayDuration:t=_S,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,o=O.useRef(!0),a=O.useRef(!1),l=O.useRef(0);return O.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),f.jsx(vS,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:O.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:O.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:O.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};n0.displayName=t0;var ra="Tooltip",[wS,jc]=Mc(ra),r0=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=n,l=ef(ra,n.__scopeTooltip),u=Lc(e),[h,d]=O.useState(null),m=cI(),g=O.useRef(0),w=o??l.disableHoverableContent,_=a??l.delayDuration,v=O.useRef(!1),[x,A]=mv({prop:r,defaultProp:s??!1,onChange:E=>{E?(l.onOpen(),document.dispatchEvent(new CustomEvent(Ch))):l.onClose(),i==null||i(E)},caller:ra}),S=O.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),D=O.useCallback(()=>{window.clearTimeout(g.current),g.current=0,v.current=!1,A(!0)},[A]),R=O.useCallback(()=>{window.clearTimeout(g.current),g.current=0,A(!1)},[A]),V=O.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{v.current=!0,A(!0),g.current=0},_)},[_,A]);return O.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),f.jsx(uI,{...u,children:f.jsx(wS,{scope:e,contentId:m,open:x,stateAttribute:S,trigger:h,onTriggerChange:d,onTriggerEnter:O.useCallback(()=>{l.isOpenDelayedRef.current?V():D()},[l.isOpenDelayedRef,V,D]),onTriggerLeave:O.useCallback(()=>{w?R():(window.clearTimeout(g.current),g.current=0)},[R,w]),onOpen:D,onClose:R,disableHoverableContent:w,children:t})})};r0.displayName=ra;var kh="TooltipTrigger",s0=O.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=jc(kh,t),i=ef(kh,t),o=Lc(t),a=O.useRef(null),l=Oc(e,a,s.onTriggerChange),u=O.useRef(!1),h=O.useRef(!1),d=O.useCallback(()=>u.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),f.jsx(hI,{asChild:!0,...o,children:f.jsx(ei.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Et(n.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Et(n.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Et(n.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Et(n.onFocus,()=>{u.current||s.onOpen()}),onBlur:Et(n.onBlur,s.onClose),onClick:Et(n.onClick,s.onClose)})})});s0.displayName=kh;var bS="TooltipPortal",[L4,TS]=Mc(bS,{forceMount:void 0}),$i="TooltipContent",i0=O.forwardRef((n,e)=>{const t=TS($i,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,o=jc($i,n.__scopeTooltip);return f.jsx(gv,{present:r||o.open,children:o.disableHoverableContent?f.jsx(o0,{side:s,...i,ref:e}):f.jsx(xS,{side:s,...i,ref:e})})}),xS=O.forwardRef((n,e)=>{const t=jc($i,n.__scopeTooltip),r=ef($i,n.__scopeTooltip),s=O.useRef(null),i=Oc(e,s),[o,a]=O.useState(null),{trigger:l,onClose:u}=t,h=s.current,{onPointerInTransitChange:d}=r,m=O.useCallback(()=>{a(null),d(!1)},[d]),g=O.useCallback((w,_)=>{const v=w.currentTarget,x={x:w.clientX,y:w.clientY},A=PS(x,v.getBoundingClientRect()),S=RS(x,A),D=CS(_.getBoundingClientRect()),R=NS([...S,...D]);a(R),d(!0)},[d]);return O.useEffect(()=>()=>m(),[m]),O.useEffect(()=>{if(l&&h){const w=v=>g(v,h),_=v=>g(v,l);return l.addEventListener("pointerleave",w),h.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",_)}}},[l,h,g,m]),O.useEffect(()=>{if(o){const w=_=>{const v=_.target,x={x:_.clientX,y:_.clientY},A=(l==null?void 0:l.contains(v))||(h==null?void 0:h.contains(v)),S=!kS(x,o);A?m():S&&(m(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[l,h,o,u,m]),f.jsx(o0,{...n,ref:i})}),[ES,IS]=Mc(ra,{isInside:!1}),AS=aI("TooltipContent"),o0=O.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=n,l=jc($i,t),u=Lc(t),{onClose:h}=l;return O.useEffect(()=>(document.addEventListener(Ch,h),()=>document.removeEventListener(Ch,h)),[h]),O.useEffect(()=>{if(l.trigger){const d=m=>{const g=m.target;g!=null&&g.contains(l.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,h]),f.jsx(iI,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:f.jsxs(oI,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(AS,{children:r}),f.jsx(ES,{scope:t,isInside:!0,children:f.jsx(lI,{id:l.contentId,role:"tooltip",children:s||r})})]})})});i0.displayName=$i;var a0="TooltipArrow",SS=O.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Lc(t);return IS(a0,t).isInside?null:f.jsx(dI,{...s,...r,ref:e})});SS.displayName=a0;function PS(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function RS(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function CS(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function kS(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,h=a.y,d=l.x,m=l.y;h>r!=m>r&&t<(d-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function NS(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),DS(e)}function DS(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var OS=n0,VS=r0,MS=s0,l0=i0;const LS=OS,j4=VS,F4=MS,jS=O.forwardRef(({className:n,sideOffset:e=4,...t},r)=>f.jsx(l0,{ref:r,sideOffset:e,className:wr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));jS.displayName=l0.displayName;var Fc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},FS={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},Vr,Hd,iv,US=(iv=class{constructor(){de(this,Vr,FS);de(this,Hd,!1)}setTimeoutProvider(n){ne(this,Vr,n)}setTimeout(n,e){return j(this,Vr).setTimeout(n,e)}clearTimeout(n){j(this,Vr).clearTimeout(n)}setInterval(n,e){return j(this,Vr).setInterval(n,e)}clearInterval(n){j(this,Vr).clearInterval(n)}},Vr=new WeakMap,Hd=new WeakMap,iv),Nh=new US;function BS(n){setTimeout(n,0)}var Uc=typeof window>"u"||"Deno"in globalThis;function bn(){}function zS(n,e){return typeof n=="function"?n(e):n}function $S(n){return typeof n=="number"&&n>=0&&n!==1/0}function qS(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Dh(n,e){return typeof n=="function"?n(e):n}function GS(n,e){return typeof n=="function"?n(e):n}function eg(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==tf(o,e.options))return!1}else if(!ia(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function tg(n,e){const{exact:t,status:r,predicate:s,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(sa(e.options.mutationKey)!==sa(i))return!1}else if(!ia(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function tf(n,e){return((e==null?void 0:e.queryKeyHashFn)||sa)(n)}function sa(n){return JSON.stringify(n,(e,t)=>Oh(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function ia(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>ia(n[t],e[t])):!1}var HS=Object.prototype.hasOwnProperty;function c0(n,e){if(n===e)return n;const t=ng(n)&&ng(e);if(!t&&!(Oh(n)&&Oh(e)))return e;const s=(t?n:Object.keys(n)).length,i=t?e:Object.keys(e),o=i.length,a=t?new Array(o):{};let l=0;for(let u=0;u<o;u++){const h=t?u:i[u],d=n[h],m=e[h];if(d===m){a[h]=d,(t?u<s:HS.call(n,h))&&l++;continue}if(d===null||m===null||typeof d!="object"||typeof m!="object"){a[h]=m;continue}const g=c0(d,m);a[h]=g,g===d&&l++}return s===o&&l===s?n:a}function ng(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Oh(n){if(!rg(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!rg(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function rg(n){return Object.prototype.toString.call(n)==="[object Object]"}function WS(n){return new Promise(e=>{Nh.setTimeout(e,n)})}function KS(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?c0(n,e):e}function QS(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function YS(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var nf=Symbol();function u0(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===nf?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Ns,Mr,Vi,ov,XS=(ov=class extends Fc{constructor(){super();de(this,Ns);de(this,Mr);de(this,Vi);ne(this,Vi,e=>{if(!Uc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){j(this,Mr)||this.setEventListener(j(this,Vi))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Mr))==null||e.call(this),ne(this,Mr,void 0))}setEventListener(e){var t;ne(this,Vi,e),(t=j(this,Mr))==null||t.call(this),ne(this,Mr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){j(this,Ns)!==e&&(ne(this,Ns,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof j(this,Ns)=="boolean"?j(this,Ns):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ns=new WeakMap,Mr=new WeakMap,Vi=new WeakMap,ov),h0=new XS;function JS(){let n,e;const t=new Promise((s,i)=>{n=s,e=i});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}var ZS=BS;function eP(){let n=[],e=0,t=a=>{a()},r=a=>{a()},s=ZS;const i=a=>{e?n.push(a):s(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Dt=eP(),Mi,Lr,Li,av,tP=(av=class extends Fc{constructor(){super();de(this,Mi,!0);de(this,Lr);de(this,Li);ne(this,Li,e=>{if(!Uc&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,Lr)||this.setEventListener(j(this,Li))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Lr))==null||e.call(this),ne(this,Lr,void 0))}setEventListener(e){var t;ne(this,Li,e),(t=j(this,Lr))==null||t.call(this),ne(this,Lr,e(this.setOnline.bind(this)))}setOnline(e){j(this,Mi)!==e&&(ne(this,Mi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return j(this,Mi)}},Mi=new WeakMap,Lr=new WeakMap,Li=new WeakMap,av),rc=new tP;function nP(n){return Math.min(1e3*2**n,3e4)}function d0(n){return(n??"online")==="online"?rc.isOnline():!0}var Vh=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function f0(n){let e=!1,t=0,r;const s=JS(),i=()=>s.status!=="pending",o=_=>{var v;if(!i()){const x=new Vh(_);m(x),(v=n.onCancel)==null||v.call(n,x)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>h0.isFocused()&&(n.networkMode==="always"||rc.isOnline())&&n.canRun(),h=()=>d0(n.networkMode)&&n.canRun(),d=_=>{i()||(r==null||r(),s.resolve(_))},m=_=>{i()||(r==null||r(),s.reject(_))},g=()=>new Promise(_=>{var v;r=x=>{(i()||u())&&_(x)},(v=n.onPause)==null||v.call(n)}).then(()=>{var _;r=void 0,i()||(_=n.onContinue)==null||_.call(n)}),w=()=>{if(i())return;let _;const v=t===0?n.initialPromise:void 0;try{_=v??n.fn()}catch(x){_=Promise.reject(x)}Promise.resolve(_).then(d).catch(x=>{var V;if(i())return;const A=n.retry??(Uc?0:3),S=n.retryDelay??nP,D=typeof S=="function"?S(t,x):S,R=A===!0||typeof A=="number"&&t<A||typeof A=="function"&&A(t,x);if(e||!R){m(x);return}t++,(V=n.onFail)==null||V.call(n,t,x),WS(D).then(()=>u()?void 0:g()).then(()=>{e?m(x):w()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?w():g().then(w),s)}}var Ds,lv,p0=(lv=class{constructor(){de(this,Ds)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$S(this.gcTime)&&ne(this,Ds,Nh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Uc?1/0:5*60*1e3))}clearGcTimeout(){j(this,Ds)&&(Nh.clearTimeout(j(this,Ds)),ne(this,Ds,void 0))}},Ds=new WeakMap,lv),Os,ji,cn,Vs,it,Pa,Ms,Tn,tr,cv,rP=(cv=class extends p0{constructor(t){super();de(this,Tn);de(this,Os);de(this,ji);de(this,cn);de(this,Vs);de(this,it);de(this,Pa);de(this,Ms);ne(this,Ms,!1),ne(this,Pa,t.defaultOptions),this.setOptions(t.options),this.observers=[],ne(this,Vs,t.client),ne(this,cn,j(this,Vs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ne(this,Os,sg(this.options)),this.state=t.state??j(this,Os),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=j(this,it))==null?void 0:t.promise}setOptions(t){if(this.options={...j(this,Pa),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=sg(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),ne(this,Os,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,cn).remove(this)}setData(t,r){const s=KS(this.state.data,t,this.options);return bt(this,Tn,tr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){bt(this,Tn,tr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,i;const r=(s=j(this,it))==null?void 0:s.promise;return(i=j(this,it))==null||i.cancel(t),r?r.then(bn).catch(bn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,Os))}isActive(){return this.observers.some(t=>GS(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Dh(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!qS(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=j(this,it))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=j(this,it))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),j(this,cn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(j(this,it)&&(j(this,Ms)?j(this,it).cancel({revert:!0}):j(this,it).cancelRetry()),this.scheduleGc()),j(this,cn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||bt(this,Tn,tr).call(this,{type:"invalidate"})}async fetch(t,r){var u,h,d,m,g,w,_,v,x,A,S,D;if(this.state.fetchStatus!=="idle"&&((u=j(this,it))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(j(this,it))return j(this,it).continueRetry(),j(this,it).promise}if(t&&this.setOptions(t),!this.options.queryFn){const R=this.observers.find(V=>V.options.queryFn);R&&this.setOptions(R.options)}const s=new AbortController,i=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(ne(this,Ms,!0),s.signal)})},o=()=>{const R=u0(this.options,r),E=(()=>{const b={client:j(this,Vs),queryKey:this.queryKey,meta:this.meta};return i(b),b})();return ne(this,Ms,!1),this.options.persister?this.options.persister(R,E,this):R(E)},l=(()=>{const R={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:j(this,Vs),state:this.state,fetchFn:o};return i(R),R})();(h=this.options.behavior)==null||h.onFetch(l,this),ne(this,ji,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&bt(this,Tn,tr).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta}),ne(this,it,f0({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:R=>{R instanceof Vh&&R.revert&&this.setState({...j(this,ji),fetchStatus:"idle"}),s.abort()},onFail:(R,V)=>{bt(this,Tn,tr).call(this,{type:"failed",failureCount:R,error:V})},onPause:()=>{bt(this,Tn,tr).call(this,{type:"pause"})},onContinue:()=>{bt(this,Tn,tr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const R=await j(this,it).start();if(R===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(R),(w=(g=j(this,cn).config).onSuccess)==null||w.call(g,R,this),(v=(_=j(this,cn).config).onSettled)==null||v.call(_,R,this.state.error,this),R}catch(R){if(R instanceof Vh){if(R.silent)return j(this,it).promise;if(R.revert){if(this.state.data===void 0)throw R;return this.state.data}}throw bt(this,Tn,tr).call(this,{type:"error",error:R}),(A=(x=j(this,cn).config).onError)==null||A.call(x,R,this),(D=(S=j(this,cn).config).onSettled)==null||D.call(S,this.state.data,R,this),R}finally{this.scheduleGc()}}},Os=new WeakMap,ji=new WeakMap,cn=new WeakMap,Vs=new WeakMap,it=new WeakMap,Pa=new WeakMap,Ms=new WeakMap,Tn=new WeakSet,tr=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...sP(s.data,this.options),fetchMeta:t.meta??null};case"success":const i={...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,ji,t.manual?i:void 0),i;case"error":const o=t.error;return{...s,error:o,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),Dt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),j(this,cn).notify({query:this,type:"updated",action:t})})},cv);function sP(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d0(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function sg(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}function ig(n){return{onFetch:(e,t)=>{var h,d,m,g,w;const r=e.options,s=(m=(d=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let _=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},x=u0(e.options,e.fetchOptions),A=async(S,D,R)=>{if(_)return Promise.reject();if(D==null&&S.pages.length)return Promise.resolve(S);const E=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:D,direction:R?"backward":"forward",meta:e.options.meta};return v(k),k})(),b=await x(E),{maxPages:T}=e.options,C=R?YS:QS;return{pages:C(S.pages,b,T),pageParams:C(S.pageParams,D,T)}};if(s&&i.length){const S=s==="backward",D=S?iP:og,R={pages:i,pageParams:o},V=D(r,R);a=await A(R,V,S)}else{const S=n??i.length;do{const D=l===0?o[0]??r.initialPageParam:og(r,a);if(l>0&&D==null)break;a=await A(a,D),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var _,v;return(v=(_=e.options).persister)==null?void 0:v.call(_,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function og(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function iP(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Ra,Nn,Nt,Ls,Dn,Rr,uv,oP=(uv=class extends p0{constructor(t){super();de(this,Dn);de(this,Ra);de(this,Nn);de(this,Nt);de(this,Ls);ne(this,Ra,t.client),this.mutationId=t.mutationId,ne(this,Nt,t.mutationCache),ne(this,Nn,[]),this.state=t.state||aP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){j(this,Nn).includes(t)||(j(this,Nn).push(t),this.clearGcTimeout(),j(this,Nt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ne(this,Nn,j(this,Nn).filter(r=>r!==t)),this.scheduleGc(),j(this,Nt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){j(this,Nn).length||(this.state.status==="pending"?this.scheduleGc():j(this,Nt).remove(this))}continue(){var t;return((t=j(this,Ls))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,u,h,d,m,g,w,_,v,x,A,S,D,R,V,E,b,T,C;const r=()=>{bt(this,Dn,Rr).call(this,{type:"continue"})},s={client:j(this,Ra),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,Ls,f0({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(k,N)=>{bt(this,Dn,Rr).call(this,{type:"failed",failureCount:k,error:N})},onPause:()=>{bt(this,Dn,Rr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Nt).canRun(this)}));const i=this.state.status==="pending",o=!j(this,Ls).canStart();try{if(i)r();else{bt(this,Dn,Rr).call(this,{type:"pending",variables:t,isPaused:o}),await((l=(a=j(this,Nt).config).onMutate)==null?void 0:l.call(a,t,this,s));const N=await((h=(u=this.options).onMutate)==null?void 0:h.call(u,t,s));N!==this.state.context&&bt(this,Dn,Rr).call(this,{type:"pending",context:N,variables:t,isPaused:o})}const k=await j(this,Ls).start();return await((m=(d=j(this,Nt).config).onSuccess)==null?void 0:m.call(d,k,t,this.state.context,this,s)),await((w=(g=this.options).onSuccess)==null?void 0:w.call(g,k,t,this.state.context,s)),await((v=(_=j(this,Nt).config).onSettled)==null?void 0:v.call(_,k,null,this.state.variables,this.state.context,this,s)),await((A=(x=this.options).onSettled)==null?void 0:A.call(x,k,null,t,this.state.context,s)),bt(this,Dn,Rr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((D=(S=j(this,Nt).config).onError)==null?void 0:D.call(S,k,t,this.state.context,this,s)),await((V=(R=this.options).onError)==null?void 0:V.call(R,k,t,this.state.context,s)),await((b=(E=j(this,Nt).config).onSettled)==null?void 0:b.call(E,void 0,k,this.state.variables,this.state.context,this,s)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,k,t,this.state.context,s)),k}finally{bt(this,Dn,Rr).call(this,{type:"error",error:k})}}finally{j(this,Nt).runNext(this)}}},Ra=new WeakMap,Nn=new WeakMap,Nt=new WeakMap,Ls=new WeakMap,Dn=new WeakSet,Rr=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dt.batch(()=>{j(this,Nn).forEach(s=>{s.onMutationUpdate(t)}),j(this,Nt).notify({mutation:this,type:"updated",action:t})})},uv);function aP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sr,xn,Ca,hv,lP=(hv=class extends Fc{constructor(e={}){super();de(this,sr);de(this,xn);de(this,Ca);this.config=e,ne(this,sr,new Set),ne(this,xn,new Map),ne(this,Ca,0)}build(e,t,r){const s=new oP({client:e,mutationCache:this,mutationId:++vl(this,Ca)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){j(this,sr).add(e);const t=Tl(e);if(typeof t=="string"){const r=j(this,xn).get(t);r?r.push(e):j(this,xn).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(j(this,sr).delete(e)){const t=Tl(e);if(typeof t=="string"){const r=j(this,xn).get(t);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&j(this,xn).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Tl(e);if(typeof t=="string"){const r=j(this,xn).get(t),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const t=Tl(e);if(typeof t=="string"){const s=(r=j(this,xn).get(t))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dt.batch(()=>{j(this,sr).forEach(e=>{this.notify({type:"removed",mutation:e})}),j(this,sr).clear(),j(this,xn).clear()})}getAll(){return Array.from(j(this,sr))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>tg(t,r))}findAll(e={}){return this.getAll().filter(t=>tg(e,t))}notify(e){Dt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Dt.batch(()=>Promise.all(e.map(t=>t.continue().catch(bn))))}},sr=new WeakMap,xn=new WeakMap,Ca=new WeakMap,hv);function Tl(n){var e;return(e=n.options.scope)==null?void 0:e.id}var On,dv,cP=(dv=class extends Fc{constructor(e={}){super();de(this,On);this.config=e,ne(this,On,new Map)}build(e,t,r){const s=t.queryKey,i=t.queryHash??tf(s,t);let o=this.get(i);return o||(o=new rP({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){j(this,On).has(e.queryHash)||(j(this,On).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=j(this,On).get(e.queryHash);t&&(e.destroy(),t===e&&j(this,On).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,On).get(e)}getAll(){return[...j(this,On).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>eg(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>eg(e,r)):t}notify(e){Dt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},On=new WeakMap,dv),je,jr,Fr,Fi,Ui,Ur,Bi,zi,fv,uP=(fv=class{constructor(n={}){de(this,je);de(this,jr);de(this,Fr);de(this,Fi);de(this,Ui);de(this,Ur);de(this,Bi);de(this,zi);ne(this,je,n.queryCache||new cP),ne(this,jr,n.mutationCache||new lP),ne(this,Fr,n.defaultOptions||{}),ne(this,Fi,new Map),ne(this,Ui,new Map),ne(this,Ur,0)}mount(){vl(this,Ur)._++,j(this,Ur)===1&&(ne(this,Bi,h0.subscribe(async n=>{n&&(await this.resumePausedMutations(),j(this,je).onFocus())})),ne(this,zi,rc.subscribe(async n=>{n&&(await this.resumePausedMutations(),j(this,je).onOnline())})))}unmount(){var n,e;vl(this,Ur)._--,j(this,Ur)===0&&((n=j(this,Bi))==null||n.call(this),ne(this,Bi,void 0),(e=j(this,zi))==null||e.call(this),ne(this,zi,void 0))}isFetching(n){return j(this,je).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return j(this,jr).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=j(this,je).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=j(this,je).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Dh(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return j(this,je).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),s=j(this,je).get(r.queryHash),i=s==null?void 0:s.state.data,o=zS(e,i);if(o!==void 0)return j(this,je).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Dt.batch(()=>j(this,je).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=j(this,je).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=j(this,je);Dt.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=j(this,je);return Dt.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Dt.batch(()=>j(this,je).findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(bn).catch(bn)}invalidateQueries(n,e={}){return Dt.batch(()=>(j(this,je).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Dt.batch(()=>j(this,je).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,t);return t.throwOnError||(i=i.catch(bn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(bn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=j(this,je).build(this,e);return t.isStaleByTime(Dh(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(bn).catch(bn)}fetchInfiniteQuery(n){return n.behavior=ig(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(bn).catch(bn)}ensureInfiniteQueryData(n){return n.behavior=ig(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return rc.isOnline()?j(this,jr).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,je)}getMutationCache(){return j(this,jr)}getDefaultOptions(){return j(this,Fr)}setDefaultOptions(n){ne(this,Fr,n)}setQueryDefaults(n,e){j(this,Fi).set(sa(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...j(this,Fi).values()],t={};return e.forEach(r=>{ia(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){j(this,Ui).set(sa(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...j(this,Ui).values()],t={};return e.forEach(r=>{ia(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...j(this,Fr).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=tf(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===nf&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...j(this,Fr).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){j(this,je).clear(),j(this,jr).clear()}},je=new WeakMap,jr=new WeakMap,Fr=new WeakMap,Fi=new WeakMap,Ui=new WeakMap,Ur=new WeakMap,Bi=new WeakMap,zi=new WeakMap,fv),hP=O.createContext(void 0),dP=({client:n,children:e})=>(O.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),f.jsx(hP.Provider,{value:n,children:e})),ag={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},fP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],a=n[t++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},g0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,a=o?n[s+1]:0,l=s+2<n.length,u=l?n[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(m=64)),r.push(t[h],t[d],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(m0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],a=s<n.length?t[n.charAt(s)]:0;++s;const u=s<n.length?t[n.charAt(s)]:64;++s;const d=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new pP;const m=i<<2|a>>4;if(r.push(m),u!==64){const g=a<<4&240|u>>2;if(r.push(g),d!==64){const w=u<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class pP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mP=function(n){const e=m0(n);return g0.encodeByteArray(e,!0)},sc=function(n){return mP(n).replace(/\./g,"")},y0=function(n){try{return g0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=()=>gP().__FIREBASE_DEFAULTS__,_P=()=>{if(typeof process>"u"||typeof ag>"u")return;const n=ag.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&y0(n[1]);return e&&JSON.parse(e)},Bc=()=>{try{return yP()||_P()||vP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_0=n=>{var e,t;return(t=(e=Bc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},v0=n=>{const e=_0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},w0=()=>{var n;return(n=Bc())===null||n===void 0?void 0:n.config},b0=n=>{var e;return(e=Bc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sc(JSON.stringify(t)),sc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function TP(){var n;const e=(n=Bc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function IP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AP(){const n=Rt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function SP(){return!TP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PP(){try{return typeof indexedDB=="object"}catch{return!1}}function RP(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="FirebaseError";class Wn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CP,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Na.prototype.create)}}class Na{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?kP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Wn(s,a,r)}}function kP(n,e){return n.replace(NP,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const NP=/\{\$([^}]+)}/g;function DP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ic(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(lg(i)&&lg(o)){if(!ic(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function lg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function OP(n,e){const t=new VP(n,e);return t.subscribe.bind(t)}class VP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");MP(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=ju),s.error===void 0&&(s.error=ju),s.complete===void 0&&(s.complete=ju);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ju(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n){return n&&n._delegate?n._delegate:n}class Yr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new wP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FP(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jP(n){return n===Ts?void 0:n}function FP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(fe||(fe={}));const BP={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},zP=fe.INFO,$P={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},qP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=$P[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rf{constructor(e){this.name=e,this._logLevel=zP,this._logHandler=qP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const GP=(n,e)=>e.some(t=>n instanceof t);let cg,ug;function HP(){return cg||(cg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WP(){return ug||(ug=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x0=new WeakMap,Mh=new WeakMap,E0=new WeakMap,Fu=new WeakMap,sf=new WeakMap;function KP(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(Gr(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&x0.set(t,n)}).catch(()=>{}),sf.set(e,n),e}function QP(n){if(Mh.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});Mh.set(n,e)}let Lh={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||E0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YP(n){Lh=n(Lh)}function XP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Uu(this),e,...t);return E0.set(r,e.sort?e.sort():[e]),Gr(r)}:WP().includes(n)?function(...e){return n.apply(Uu(this),e),Gr(x0.get(this))}:function(...e){return Gr(n.apply(Uu(this),e))}}function JP(n){return typeof n=="function"?XP(n):(n instanceof IDBTransaction&&QP(n),GP(n,HP())?new Proxy(n,Lh):n)}function Gr(n){if(n instanceof IDBRequest)return KP(n);if(Fu.has(n))return Fu.get(n);const e=JP(n);return e!==n&&(Fu.set(n,e),sf.set(e,n)),e}const Uu=n=>sf.get(n);function ZP(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),a=Gr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gr(o.result),l.oldVersion,l.newVersion,Gr(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const eR=["get","getKey","getAll","getAllKeys","count"],tR=["put","add","delete","clear"],Bu=new Map;function hg(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bu.get(e))return Bu.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=tR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||eR.includes(t)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),s&&l.done]))[0]};return Bu.set(e,i),i}YP(n=>({...n,get:(e,t,r)=>hg(e,t)||n.get(e,t,r),has:(e,t)=>!!hg(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function rR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jh="@firebase/app",dg="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new rf("@firebase/app"),sR="@firebase/app-compat",iR="@firebase/analytics-compat",oR="@firebase/analytics",aR="@firebase/app-check-compat",lR="@firebase/app-check",cR="@firebase/auth",uR="@firebase/auth-compat",hR="@firebase/database",dR="@firebase/data-connect",fR="@firebase/database-compat",pR="@firebase/functions",mR="@firebase/functions-compat",gR="@firebase/installations",yR="@firebase/installations-compat",_R="@firebase/messaging",vR="@firebase/messaging-compat",wR="@firebase/performance",bR="@firebase/performance-compat",TR="@firebase/remote-config",xR="@firebase/remote-config-compat",ER="@firebase/storage",IR="@firebase/storage-compat",AR="@firebase/firestore",SR="@firebase/vertexai-preview",PR="@firebase/firestore-compat",RR="firebase",CR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh="[DEFAULT]",kR={[jh]:"fire-core",[sR]:"fire-core-compat",[oR]:"fire-analytics",[iR]:"fire-analytics-compat",[lR]:"fire-app-check",[aR]:"fire-app-check-compat",[cR]:"fire-auth",[uR]:"fire-auth-compat",[hR]:"fire-rtdb",[dR]:"fire-data-connect",[fR]:"fire-rtdb-compat",[pR]:"fire-fn",[mR]:"fire-fn-compat",[gR]:"fire-iid",[yR]:"fire-iid-compat",[_R]:"fire-fcm",[vR]:"fire-fcm-compat",[wR]:"fire-perf",[bR]:"fire-perf-compat",[TR]:"fire-rc",[xR]:"fire-rc-compat",[ER]:"fire-gcs",[IR]:"fire-gcs-compat",[AR]:"fire-fst",[PR]:"fire-fst-compat",[SR]:"fire-vertex","fire-js":"fire-js",[RR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,NR=new Map,Uh=new Map;function fg(n,e){try{n.container.addComponent(e)}catch(t){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ws(n){const e=n.name;if(Uh.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Uh.set(e,n);for(const t of oc.values())fg(t,n);for(const t of NR.values())fg(t,n);return!0}function zc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ar(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Na("app","Firebase",DR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=CR;function I0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fh,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Hr.create("bad-app-name",{appName:String(s)});if(t||(t=w0()),!t)throw Hr.create("no-options");const i=oc.get(s);if(i){if(ic(t,i.options)&&ic(r,i.config))return i;throw Hr.create("duplicate-app",{appName:s})}const o=new UP(s);for(const l of Uh.values())o.addComponent(l);const a=new OR(t,r,o);return oc.set(s,a),a}function of(n=Fh){const e=oc.get(n);if(!e&&n===Fh&&w0())return I0();if(!e)throw Hr.create("no-app",{appName:n});return e}function jn(n,e,t){var r;let s=(r=kR[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(a.join(" "));return}Ws(new Yr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="firebase-heartbeat-database",MR=1,oa="firebase-heartbeat-store";let zu=null;function A0(){return zu||(zu=ZP(VR,MR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(oa)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hr.create("idb-open",{originalErrorMessage:n.message})})),zu}async function LR(n){try{const t=(await A0()).transaction(oa),r=await t.objectStore(oa).get(S0(n));return await t.done,r}catch(e){if(e instanceof Wn)dr.warn(e.message);else{const t=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(t.message)}}}async function pg(n,e){try{const r=(await A0()).transaction(oa,"readwrite");await r.objectStore(oa).put(e,S0(n)),await r.done}catch(t){if(t instanceof Wn)dr.warn(t.message);else{const r=Hr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});dr.warn(r.message)}}}function S0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=1024,FR=30*24*60*60*1e3;class UR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=FR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=mg(),{heartbeatsToSend:r,unsentEntries:s}=BR(this._heartbeatsCache.heartbeats),i=sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return dr.warn(t),""}}}function mg(){return new Date().toISOString().substring(0,10)}function BR(n,e=jR){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),gg(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),gg(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class zR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PP()?RP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await LR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return pg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return pg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function gg(n){return sc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n){Ws(new Yr("platform-logger",e=>new nR(e),"PRIVATE")),Ws(new Yr("heartbeat",e=>new UR(e),"PRIVATE")),jn(jh,dg,n),jn(jh,dg,"esm2017"),jn("fire-js","")}$R("");function P0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qR=P0,R0=new Na("auth","Firebase",P0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new rf("@firebase/auth");function GR(n,...e){ac.logLevel<=fe.WARN&&ac.warn(`Auth (${ti}): ${n}`,...e)}function Ul(n,...e){ac.logLevel<=fe.ERROR&&ac.error(`Auth (${ti}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(n,...e){throw lf(n,...e)}function En(n,...e){return lf(n,...e)}function af(n,e,t){const r=Object.assign(Object.assign({},qR()),{[e]:t});return new Na("auth","Firebase",r).create(e,{appName:n.name})}function js(n){return af(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HR(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&qn(n,"argument-error"),af(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lf(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return R0.create(n,...e)}function re(n,e,...t){if(!n)throw lf(e,...t)}function lr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ul(e),new Error(e)}function fr(n,e){n||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function WR(){return yg()==="http:"||yg()==="https:"}function yg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WR()||EP()||"connection"in navigator)?navigator.onLine:!0}function QR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t){this.shortDelay=e,this.longDelay=t,fr(t>e,"Short delay should be less than long delay!"),this.isMobile=bP()||IP()}get(){return KR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(n,e){fr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new Oa(3e4,6e4);function uf(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ao(n,e,t,r,s={}){return k0(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Da(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:l},i);return xP()||(u.referrerPolicy="no-referrer"),C0.fetch()(N0(n,n.config.apiHost,t,a),u)})}async function k0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},YR),e);try{const s=new ZR(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw xl(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xl(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xl(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw xl(n,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw af(n,h,u);qn(n,h)}}catch(s){if(s instanceof Wn)throw s;qn(n,"network-request-failed",{message:String(s)})}}async function JR(n,e,t,r,s={}){const i=await ao(n,e,t,r,s);return"mfaPendingCredential"in i&&qn(n,"multi-factor-auth-required",{_serverResponse:i}),i}function N0(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?cf(n.config,s):`${n.config.apiScheme}://${s}`}class ZR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(En(this.auth,"network-request-failed")),XR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xl(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=En(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(n,e){return ao(n,"POST","/v1/accounts:delete",e)}async function D0(n,e){return ao(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tC(n,e=!1){const t=Re(n),r=await t.getIdToken(e),s=$c(r);re(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:qo($u(s.auth_time)),issuedAtTime:qo($u(s.iat)),expirationTime:qo($u(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function $u(n){return Number(n)*1e3}function $c(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ul("JWT malformed, contained fewer than 3 sections"),null;try{const s=y0(t);return s?JSON.parse(s):(Ul("Failed to decode base64 JWT payload"),null)}catch(s){return Ul("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _g(n){const e=$c(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Wn&&nC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function nC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qo(this.lastLoginAt),this.creationTime=qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lc(n){var e;const t=n.auth,r=await n.getIdToken(),s=await aa(n,D0(t,{idToken:r}));re(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?O0(i.providerUserInfo):[],a=iC(n.providerData,o),l=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new zh(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(n,d)}async function sC(n){const e=Re(n);await lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iC(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function O0(n){return n.map(e=>{var{providerId:t}=e,r=Wd(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(n,e){const t=await k0(n,{},async()=>{const r=Da({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=N0(n,s,"/v1/token",`key=${i}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",C0.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aC(n,e){return ao(n,"POST","/v2/accounts:revokeToken",uf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_g(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");const t=_g(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await oC(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new Ai;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ai,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=Wd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await aa(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tC(this,e)}reload(){return sC(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await lc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await aa(this,eC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,o,a,l,u,h;const d=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(s=t.email)!==null&&s!==void 0?s:void 0,g=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=t.photoURL)!==null&&o!==void 0?o:void 0,_=(a=t.tenantId)!==null&&a!==void 0?a:void 0,v=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=t.createdAt)!==null&&u!==void 0?u:void 0,A=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:D,isAnonymous:R,providerData:V,stsTokenManager:E}=t;re(S&&E,e,"internal-error");const b=Ai.fromJSON(this.name,E);re(typeof S=="string",e,"internal-error"),Sr(d,e.name),Sr(m,e.name),re(typeof D=="boolean",e,"internal-error"),re(typeof R=="boolean",e,"internal-error"),Sr(g,e.name),Sr(w,e.name),Sr(_,e.name),Sr(v,e.name),Sr(x,e.name),Sr(A,e.name);const T=new cr({uid:S,auth:e,email:m,emailVerified:D,displayName:d,isAnonymous:R,photoURL:w,phoneNumber:g,tenantId:_,stsTokenManager:b,createdAt:x,lastLoginAt:A});return V&&Array.isArray(V)&&(T.providerData=V.map(C=>Object.assign({},C))),v&&(T._redirectEventId=v),T}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ai;s.updateFromServerResponse(t);const i=new cr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await lc(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?O0(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ai;a.updateFromIdToken(r);const l=new cr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new zh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=new Map;function ur(n){fr(n instanceof Function,"Expected a class definition");let e=vg.get(n);return e?(fr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vg.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}V0.type="NONE";const wg=V0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(n,e,t){return`firebase:${n}:${e}:${t}`}class Si{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Bl(this.userKey,s.apiKey,i),this.fullPersistenceKey=Bl("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Si(ur(wg),e,r);const s=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||ur(wg);const o=Bl(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const h=await u._get(o);if(h){const d=cr._fromJSON(e,h);u!==i&&(a=d),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Si(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Si(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B0(e))return"Blackberry";if(z0(e))return"Webos";if(L0(e))return"Safari";if((e.includes("chrome/")||j0(e))&&!e.includes("edge/"))return"Chrome";if(U0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function M0(n=Rt()){return/firefox\//i.test(n)}function L0(n=Rt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j0(n=Rt()){return/crios\//i.test(n)}function F0(n=Rt()){return/iemobile/i.test(n)}function U0(n=Rt()){return/android/i.test(n)}function B0(n=Rt()){return/blackberry/i.test(n)}function z0(n=Rt()){return/webos/i.test(n)}function hf(n=Rt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lC(n=Rt()){var e;return hf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cC(){return AP()&&document.documentMode===10}function $0(n=Rt()){return hf(n)||U0(n)||z0(n)||B0(n)||/windows phone/i.test(n)||F0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(n,e=[]){let t;switch(n){case"Browser":t=bg(Rt());break;case"Worker":t=`${bg(Rt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ti}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(n,e={}){return ao(n,"GET","/v2/passwordPolicy",uf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=6;class fC{constructor(e){var t,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:dC,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tg(this),this.idTokenSubscription=new Tg(this),this.beforeStateQueue=new uC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ur(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Si.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await D0(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ar(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(js(this));const t=e?Re(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hC(this),t=new fC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Na("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await aC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ur(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=await Si.create(this,[ur(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&GR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function qc(n){return Re(n)}class Tg{constructor(e){this.auth=e,this.observer=null,this.addObserver=OP(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mC(n){df=n}function gC(n){return df.loadJS(n)}function yC(){return df.gapiScript}function _C(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(n,e){const t=zc(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(ic(i,e??{}))return s;qn(s,"already-initialized")}return t.initialize({options:e})}function wC(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ur);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bC(n,e,t){const r=qc(n);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=G0(e),{host:o,port:a}=TC(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),xC()}function G0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TC(n){const e=G0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:xg(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:xg(o)}}}function xg(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function xC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,t){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pi(n,e){return JR(n,"POST","/v1/accounts:signInWithIdp",uf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="http://localhost";class Ks extends H0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=Wd(t,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ks(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Pi(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Pi(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pi(e,t)}buildRequest(){const e={requestUri:EC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Da(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends ff{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Va{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Va{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ks._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ir.credential(t,r)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Va{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Va{constructor(){super("twitter.com")}static credential(e,t){return Ks._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Dr.credential(t,r)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await cr._fromIdTokenResponse(e,r,s),o=Eg(r);return new qi({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Eg(r);return new qi({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Eg(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends Wn{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,cc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new cc(e,t,r,s)}}function W0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?cc._fromErrorAndOperation(n,i,e,r):i})}async function IC(n,e,t=!1){const r=await aa(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qi._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(n,e,t=!1){const{auth:r}=n;if(ar(r.app))return Promise.reject(js(r));const s="reauthenticate";try{const i=await aa(n,W0(r,s,e,n),t);re(i.idToken,r,"internal-error");const o=$c(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(n.uid===a,r,"user-mismatch"),qi._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(n,e,t=!1){if(ar(n.app))return Promise.reject(js(n));const r="signIn",s=await W0(n,r,e),i=await qi._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n){var e,t;if(!n)return null;const{providerId:r}=n,s=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},i=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const o=(t=(e=$c(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Ri(i,a)}}if(!r)return null;switch(r){case"facebook.com":return new RC(i,s);case"github.com":return new CC(i,s);case"google.com":return new kC(i,s);case"twitter.com":return new NC(i,s,n.screenName||null);case"custom":case"anonymous":return new Ri(i,null);default:return new Ri(i,r,s)}}class Ri{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class K0 extends Ri{constructor(e,t,r,s){super(e,t,r),this.username=s}}class RC extends Ri{constructor(e,t){super(e,"facebook.com",t)}}class CC extends K0{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class kC extends Ri{constructor(e,t){super(e,"google.com",t)}}class NC extends K0{constructor(e,t,r){super(e,"twitter.com",t,r)}}function DC(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:PC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(n,e){return Re(n).setPersistence(e)}function Q0(n,e,t,r){return Re(n).onIdTokenChanged(e,t,r)}function VC(n,e,t){return Re(n).beforeAuthStateChanged(e,t)}function z4(n,e,t,r){return Re(n).onAuthStateChanged(e,t,r)}function MC(n){return Re(n).signOut()}const uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uc,"1"),this.storage.removeItem(uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=1e3,jC=10;class X0 extends Y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);cC()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jC):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},LC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}X0.type="LOCAL";const J0=X0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends Y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Z0.type="SESSION";const ew=Z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Gc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(t.origin,i)),l=await FC(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=pf("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const m=d;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function BC(n){Fn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function zC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $C(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function qC(){return tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="firebaseLocalStorageDb",GC=1,hc="firebaseLocalStorage",rw="fbase_key";class Ma{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Hc(n,e){return n.transaction([hc],e?"readwrite":"readonly").objectStore(hc)}function HC(){const n=indexedDB.deleteDatabase(nw);return new Ma(n).toPromise()}function $h(){const n=indexedDB.open(nw,GC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hc,{keyPath:rw})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hc)?e(r):(r.close(),await HC(),e(await $h()))})})}async function Ig(n,e,t){const r=Hc(n,!0).put({[rw]:e,value:t});return new Ma(r).toPromise()}async function WC(n,e){const t=Hc(n,!1).get(e),r=await new Ma(t).toPromise();return r===void 0?null:r.value}function Ag(n,e){const t=Hc(n,!0).delete(e);return new Ma(t).toPromise()}const KC=800,QC=3;class sw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $h(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>QC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gc._getInstance(qC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await zC(),!this.activeServiceWorker)return;this.sender=new UC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$C()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $h();return await Ig(e,uc,"1"),await Ag(e,uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ig(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>WC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ag(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Hc(s,!1).getAll();return new Ma(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sw.type="LOCAL";const YC=sw;new Oa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(n,e){return e?ur(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends H0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XC(n){return SC(n.auth,new mf(n),n.bypassAuthState)}function JC(n){const{auth:e,user:t}=n;return re(t,e,"internal-error"),AC(t,new mf(n),n.bypassAuthState)}async function ZC(n){const{auth:e,user:t}=n;return re(t,e,"internal-error"),IC(t,new mf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XC;case"linkViaPopup":case"linkViaRedirect":return ZC;case"reauthViaPopup":case"reauthViaRedirect":return JC;default:qn(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new Oa(2e3,1e4);async function t1(n,e,t){if(ar(n.app))return Promise.reject(En(n,"operation-not-supported-in-this-environment"));const r=qc(n);HR(n,e,ff);const s=iw(r,t);return new Ss(r,"signInViaPopup",e,s).executeNotNull()}class Ss extends ow{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=pf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(En(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,e1.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="pendingRedirect",zl=new Map;class r1 extends ow{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=zl.get(this.auth._key());if(!e){try{const r=await s1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}zl.set(this.auth._key(),e)}return this.bypassAuthState||zl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s1(n,e){const t=a1(e),r=o1(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function i1(n,e){zl.set(n._key(),e)}function o1(n){return ur(n._redirectPersistence)}function a1(n){return Bl(n1,n.config.apiKey,n.name)}async function l1(n,e,t=!1){if(ar(n.app))return Promise.reject(js(n));const r=qc(n),s=iw(r,e),o=await new r1(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=10*60*1e3;class u1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!aw(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(En(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sg(e))}saveEventToCache(e){this.cachedEventUids.add(Sg(e)),this.lastProcessedEventTime=Date.now()}}function Sg(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function aw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h1(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(n,e={}){return ao(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p1=/^https?/;async function m1(n){if(n.config.emulator)return;const{authorizedDomains:e}=await d1(n);for(const t of e)try{if(g1(t))return}catch{}qn(n,"unauthorized-domain")}function g1(n){const e=Bh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!p1.test(t))return!1;if(f1.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Oa(3e4,6e4);function Pg(){const n=Fn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _1(n){return new Promise((e,t)=>{var r,s,i;function o(){Pg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pg(),t(En(n,"network-request-failed"))},timeout:y1.get()})}if(!((s=(r=Fn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Fn().gapi)===null||i===void 0)&&i.load)o();else{const a=_C("iframefcb");return Fn()[a]=()=>{gapi.load?o():t(En(n,"network-request-failed"))},gC(`${yC()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw $l=null,e})}let $l=null;function v1(n){return $l=$l||_1(n),$l}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new Oa(5e3,15e3),b1="__/auth/iframe",T1="emulator/auth/iframe",x1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I1(n){const e=n.config;re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?cf(e,T1):`https://${n.config.authDomain}/${b1}`,r={apiKey:e.apiKey,appName:n.name,v:ti},s=E1.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Da(r).slice(1)}`}async function A1(n){const e=await v1(n),t=Fn().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:I1(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x1,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=En(n,"network-request-failed"),a=Fn().setTimeout(()=>{i(o)},w1.get());function l(){Fn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P1=500,R1=600,C1="_blank",k1="http://localhost";class Rg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N1(n,e,t,r=P1,s=R1){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},S1),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Rt().toLowerCase();t&&(a=j0(u)?C1:t),M0(u)&&(e=e||k1,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[g,w])=>`${m}${g}=${w},`,"");if(lC(u)&&a!=="_self")return D1(e||"",a),new Rg(null);const d=window.open(e||"",a,h);re(d,n,"popup-blocked");try{d.focus()}catch{}return new Rg(d)}function D1(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="__/auth/handler",V1="emulator/auth/handler",M1=encodeURIComponent("fac");async function Cg(n,e,t,r,s,i){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ti,eventId:s};if(e instanceof ff){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",DP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Va){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await n._getAppCheckToken(),u=l?`#${M1}=${encodeURIComponent(l)}`:"";return`${L1(n)}?${Da(a).slice(1)}${u}`}function L1({config:n}){return n.emulator?cf(n,V1):`https://${n.authDomain}/${O1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu="webStorageSupport";class j1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ew,this._completeRedirectFn=l1,this._overrideRedirectResult=i1}async _openPopup(e,t,r,s){var i;fr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Cg(e,t,r,Bh(),s);return N1(e,o,pf())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await Cg(e,t,r,Bh(),s);return BC(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(fr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await A1(e),r=new u1(e);return t.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qu,{type:qu},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[qu];o!==void 0&&t(!!o),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=m1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $0()||L0()||hf()}}const F1=j1;var kg="@firebase/auth",Ng="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z1(n){Ws(new Yr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q0(n)},u=new pC(r,s,i,l);return wC(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ws(new Yr("auth-internal",e=>{const t=qc(e.getProvider("auth").getImmediate());return(r=>new U1(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(kg,Ng,B1(n)),jn(kg,Ng,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=5*60,q1=b0("authIdTokenMaxAge")||$1;let Dg=null;const G1=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>q1)return;const s=t==null?void 0:t.token;Dg!==s&&(Dg=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function qh(n=of()){const e=zc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=vC(n,{popupRedirectResolver:F1,persistence:[YC,J0,ew]}),r=b0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=G1(i.toString());VC(t,o,()=>o(t.currentUser)),Q0(t,a=>o(a))}}const s=_0("auth");return s&&bC(t,`http://${s}`),t}function H1(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}mC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=En("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",H1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z1("Browser");var Og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,lw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,b){function T(){}T.prototype=b.prototype,E.D=b.prototype,E.prototype=new T,E.prototype.constructor=E,E.C=function(C,k,N){for(var P=Array(arguments.length-2),z=2;z<arguments.length;z++)P[z-2]=arguments[z];return b.prototype[k].apply(C,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,b,T){T||(T=0);var C=Array(16);if(typeof b=="string")for(var k=0;16>k;++k)C[k]=b.charCodeAt(T++)|b.charCodeAt(T++)<<8|b.charCodeAt(T++)<<16|b.charCodeAt(T++)<<24;else for(k=0;16>k;++k)C[k]=b[T++]|b[T++]<<8|b[T++]<<16|b[T++]<<24;b=E.g[0],T=E.g[1],k=E.g[2];var N=E.g[3],P=b+(N^T&(k^N))+C[0]+3614090360&4294967295;b=T+(P<<7&4294967295|P>>>25),P=N+(k^b&(T^k))+C[1]+3905402710&4294967295,N=b+(P<<12&4294967295|P>>>20),P=k+(T^N&(b^T))+C[2]+606105819&4294967295,k=N+(P<<17&4294967295|P>>>15),P=T+(b^k&(N^b))+C[3]+3250441966&4294967295,T=k+(P<<22&4294967295|P>>>10),P=b+(N^T&(k^N))+C[4]+4118548399&4294967295,b=T+(P<<7&4294967295|P>>>25),P=N+(k^b&(T^k))+C[5]+1200080426&4294967295,N=b+(P<<12&4294967295|P>>>20),P=k+(T^N&(b^T))+C[6]+2821735955&4294967295,k=N+(P<<17&4294967295|P>>>15),P=T+(b^k&(N^b))+C[7]+4249261313&4294967295,T=k+(P<<22&4294967295|P>>>10),P=b+(N^T&(k^N))+C[8]+1770035416&4294967295,b=T+(P<<7&4294967295|P>>>25),P=N+(k^b&(T^k))+C[9]+2336552879&4294967295,N=b+(P<<12&4294967295|P>>>20),P=k+(T^N&(b^T))+C[10]+4294925233&4294967295,k=N+(P<<17&4294967295|P>>>15),P=T+(b^k&(N^b))+C[11]+2304563134&4294967295,T=k+(P<<22&4294967295|P>>>10),P=b+(N^T&(k^N))+C[12]+1804603682&4294967295,b=T+(P<<7&4294967295|P>>>25),P=N+(k^b&(T^k))+C[13]+4254626195&4294967295,N=b+(P<<12&4294967295|P>>>20),P=k+(T^N&(b^T))+C[14]+2792965006&4294967295,k=N+(P<<17&4294967295|P>>>15),P=T+(b^k&(N^b))+C[15]+1236535329&4294967295,T=k+(P<<22&4294967295|P>>>10),P=b+(k^N&(T^k))+C[1]+4129170786&4294967295,b=T+(P<<5&4294967295|P>>>27),P=N+(T^k&(b^T))+C[6]+3225465664&4294967295,N=b+(P<<9&4294967295|P>>>23),P=k+(b^T&(N^b))+C[11]+643717713&4294967295,k=N+(P<<14&4294967295|P>>>18),P=T+(N^b&(k^N))+C[0]+3921069994&4294967295,T=k+(P<<20&4294967295|P>>>12),P=b+(k^N&(T^k))+C[5]+3593408605&4294967295,b=T+(P<<5&4294967295|P>>>27),P=N+(T^k&(b^T))+C[10]+38016083&4294967295,N=b+(P<<9&4294967295|P>>>23),P=k+(b^T&(N^b))+C[15]+3634488961&4294967295,k=N+(P<<14&4294967295|P>>>18),P=T+(N^b&(k^N))+C[4]+3889429448&4294967295,T=k+(P<<20&4294967295|P>>>12),P=b+(k^N&(T^k))+C[9]+568446438&4294967295,b=T+(P<<5&4294967295|P>>>27),P=N+(T^k&(b^T))+C[14]+3275163606&4294967295,N=b+(P<<9&4294967295|P>>>23),P=k+(b^T&(N^b))+C[3]+4107603335&4294967295,k=N+(P<<14&4294967295|P>>>18),P=T+(N^b&(k^N))+C[8]+1163531501&4294967295,T=k+(P<<20&4294967295|P>>>12),P=b+(k^N&(T^k))+C[13]+2850285829&4294967295,b=T+(P<<5&4294967295|P>>>27),P=N+(T^k&(b^T))+C[2]+4243563512&4294967295,N=b+(P<<9&4294967295|P>>>23),P=k+(b^T&(N^b))+C[7]+1735328473&4294967295,k=N+(P<<14&4294967295|P>>>18),P=T+(N^b&(k^N))+C[12]+2368359562&4294967295,T=k+(P<<20&4294967295|P>>>12),P=b+(T^k^N)+C[5]+4294588738&4294967295,b=T+(P<<4&4294967295|P>>>28),P=N+(b^T^k)+C[8]+2272392833&4294967295,N=b+(P<<11&4294967295|P>>>21),P=k+(N^b^T)+C[11]+1839030562&4294967295,k=N+(P<<16&4294967295|P>>>16),P=T+(k^N^b)+C[14]+4259657740&4294967295,T=k+(P<<23&4294967295|P>>>9),P=b+(T^k^N)+C[1]+2763975236&4294967295,b=T+(P<<4&4294967295|P>>>28),P=N+(b^T^k)+C[4]+1272893353&4294967295,N=b+(P<<11&4294967295|P>>>21),P=k+(N^b^T)+C[7]+4139469664&4294967295,k=N+(P<<16&4294967295|P>>>16),P=T+(k^N^b)+C[10]+3200236656&4294967295,T=k+(P<<23&4294967295|P>>>9),P=b+(T^k^N)+C[13]+681279174&4294967295,b=T+(P<<4&4294967295|P>>>28),P=N+(b^T^k)+C[0]+3936430074&4294967295,N=b+(P<<11&4294967295|P>>>21),P=k+(N^b^T)+C[3]+3572445317&4294967295,k=N+(P<<16&4294967295|P>>>16),P=T+(k^N^b)+C[6]+76029189&4294967295,T=k+(P<<23&4294967295|P>>>9),P=b+(T^k^N)+C[9]+3654602809&4294967295,b=T+(P<<4&4294967295|P>>>28),P=N+(b^T^k)+C[12]+3873151461&4294967295,N=b+(P<<11&4294967295|P>>>21),P=k+(N^b^T)+C[15]+530742520&4294967295,k=N+(P<<16&4294967295|P>>>16),P=T+(k^N^b)+C[2]+3299628645&4294967295,T=k+(P<<23&4294967295|P>>>9),P=b+(k^(T|~N))+C[0]+4096336452&4294967295,b=T+(P<<6&4294967295|P>>>26),P=N+(T^(b|~k))+C[7]+1126891415&4294967295,N=b+(P<<10&4294967295|P>>>22),P=k+(b^(N|~T))+C[14]+2878612391&4294967295,k=N+(P<<15&4294967295|P>>>17),P=T+(N^(k|~b))+C[5]+4237533241&4294967295,T=k+(P<<21&4294967295|P>>>11),P=b+(k^(T|~N))+C[12]+1700485571&4294967295,b=T+(P<<6&4294967295|P>>>26),P=N+(T^(b|~k))+C[3]+2399980690&4294967295,N=b+(P<<10&4294967295|P>>>22),P=k+(b^(N|~T))+C[10]+4293915773&4294967295,k=N+(P<<15&4294967295|P>>>17),P=T+(N^(k|~b))+C[1]+2240044497&4294967295,T=k+(P<<21&4294967295|P>>>11),P=b+(k^(T|~N))+C[8]+1873313359&4294967295,b=T+(P<<6&4294967295|P>>>26),P=N+(T^(b|~k))+C[15]+4264355552&4294967295,N=b+(P<<10&4294967295|P>>>22),P=k+(b^(N|~T))+C[6]+2734768916&4294967295,k=N+(P<<15&4294967295|P>>>17),P=T+(N^(k|~b))+C[13]+1309151649&4294967295,T=k+(P<<21&4294967295|P>>>11),P=b+(k^(T|~N))+C[4]+4149444226&4294967295,b=T+(P<<6&4294967295|P>>>26),P=N+(T^(b|~k))+C[11]+3174756917&4294967295,N=b+(P<<10&4294967295|P>>>22),P=k+(b^(N|~T))+C[2]+718787259&4294967295,k=N+(P<<15&4294967295|P>>>17),P=T+(N^(k|~b))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+b&4294967295,E.g[1]=E.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+N&4294967295}r.prototype.u=function(E,b){b===void 0&&(b=E.length);for(var T=b-this.blockSize,C=this.B,k=this.h,N=0;N<b;){if(k==0)for(;N<=T;)s(this,E,N),N+=this.blockSize;if(typeof E=="string"){for(;N<b;)if(C[k++]=E.charCodeAt(N++),k==this.blockSize){s(this,C),k=0;break}}else for(;N<b;)if(C[k++]=E[N++],k==this.blockSize){s(this,C),k=0;break}}this.h=k,this.o+=b},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var b=1;b<E.length-8;++b)E[b]=0;var T=8*this.o;for(b=E.length-8;b<E.length;++b)E[b]=T&255,T/=256;for(this.u(E),E=Array(16),b=T=0;4>b;++b)for(var C=0;32>C;C+=8)E[T++]=this.g[b]>>>C&255;return E};function i(E,b){var T=a;return Object.prototype.hasOwnProperty.call(T,E)?T[E]:T[E]=b(E)}function o(E,b){this.h=b;for(var T=[],C=!0,k=E.length-1;0<=k;k--){var N=E[k]|0;C&&N==b||(T[k]=N,C=!1)}this.g=T}var a={};function l(E){return-128<=E&&128>E?i(E,function(b){return new o([b|0],0>b?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return d;if(0>E)return v(u(-E));for(var b=[],T=1,C=0;E>=T;C++)b[C]=E/T|0,T*=4294967296;return new o(b,0)}function h(E,b){if(E.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E.charAt(0)=="-")return v(h(E.substring(1),b));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(b,8)),C=d,k=0;k<E.length;k+=8){var N=Math.min(8,E.length-k),P=parseInt(E.substring(k,k+N),b);8>N?(N=u(Math.pow(b,N)),C=C.j(N).add(u(P))):(C=C.j(T),C=C.add(u(P)))}return C}var d=l(0),m=l(1),g=l(16777216);n=o.prototype,n.m=function(){if(_(this))return-v(this).m();for(var E=0,b=1,T=0;T<this.g.length;T++){var C=this.i(T);E+=(0<=C?C:4294967296+C)*b,b*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(w(this))return"0";if(_(this))return"-"+v(this).toString(E);for(var b=u(Math.pow(E,6)),T=this,C="";;){var k=D(T,b).g;T=x(T,k.j(b));var N=((0<T.g.length?T.g[0]:T.h)>>>0).toString(E);if(T=k,w(T))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function w(E){if(E.h!=0)return!1;for(var b=0;b<E.g.length;b++)if(E.g[b]!=0)return!1;return!0}function _(E){return E.h==-1}n.l=function(E){return E=x(this,E),_(E)?-1:w(E)?0:1};function v(E){for(var b=E.g.length,T=[],C=0;C<b;C++)T[C]=~E.g[C];return new o(T,~E.h).add(m)}n.abs=function(){return _(this)?v(this):this},n.add=function(E){for(var b=Math.max(this.g.length,E.g.length),T=[],C=0,k=0;k<=b;k++){var N=C+(this.i(k)&65535)+(E.i(k)&65535),P=(N>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);C=P>>>16,N&=65535,P&=65535,T[k]=P<<16|N}return new o(T,T[T.length-1]&-2147483648?-1:0)};function x(E,b){return E.add(v(b))}n.j=function(E){if(w(this)||w(E))return d;if(_(this))return _(E)?v(this).j(v(E)):v(v(this).j(E));if(_(E))return v(this.j(v(E)));if(0>this.l(g)&&0>E.l(g))return u(this.m()*E.m());for(var b=this.g.length+E.g.length,T=[],C=0;C<2*b;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(var k=0;k<E.g.length;k++){var N=this.i(C)>>>16,P=this.i(C)&65535,z=E.i(k)>>>16,Q=E.i(k)&65535;T[2*C+2*k]+=P*Q,A(T,2*C+2*k),T[2*C+2*k+1]+=N*Q,A(T,2*C+2*k+1),T[2*C+2*k+1]+=P*z,A(T,2*C+2*k+1),T[2*C+2*k+2]+=N*z,A(T,2*C+2*k+2)}for(C=0;C<b;C++)T[C]=T[2*C+1]<<16|T[2*C];for(C=b;C<2*b;C++)T[C]=0;return new o(T,0)};function A(E,b){for(;(E[b]&65535)!=E[b];)E[b+1]+=E[b]>>>16,E[b]&=65535,b++}function S(E,b){this.g=E,this.h=b}function D(E,b){if(w(b))throw Error("division by zero");if(w(E))return new S(d,d);if(_(E))return b=D(v(E),b),new S(v(b.g),v(b.h));if(_(b))return b=D(E,v(b)),new S(v(b.g),b.h);if(30<E.g.length){if(_(E)||_(b))throw Error("slowDivide_ only works with positive integers.");for(var T=m,C=b;0>=C.l(E);)T=R(T),C=R(C);var k=V(T,1),N=V(C,1);for(C=V(C,2),T=V(T,2);!w(C);){var P=N.add(C);0>=P.l(E)&&(k=k.add(T),N=P),C=V(C,1),T=V(T,1)}return b=x(E,k.j(b)),new S(k,b)}for(k=d;0<=E.l(b);){for(T=Math.max(1,Math.floor(E.m()/b.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=u(T),P=N.j(b);_(P)||0<P.l(E);)T-=C,N=u(T),P=N.j(b);w(N)&&(N=m),k=k.add(N),E=x(E,P)}return new S(k,E)}n.A=function(E){return D(this,E).h},n.and=function(E){for(var b=Math.max(this.g.length,E.g.length),T=[],C=0;C<b;C++)T[C]=this.i(C)&E.i(C);return new o(T,this.h&E.h)},n.or=function(E){for(var b=Math.max(this.g.length,E.g.length),T=[],C=0;C<b;C++)T[C]=this.i(C)|E.i(C);return new o(T,this.h|E.h)},n.xor=function(E){for(var b=Math.max(this.g.length,E.g.length),T=[],C=0;C<b;C++)T[C]=this.i(C)^E.i(C);return new o(T,this.h^E.h)};function R(E){for(var b=E.g.length+1,T=[],C=0;C<b;C++)T[C]=E.i(C)<<1|E.i(C-1)>>>31;return new o(T,E.h)}function V(E,b){var T=b>>5;b%=32;for(var C=E.g.length-T,k=[],N=0;N<C;N++)k[N]=0<b?E.i(N+T)>>>b|E.i(N+T+1)<<32-b:E.i(N+T);return new o(k,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lw=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Fs=o}).apply(typeof Og<"u"?Og:typeof self<"u"?self:typeof window<"u"?window:{});var El=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cw,Mo,uw,ql,Gh,hw,dw,fw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof El=="object"&&El];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=t(this);function s(c,p){if(p)e:{var y=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var M=c[I];if(!(M in y))break e;y=y[M]}c=c[c.length-1],I=y[c],p=p(I),p!=I&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function i(c,p){c instanceof String&&(c+="");var y=0,I=!1,M={next:function(){if(!I&&y<c.length){var L=y++;return{value:p(L,c[L]),done:!1}}return I=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(c){return c||function(){return i(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function h(c,p,y){return c.call.apply(c.bind,arguments)}function d(c,p,y){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,I),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function m(c,p,y){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,m.apply(null,arguments)}function g(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function w(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(I,M,L){for(var $=Array(arguments.length-2),be=2;be<arguments.length;be++)$[be-2]=arguments[be];return p.prototype[M].apply(I,$)}}function _(c){const p=c.length;if(0<p){const y=Array(p);for(let I=0;I<p;I++)y[I]=c[I];return y}return[]}function v(c,p){for(let y=1;y<arguments.length;y++){const I=arguments[y];if(l(I)){const M=c.length||0,L=I.length||0;c.length=M+L;for(let $=0;$<L;$++)c[M+$]=I[$]}else c.push(I)}}class x{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function A(c){return/^[\s\xa0]*$/.test(c)}function S(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function D(c){return D[" "](c),c}D[" "]=function(){};var R=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function V(c,p,y){for(const I in c)p.call(y,c[I],I,c)}function E(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function b(c){const p={};for(const y in c)p[y]=c[y];return p}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,p){let y,I;for(let M=1;M<arguments.length;M++){I=arguments[M];for(y in I)c[y]=I[y];for(let L=0;L<T.length;L++)y=T[L],Object.prototype.hasOwnProperty.call(I,y)&&(c[y]=I[y])}}function k(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function N(c){a.setTimeout(()=>{throw c},0)}function P(){var c=J;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class z{constructor(){this.h=this.g=null}add(p,y){const I=Q.get();I.set(p,y),this.h?this.h.next=I:this.g=I,this.h=I}}var Q=new x(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Y=!1,J=new z,le=()=>{const c=a.Promise.resolve(void 0);G=()=>{c.then(ee)}};var ee=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(y){N(y)}var p=Q;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}Y=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return c}();function ue(c,p){if(q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(R){e:{try{D(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Lt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ue.aa.h.call(this)}}w(ue,q);var Lt={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mn="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function br(c,p,y,I,M){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!I,this.ha=M,this.key=++Ie,this.da=this.fa=!1}function Kn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Qn(c){this.src=c,this.g={},this.h=0}Qn.prototype.add=function(c,p,y,I,M){var L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);var $=go(c,p,I,M);return-1<$?(p=c[$],y||(p.fa=!1)):(p=new br(p,this.src,L,!!I,M),p.fa=y,c.push(p)),p};function Sn(c,p){var y=p.type;if(y in c.g){var I=c.g[y],M=Array.prototype.indexOf.call(I,p,void 0),L;(L=0<=M)&&Array.prototype.splice.call(I,M,1),L&&(Kn(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function go(c,p,y,I){for(var M=0;M<c.length;++M){var L=c[M];if(!L.da&&L.listener==p&&L.capture==!!y&&L.ha==I)return M}return-1}var cs="closure_lm_"+(1e6*Math.random()|0),yo={};function _o(c,p,y,I,M){if(Array.isArray(p)){for(var L=0;L<p.length;L++)_o(c,p[L],y,I,M);return null}return y=Ja(y),c&&c[mn]?c.K(p,y,u(I)?!!I.capture:!1,M):us(c,p,y,!1,I,M)}function us(c,p,y,I,M,L){if(!p)throw Error("Invalid event type");var $=u(M)?!!M.capture:!!M,be=Pn(c);if(be||(c[cs]=be=new Qn(c)),y=be.add(p,y,I,$,L),y.proxy)return y;if(I=Ya(),y.proxy=I,I.src=c,I.listener=y,c.addEventListener)ie||(M=$),M===void 0&&(M=!1),c.addEventListener(p.toString(),I,M);else if(c.attachEvent)c.attachEvent(Xa(p.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ya(){function c(y){return p.call(c.src,c.listener,y)}const p=Ct;return c}function nn(c,p,y,I,M){if(Array.isArray(p))for(var L=0;L<p.length;L++)nn(c,p[L],y,I,M);else I=u(I)?!!I.capture:!!I,y=Ja(y),c&&c[mn]?(c=c.i,p=String(p).toString(),p in c.g&&(L=c.g[p],y=go(L,y,I,M),-1<y&&(Kn(L[y]),Array.prototype.splice.call(L,y,1),L.length==0&&(delete c.g[p],c.h--)))):c&&(c=Pn(c))&&(p=c.g[p.toString()],c=-1,p&&(c=go(p,y,I,M)),(y=-1<c?p[c]:null)&&vo(y))}function vo(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[mn])Sn(p.i,c);else{var y=c.type,I=c.proxy;p.removeEventListener?p.removeEventListener(y,I,c.capture):p.detachEvent?p.detachEvent(Xa(y),I):p.addListener&&p.removeListener&&p.removeListener(I),(y=Pn(p))?(Sn(y,c),y.h==0&&(y.src=null,p[cs]=null)):Kn(c)}}}function Xa(c){return c in yo?yo[c]:yo[c]="on"+c}function Ct(c,p){if(c.da)c=!0;else{p=new ue(p,this);var y=c.listener,I=c.ha||c.src;c.fa&&vo(c),c=y.call(I,p)}return c}function Pn(c){return c=c[cs],c instanceof Qn?c:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ja(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(p){return c.handleEvent(p)}),c[wo])}function $e(){ge.call(this),this.i=new Qn(this),this.M=this,this.F=null}w($e,ge),$e.prototype[mn]=!0,$e.prototype.removeEventListener=function(c,p,y,I){nn(this,c,p,y,I)};function lt(c,p){var y,I=c.F;if(I)for(y=[];I;I=I.F)y.push(I);if(c=c.M,I=p.type||p,typeof p=="string")p=new q(p,c);else if(p instanceof q)p.target=p.target||c;else{var M=p;p=new q(I,c),C(p,M)}if(M=!0,y)for(var L=y.length-1;0<=L;L--){var $=p.g=y[L];M=hs($,I,!0,p)&&M}if($=p.g=c,M=hs($,I,!0,p)&&M,M=hs($,I,!1,p)&&M,y)for(L=0;L<y.length;L++)$=p.g=y[L],M=hs($,I,!1,p)&&M}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],I=0;I<y.length;I++)Kn(y[I]);delete c.g[p],c.h--}}this.F=null},$e.prototype.K=function(c,p,y,I){return this.i.add(String(c),p,!1,y,I)},$e.prototype.L=function(c,p,y,I){return this.i.add(String(c),p,!0,y,I)};function hs(c,p,y,I){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,L=0;L<p.length;++L){var $=p[L];if($&&!$.da&&$.capture==y){var be=$.listener,ht=$.ha||$.src;$.fa&&Sn(c.i,$),M=be.call(ht,I)!==!1&&M}}return M&&!I.defaultPrevented}function oi(c,p,y){if(typeof c=="function")y&&(c=m(c,y));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function Yn(c){c.g=oi(()=>{c.g=null,c.i&&(c.i=!1,Yn(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Za extends ge{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Yn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(c){ge.call(this),this.h=c,this.g={}}w(rn,ge);var el=[];function tl(c){V(c.g,function(p,y){this.g.hasOwnProperty(y)&&vo(p)},c),c.g={}}rn.prototype.N=function(){rn.aa.N.call(this),tl(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=a.JSON.stringify,nl=a.JSON.parse,wu=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ds(){}ds.prototype.h=null;function gn(c){return c.h||(c.h=c.i())}function rl(){}var fs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){q.call(this,"d")}w(li,q);function ci(){q.call(this,"c")}w(ci,q);var Z={},qe=null;function Ge(){return qe=qe||new $e}Z.La="serverreachability";function _t(c){q.call(this,Z.La,c)}w(_t,q);function Rn(c){const p=Ge();lt(p,new _t(p))}Z.STAT_EVENT="statevent";function Qe(c,p){q.call(this,Z.STAT_EVENT,c),this.stat=p}w(Qe,q);function we(c){const p=Ge();lt(p,new Qe(p,c))}Z.Ma="timingevent";function ps(c,p){q.call(this,Z.Ma,c),this.size=p}w(ps,q);function ct(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function ut(){this.g=!0}ut.prototype.xa=function(){this.g=!1};function sl(c,p,y,I,M,L){c.info(function(){if(c.g)if(L)for(var $="",be=L.split("&"),ht=0;ht<be.length;ht++){var ye=be[ht].split("=");if(1<ye.length){var vt=ye[0];ye=ye[1];var wt=vt.split("_");$=2<=wt.length&&wt[1]=="type"?$+(vt+"="+ye+"&"):$+(vt+"=redacted&")}}else $=null;else $=L;return"XMLHTTP REQ ("+I+") [attempt "+M+"]: "+p+`
`+y+`
`+$})}function Xn(c,p,y,I,M,L,$){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+M+"]: "+p+`
`+y+`
`+L+" "+$})}function ms(c,p,y,I){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+kE(c,y)+(I?" "+I:"")})}function CE(c,p){c.info(function(){return"TIMEOUT: "+p})}ut.prototype.info=function(){};function kE(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var I=y[c];if(!(2>I.length)){var M=I[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if(L!="noop"&&L!="stop"&&L!="close")for(var $=1;$<M.length;$++)M[$]=""}}}}return ai(y)}catch{return p}}var il={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bu;function ol(){}w(ol,ds),ol.prototype.g=function(){return new XMLHttpRequest},ol.prototype.i=function(){return{}},bu=new ol;function Tr(c,p,y,I){this.j=c,this.i=p,this.l=y,this.R=I||1,this.U=new rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nm}function nm(){this.i=null,this.g="",this.h=!1}var rm={},Tu={};function xu(c,p,y){c.L=1,c.v=ul(Jn(p)),c.m=y,c.P=!0,sm(c,null)}function sm(c,p){c.F=Date.now(),al(c),c.A=Jn(c.v);var y=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),_m(y.i,"t",I),c.C=0,y=c.j.J,c.h=new nm,c.g=Mm(c.j,y?p:null,!c.m),0<c.O&&(c.M=new Za(m(c.Y,c,c.g),c.O)),p=c.U,y=c.g,I=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(el[0]=M.toString()),M=el);for(var L=0;L<M.length;L++){var $=_o(y,M[L],I||p.handleEvent,!1,p.h||p);if(!$)break;p.g[$.key]=$}p=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Rn(),sl(c.i,c.u,c.A,c.l,c.R,c.m)}Tr.prototype.ca=function(c){c=c.target;const p=this.M;p&&Zn(c)==3?p.j():this.Y(c)},Tr.prototype.Y=function(c){try{if(c==this.g)e:{const wt=Zn(this.g);var p=this.g.Ba();const di=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Im(this.g)))){this.J||wt!=4||p==7||(p==8||0>=di?Rn(3):Rn(2)),Eu(this);var y=this.g.Z();this.X=y;t:if(im(this)){var I=Im(this.g);c="";var M=I.length,L=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),bo(this);var $="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(I[p],{stream:!(L&&p==M-1)});I.length=0,this.h.g+=c,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=y==200,Xn(this.i,this.u,this.A,this.l,this.R,wt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var be,ht=this.g;if((be=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(be)){var ye=be;break t}}ye=null}if(y=ye)ms(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Iu(this,y);else{this.o=!1,this.s=3,we(12),gs(this),bo(this);break e}}if(this.P){y=!0;let yn;for(;!this.J&&this.C<$.length;)if(yn=NE(this,$),yn==Tu){wt==4&&(this.s=4,we(14),y=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==rm){this.s=4,we(15),ms(this.i,this.l,$,"[Invalid Chunk]"),y=!1;break}else ms(this.i,this.l,yn,null),Iu(this,yn);if(im(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||$.length!=0||this.h.h||(this.s=1,we(16),y=!1),this.o=this.o&&y,!y)ms(this.i,this.l,$,"[Invalid Chunked Response]"),gs(this),bo(this);else if(0<$.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),ku(vt),vt.M=!0,we(11))}}else ms(this.i,this.l,$,null),Iu(this,$);wt==4&&gs(this),this.o&&!this.J&&(wt==4?Nm(this.j,this):(this.o=!1,al(this)))}else QE(this.g),y==400&&0<$.indexOf("Unknown SID")?(this.s=3,we(12)):(this.s=0,we(13)),gs(this),bo(this)}}}catch{}finally{}};function im(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function NE(c,p){var y=c.C,I=p.indexOf(`
`,y);return I==-1?Tu:(y=Number(p.substring(y,I)),isNaN(y)?rm:(I+=1,I+y>p.length?Tu:(p=p.slice(I,I+y),c.C=I+y,p)))}Tr.prototype.cancel=function(){this.J=!0,gs(this)};function al(c){c.S=Date.now()+c.I,om(c,c.I)}function om(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ct(m(c.ba,c),p)}function Eu(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Tr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(CE(this.i,this.A),this.L!=2&&(Rn(),we(17)),gs(this),this.s=2,bo(this)):om(this,this.S-c)};function bo(c){c.j.G==0||c.J||Nm(c.j,c)}function gs(c){Eu(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,tl(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Iu(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||Au(y.h,c))){if(!c.K&&Au(y.h,c)&&y.G==3){try{var I=y.Da.g.parse(p)}catch{I=null}if(Array.isArray(I)&&I.length==3){var M=I;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)gl(y),pl(y);else break e;Cu(y),we(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=ct(m(y.Za,y),6e3));if(1>=cm(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else _s(y,11)}else if((c.K||y.g==c)&&gl(y),!A(p))for(M=y.Da.g.parse(p),p=0;p<M.length;p++){let ye=M[p];if(y.T=ye[0],ye=ye[1],y.G==2)if(ye[0]=="c"){y.K=ye[1],y.ia=ye[2];const vt=ye[3];vt!=null&&(y.la=vt,y.j.info("VER="+y.la));const wt=ye[4];wt!=null&&(y.Aa=wt,y.j.info("SVER="+y.Aa));const di=ye[5];di!=null&&typeof di=="number"&&0<di&&(I=1.5*di,y.L=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const yn=c.g;if(yn){const _l=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_l){var L=I.h;L.g||_l.indexOf("spdy")==-1&&_l.indexOf("quic")==-1&&_l.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Su(L,L.h),L.h=null))}if(I.D){const Nu=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Nu&&(I.ya=Nu,Ae(I.I,I.D,Nu))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),I=y;var $=c;if(I.qa=Vm(I,I.J?I.ia:null,I.W),$.K){um(I.h,$);var be=$,ht=I.L;ht&&(be.I=ht),be.B&&(Eu(be),al(be)),I.g=$}else Cm(I);0<y.i.length&&ml(y)}else ye[0]!="stop"&&ye[0]!="close"||_s(y,7);else y.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?_s(y,7):Ru(y):ye[0]!="noop"&&y.l&&y.l.ta(ye),y.v=0)}}Rn(4)}catch{}}var DE=class{constructor(c,p){this.g=c,this.map=p}};function am(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lm(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function cm(c){return c.h?1:c.g?c.g.size:0}function Au(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Su(c,p){c.g?c.g.add(p):c.h=p}function um(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}am.prototype.cancel=function(){if(this.i=hm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function hm(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return _(c.i)}function OE(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],y=c.length,I=0;I<y;I++)p.push(c[I]);return p}p=[],y=0;for(I in c)p[y++]=c[I];return p}function VE(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const I in c)p[y++]=I;return p}}}function dm(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=VE(c),I=OE(c),M=I.length,L=0;L<M;L++)p.call(void 0,I[L],y&&y[L],c)}var fm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ME(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var I=c[y].indexOf("="),M=null;if(0<=I){var L=c[y].substring(0,I);M=c[y].substring(I+1)}else L=c[y];p(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ys(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ys){this.h=c.h,ll(this,c.j),this.o=c.o,this.g=c.g,cl(this,c.s),this.l=c.l;var p=c.i,y=new Eo;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),pm(this,y),this.m=c.m}else c&&(p=String(c).match(fm))?(this.h=!1,ll(this,p[1]||"",!0),this.o=To(p[2]||""),this.g=To(p[3]||"",!0),cl(this,p[4]),this.l=To(p[5]||"",!0),pm(this,p[6]||"",!0),this.m=To(p[7]||"")):(this.h=!1,this.i=new Eo(null,this.h))}ys.prototype.toString=function(){var c=[],p=this.j;p&&c.push(xo(p,mm,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push(xo(p,mm,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(xo(y,y.charAt(0)=="/"?FE:jE,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",xo(y,BE)),c.join("")};function Jn(c){return new ys(c)}function ll(c,p,y){c.j=y?To(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function cl(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function pm(c,p,y){p instanceof Eo?(c.i=p,zE(c.i,c.h)):(y||(p=xo(p,UE)),c.i=new Eo(p,c.h))}function Ae(c,p,y){c.i.set(p,y)}function ul(c){return Ae(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function To(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xo(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,LE),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function LE(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var mm=/[#\/\?@]/g,jE=/[#\?:]/g,FE=/[#\?]/g,UE=/[#\?@]/g,BE=/#/g;function Eo(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function xr(c){c.g||(c.g=new Map,c.h=0,c.i&&ME(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}n=Eo.prototype,n.add=function(c,p){xr(this),this.i=null,c=ui(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function gm(c,p){xr(c),p=ui(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function ym(c,p){return xr(c),p=ui(c,p),c.g.has(p)}n.forEach=function(c,p){xr(this),this.g.forEach(function(y,I){y.forEach(function(M){c.call(p,M,I,this)},this)},this)},n.na=function(){xr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let I=0;I<p.length;I++){const M=c[I];for(let L=0;L<M.length;L++)y.push(p[I])}return y},n.V=function(c){xr(this);let p=[];if(typeof c=="string")ym(this,c)&&(p=p.concat(this.g.get(ui(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},n.set=function(c,p){return xr(this),this.i=null,c=ui(this,c),ym(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},n.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function _m(c,p,y){gm(c,p),0<y.length&&(c.i=null,c.g.set(ui(c,p),_(y)),c.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var I=p[y];const L=encodeURIComponent(String(I)),$=this.V(I);for(I=0;I<$.length;I++){var M=L;$[I]!==""&&(M+="="+encodeURIComponent(String($[I]))),c.push(M)}}return this.i=c.join("&")};function ui(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function zE(c,p){p&&!c.j&&(xr(c),c.i=null,c.g.forEach(function(y,I){var M=I.toLowerCase();I!=M&&(gm(this,I),_m(this,M,y))},c)),c.j=p}function $E(c,p){const y=new ut;if(a.Image){const I=new Image;I.onload=g(Er,y,"TestLoadImage: loaded",!0,p,I),I.onerror=g(Er,y,"TestLoadImage: error",!1,p,I),I.onabort=g(Er,y,"TestLoadImage: abort",!1,p,I),I.ontimeout=g(Er,y,"TestLoadImage: timeout",!1,p,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else p(!1)}function qE(c,p){const y=new ut,I=new AbortController,M=setTimeout(()=>{I.abort(),Er(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:I.signal}).then(L=>{clearTimeout(M),L.ok?Er(y,"TestPingServer: ok",!0,p):Er(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Er(y,"TestPingServer: error",!1,p)})}function Er(c,p,y,I,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),I(y)}catch{}}function GE(){this.g=new wu}function HE(c,p,y){const I=y||"";try{dm(c,function(M,L){let $=M;u(M)&&($=ai(M)),p.push(I+L+"="+encodeURIComponent($))})}catch(M){throw p.push(I+"type="+encodeURIComponent("_badmap")),M}}function hl(c){this.l=c.Ub||null,this.j=c.eb||!1}w(hl,ds),hl.prototype.g=function(){return new dl(this.l,this.j)},hl.prototype.i=function(c){return function(){return c}}({});function dl(c,p){$e.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(dl,$e),n=dl.prototype,n.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Ao(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Io(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ao(this)),this.g&&(this.readyState=3,Ao(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vm(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vm(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Io(this):Ao(this),this.readyState==3&&vm(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Io(this))},n.Qa=function(c){this.g&&(this.response=c,Io(this))},n.ga=function(){this.g&&Io(this)};function Io(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ao(c)}n.setRequestHeader=function(c,p){this.u.append(c,p)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function Ao(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wm(c){let p="";return V(c,function(y,I){p+=I,p+=":",p+=y,p+=`\r
`}),p}function Pu(c,p,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=wm(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Ae(c,p,y))}function Me(c){$e.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Me,$e);var WE=/^https?$/i,KE=["POST","PUT"];n=Me.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,p,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bu.g(),this.v=this.o?gn(this.o):gn(bu),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(L){bm(this,L);return}if(c=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var M in I)y.set(M,I[M]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const L of I.keys())y.set(L,I.get(L));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(L=>L.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(KE,p,void 0))||I||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,$]of y)this.g.setRequestHeader(L,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Em(this),this.u=!0,this.g.send(c),this.u=!1}catch(L){bm(this,L)}};function bm(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Tm(c),fl(c)}function Tm(c){c.A||(c.A=!0,lt(c,"complete"),lt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,lt(this,"complete"),lt(this,"abort"),fl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fl(this,!0)),Me.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xm(this):this.bb())},n.bb=function(){xm(this)};function xm(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)oi(c.Ea,0,c);else if(lt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{const $=c.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var I;if(I=$===0){var M=String(c.D).match(fm)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),I=!WE.test(M?M.toLowerCase():"")}y=I}if(y)lt(c,"complete"),lt(c,"success");else{c.m=6;try{var L=2<Zn(c)?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.Z()+"]",Tm(c)}}finally{fl(c)}}}}function fl(c,p){if(c.g){Em(c);const y=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||lt(c,"ready");try{y.onreadystatechange=I}catch{}}}function Em(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),nl(p)}};function Im(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function QE(c){const p={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(A(c[I]))continue;var y=k(c[I]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const L=p[M]||[];p[M]=L,L.push(y)}E(p,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function Am(c){this.Aa=0,this.i=[],this.j=new ut,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,c),this.cb=So("retryDelaySeedMs",1e4,c),this.Wa=So("forwardChannelMaxRetries",2,c),this.wa=So("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new am(c&&c.concurrentRequestLimit),this.Da=new GE,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Am.prototype,n.la=8,n.G=1,n.connect=function(c,p,y,I){we(0),this.W=c,this.H=p||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.I=Vm(this,null,this.W),ml(this)};function Ru(c){if(Sm(c),c.G==3){var p=c.U++,y=Jn(c.I);if(Ae(y,"SID",c.K),Ae(y,"RID",p),Ae(y,"TYPE","terminate"),Po(c,y),p=new Tr(c,c.j,p),p.L=2,p.v=ul(Jn(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=Mm(p.j,null),p.g.ea(p.v)),p.F=Date.now(),al(p)}Om(c)}function pl(c){c.g&&(ku(c),c.g.cancel(),c.g=null)}function Sm(c){pl(c),c.u&&(a.clearTimeout(c.u),c.u=null),gl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ml(c){if(!lm(c.h)&&!c.s){c.s=!0;var p=c.Ga;G||le(),Y||(G(),Y=!0),J.add(p,c),c.B=0}}function YE(c,p){return cm(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ct(m(c.Ga,c,p),Dm(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new Tr(this,this.j,c);let L=this.o;if(this.S&&(L?(L=b(L),C(L,this.S)):L=this.S),this.m!==null||this.O||(M.H=L,L=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(p+=I,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Rm(this,M,p),y=Jn(this.I),Ae(y,"RID",c),Ae(y,"CVER",22),this.D&&Ae(y,"X-HTTP-Session-Id",this.D),Po(this,y),L&&(this.O?p="headers="+encodeURIComponent(String(wm(L)))+"&"+p:this.m&&Pu(y,this.m,L)),Su(this.h,M),this.Ua&&Ae(y,"TYPE","init"),this.P?(Ae(y,"$req",p),Ae(y,"SID","null"),M.T=!0,xu(M,y,null)):xu(M,y,p),this.G=2}}else this.G==3&&(c?Pm(this,c):this.i.length==0||lm(this.h)||Pm(this))};function Pm(c,p){var y;p?y=p.l:y=c.U++;const I=Jn(c.I);Ae(I,"SID",c.K),Ae(I,"RID",y),Ae(I,"AID",c.T),Po(c,I),c.m&&c.o&&Pu(I,c.m,c.o),y=new Tr(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Rm(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Su(c.h,y),xu(y,I,p)}function Po(c,p){c.H&&V(c.H,function(y,I){Ae(p,I,y)}),c.l&&dm({},function(y,I){Ae(p,I,y)})}function Rm(c,p,y){y=Math.min(c.i.length,y);var I=c.l?m(c.l.Na,c.l,c):null;e:{var M=c.i;let L=-1;for(;;){const $=["count="+y];L==-1?0<y?(L=M[0].g,$.push("ofs="+L)):L=0:$.push("ofs="+L);let be=!0;for(let ht=0;ht<y;ht++){let ye=M[ht].g;const vt=M[ht].map;if(ye-=L,0>ye)L=Math.max(0,M[ht].g-100),be=!1;else try{HE(vt,$,"req"+ye+"_")}catch{I&&I(vt)}}if(be){I=$.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,I}function Cm(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;G||le(),Y||(G(),Y=!0),J.add(p,c),c.v=0}}function Cu(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ct(m(c.Fa,c),Dm(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,km(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ct(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,we(10),pl(this),km(this))};function ku(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function km(c){c.g=new Tr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Jn(c.qa);Ae(p,"RID","rpc"),Ae(p,"SID",c.K),Ae(p,"AID",c.T),Ae(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ae(p,"TO",c.ja),Ae(p,"TYPE","xmlhttp"),Po(c,p),c.m&&c.o&&Pu(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=ul(Jn(p)),y.m=null,y.P=!0,sm(y,c)}n.Za=function(){this.C!=null&&(this.C=null,pl(this),Cu(this),we(19))};function gl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Nm(c,p){var y=null;if(c.g==p){gl(c),ku(c),c.g=null;var I=2}else if(Au(c.h,p))y=p.D,um(c.h,p),I=1;else return;if(c.G!=0){if(p.o)if(I==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;I=Ge(),lt(I,new ps(I,y)),ml(c)}else Cm(c);else if(M=p.s,M==3||M==0&&0<p.X||!(I==1&&YE(c,p)||I==2&&Cu(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),M){case 1:_s(c,5);break;case 4:_s(c,10);break;case 3:_s(c,6);break;default:_s(c,2)}}}function Dm(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function _s(c,p){if(c.j.info("Error code "+p),p==2){var y=m(c.fb,c),I=c.Xa;const M=!I;I=new ys(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ll(I,"https"),ul(I),M?$E(I.toString(),y):qE(I.toString(),y)}else we(2);c.G=0,c.l&&c.l.sa(p),Om(c),Sm(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Om(c){if(c.G=0,c.ka=[],c.l){const p=hm(c.h);(p.length!=0||c.i.length!=0)&&(v(c.ka,p),v(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function Vm(c,p,y){var I=y instanceof ys?Jn(y):new ys(y);if(I.g!="")p&&(I.g=p+"."+I.g),cl(I,I.s);else{var M=a.location;I=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var L=new ys(null);I&&ll(L,I),p&&(L.g=p),M&&cl(L,M),y&&(L.l=y),I=L}return y=c.D,p=c.ya,y&&p&&Ae(I,y,p),Ae(I,"VER",c.la),Po(c,I),I}function Mm(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Me(new hl({eb:y})):new Me(c.pa),p.Ha(c.J),p}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lm(){}n=Lm.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function yl(){}yl.prototype.g=function(c,p){return new Wt(c,p)};function Wt(c,p){$e.call(this),this.g=new Am(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!A(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!A(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new hi(this)}w(Wt,$e),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Ru(this.g)},Wt.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=ai(c),c=y);p.i.push(new DE(p.Ya++,c)),p.G==3&&ml(p)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Ru(this.g),delete this.g,Wt.aa.N.call(this)};function jm(c){li.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}w(jm,li);function Fm(){ci.call(this),this.status=1}w(Fm,ci);function hi(c){this.g=c}w(hi,Lm),hi.prototype.ua=function(){lt(this.g,"a")},hi.prototype.ta=function(c){lt(this.g,new jm(c))},hi.prototype.sa=function(c){lt(this.g,new Fm)},hi.prototype.ra=function(){lt(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,fw=function(){return new yl},dw=function(){return Ge()},hw=Z,Gh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},il.NO_ERROR=0,il.TIMEOUT=8,il.HTTP_ERROR=6,ql=il,tm.COMPLETE="complete",uw=tm,rl.EventType=fs,fs.OPEN="a",fs.CLOSE="b",fs.ERROR="c",fs.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Mo=rl,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,cw=Me}).apply(typeof El<"u"?El:typeof self<"u"?self:typeof window<"u"?window:{});const Vg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new rf("@firebase/firestore");function No(){return Qs.logLevel}function K(n,...e){if(Qs.logLevel<=fe.DEBUG){const t=e.map(gf);Qs.debug(`Firestore (${lo}): ${n}`,...t)}}function pr(n,...e){if(Qs.logLevel<=fe.ERROR){const t=e.map(gf);Qs.error(`Firestore (${lo}): ${n}`,...t)}}function Gi(n,...e){if(Qs.logLevel<=fe.WARN){const t=e.map(gf);Qs.warn(`Firestore (${lo}): ${n}`,...t)}}function gf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(n="Unexpected state"){const e=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: `+n;throw pr(e),new Error(e)}function ve(n,e){n||se()}function ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xt.UNAUTHENTICATED))}shutdown(){}}class K1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Q1{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ve(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let i=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hr)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new pw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new xt(e)}}class Y1{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class X1{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Y1(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ve(this.o===void 0);const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ve(typeof t.token=="string"),this.R=t.token,new J1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=ek(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%e.length))}return r}}function _e(n,e){return n<e?-1:n>e?1:0}function Hi(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new st(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new st(0,0))}static max(){return new oe(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,r){t===void 0?t=0:t>e.length&&se(),r===void 0?r=e.length-t:r>e.length-t&&se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return la.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof la?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=e.get(s),o=t.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pe extends la{construct(e,t,r){return new Pe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Pe(t)}static emptyPath(){return new Pe([])}}const tk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends la{construct(e,t,r){return new pt(e,t,r)}static isValidIdentifier(e){return tk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(t)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Pe.fromString(e))}static fromName(e){return new X(Pe.fromString(e).popFirst(5))}static empty(){return new X(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Pe(e.slice()))}}function nk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new st(t+1,0):new st(t,r));return new Xr(s,X.empty(),e)}function rk(n){return new Xr(n.readTime,n.key,-1)}class Xr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xr(oe.min(),X.empty(),-1)}static max(){return new Xr(oe.max(),X.empty(),-1)}}function sk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:_e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ok{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(n){if(n.code!==F.FAILED_PRECONDITION||n.message!==ik)throw n;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):B.reject(t)}static resolve(e){return new B((t,r)=>{t(e)})}static reject(e){return new B((t,r)=>{r(e)})}static waitFor(e){return new B((t,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&t()},l=>r(l))}),o=!0,i===s&&t()})}static or(e){let t=B.resolve(!1);for(const r of e)t=t.next(s=>s?B.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;t(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,t){return new B((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function ak(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ja(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yf.oe=-1;function Wc(n){return n==null}function dc(n){return n===0&&1/n==-1/0}function lk(n){return typeof n=="number"&&Number.isInteger(n)&&!dc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ni(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,t){this.comparator=e,this.root=t||ft.EMPTY}insert(e,t){return new Ve(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Il(this.root,e,this.comparator,!1)}getReverseIterator(){return new Il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Il(this.root,e,this.comparator,!0)}}class Il{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??ft.RED,this.left=s??ft.EMPTY,this.right=i??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new ft(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,t,r,s,i){return this}insert(e,t,r){return new ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lg(this.data.getIterator())}getIteratorFrom(e){return new Lg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mt(this.comparator);return t.data=e,t}}class Lg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new Yt([])}unionWith(e){let t=new mt(pt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yt(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hi(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new yw("Invalid base64 string: "+i):i}}(e);return new yt(t)}static fromUint8Array(e){const t=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const ck=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(n){if(ve(!!n),typeof n=="string"){let e=0;const t=ck.exec(n);if(ve(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(n.seconds),nanos:We(n.nanos)}}function We(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ys(n){return typeof n=="string"?yt.fromBase64String(n):yt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function vf(n){const e=n.mapValue.fields.__previous_value__;return _f(e)?vf(e):e}function ca(n){const e=Jr(n.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t,r,s,i,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ua{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ua("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ua&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al={mapValue:{}};function Xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_f(n)?4:dk(n)?9007199254740991:hk(n)?10:11:se()}function Gn(n,e){if(n===e)return!0;const t=Xs(n);if(t!==Xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ca(n).isEqual(ca(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Jr(s.timestampValue),a=Jr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return Ys(s.bytesValue).isEqual(Ys(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return We(s.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(s.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return We(s.integerValue)===We(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=We(s.doubleValue),a=We(i.doubleValue);return o===a?dc(o)===dc(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Hi(n.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Mg(o)!==Mg(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Gn(o[l],a[l])))return!1;return!0}(n,e);default:return se()}}function ha(n,e){return(n.values||[]).find(t=>Gn(t,e))!==void 0}function Wi(n,e){if(n===e)return 0;const t=Xs(n),r=Xs(e);if(t!==r)return _e(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _e(n.booleanValue,e.booleanValue);case 2:return function(i,o){const a=We(i.integerValue||i.doubleValue),l=We(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return jg(n.timestampValue,e.timestampValue);case 4:return jg(ca(n),ca(e));case 5:return _e(n.stringValue,e.stringValue);case 6:return function(i,o){const a=Ys(i),l=Ys(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=_e(a[u],l[u]);if(h!==0)return h}return _e(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_e(We(i.latitude),We(o.latitude));return a!==0?a:_e(We(i.longitude),We(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Fg(n.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,h;const d=i.fields||{},m=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,w=(l=m.value)===null||l===void 0?void 0:l.arrayValue,_=_e(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return _!==0?_:Fg(g,w)}(n.mapValue,e.mapValue);case 11:return function(i,o){if(i===Al.mapValue&&o===Al.mapValue)return 0;if(i===Al.mapValue)return 1;if(o===Al.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const m=_e(l[d],h[d]);if(m!==0)return m;const g=Wi(a[l[d]],u[h[d]]);if(g!==0)return g}return _e(l.length,h.length)}(n.mapValue,e.mapValue);default:throw se()}}function jg(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _e(n,e);const t=Jr(n),r=Jr(e),s=_e(t.seconds,r.seconds);return s!==0?s:_e(t.nanos,r.nanos)}function Fg(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=Wi(t[s],r[s]);if(i)return i}return _e(t.length,r.length)}function Ki(n){return Hh(n)}function Hh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Jr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ys(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return X.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=Hh(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Hh(t.fields[o])}`;return s+"}"}(n.mapValue):se()}function Ug(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wh(n){return!!n&&"integerValue"in n}function wf(n){return!!n&&"arrayValue"in n}function Bg(n){return!!n&&"nullValue"in n}function zg(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gl(n){return!!n&&"mapValue"in n}function hk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Go(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ni(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Go(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Go(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Go(t)}setAll(e){let t=pt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,s),r={},s=[],t=a.popLast()}o?r[a.lastSegment()]=Go(o):s.push(a.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Gl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Gl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ni(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ft(Go(this.value))}}function _w(n){const e=[];return ni(n.fields,(t,r)=>{const s=new pt([t]);if(Gl(r)){const i=_w(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Yt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t,r,s,i,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new It(e,0,oe.min(),oe.min(),oe.min(),Ft.empty(),0)}static newFoundDocument(e,t,r,s){return new It(e,1,t,oe.min(),r,s,0)}static newNoDocument(e,t){return new It(e,2,t,oe.min(),oe.min(),Ft.empty(),0)}static newUnknownDocument(e,t){return new It(e,3,t,oe.min(),oe.min(),Ft.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.position=e,this.inclusive=t}}function $g(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],o=n.position[s];if(i.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),t.key):r=Wi(o,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function qg(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gn(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t="asc"){this.field=e,this.dir=t}}function fk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{}class et extends vw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new mk(e,t,r):t==="array-contains"?new _k(e,r):t==="in"?new vk(e,r):t==="not-in"?new wk(e,r):t==="array-contains-any"?new bk(e,r):new et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gk(e,r):new yk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Wi(t,this.value)):t!==null&&Xs(this.value)===Xs(t)&&this.matchesComparison(Wi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class In extends vw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new In(e,t)}matches(e){return ww(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ww(n){return n.op==="and"}function bw(n){return pk(n)&&ww(n)}function pk(n){for(const e of n.filters)if(e instanceof In)return!1;return!0}function Kh(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+Ki(n.value);if(bw(n))return n.filters.map(e=>Kh(e)).join(",");{const e=n.filters.map(t=>Kh(t)).join(",");return`${n.op}(${e})`}}function Tw(n,e){return n instanceof et?function(r,s){return s instanceof et&&r.op===s.op&&r.field.isEqual(s.field)&&Gn(r.value,s.value)}(n,e):n instanceof In?function(r,s){return s instanceof In&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Tw(o,s.filters[a]),!0):!1}(n,e):void se()}function xw(n){return n instanceof et?function(t){return`${t.field.canonicalString()} ${t.op} ${Ki(t.value)}`}(n):n instanceof In?function(t){return t.op.toString()+" {"+t.getFilters().map(xw).join(" ,")+"}"}(n):"Filter"}class mk extends et{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){const t=X.comparator(e.key,this.key);return this.matchesComparison(t)}}class gk extends et{constructor(e,t){super(e,"in",t),this.keys=Ew("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yk extends et{constructor(e,t){super(e,"not-in",t),this.keys=Ew("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ew(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}class _k extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wf(t)&&ha(t.arrayValue,this.value)}}class vk extends et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ha(this.value.arrayValue,t)}}class wk extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ha(this.value.arrayValue,t)}}class bk extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ha(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Gg(n,e=null,t=[],r=[],s=null,i=null,o=null){return new Tk(n,e,t,r,s,i,o)}function bf(n){const e=ae(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Kh(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Wc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ki(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ki(r)).join(",")),e.ue=t}return e.ue}function Tf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Tw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qg(n.startAt,e.startAt)&&qg(n.endAt,e.endAt)}function Qh(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function xk(n,e,t,r,s,i,o,a){return new co(n,e,t,r,s,i,o,a)}function xf(n){return new co(n)}function Hg(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Iw(n){return n.collectionGroup!==null}function Ho(n){const e=ae(n);if(e.ce===null){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(pt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new da(i,r))}),t.has(pt.keyField().canonicalString())||e.ce.push(new da(pt.keyField(),r))}return e.ce}function Un(n){const e=ae(n);return e.le||(e.le=Ek(e,Ho(n))),e.le}function Ek(n,e){if(n.limitType==="F")return Gg(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new da(s.field,i)});const t=n.endAt?new fc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fc(n.startAt.position,n.startAt.inclusive):null;return Gg(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Yh(n,e){const t=n.filters.concat([e]);return new co(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function pc(n,e,t){return new co(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kc(n,e){return Tf(Un(n),Un(e))&&n.limitType===e.limitType}function Aw(n){return`${bf(Un(n))}|lt:${n.limitType}`}function mi(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>xw(s)).join(", ")}]`),Wc(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Ki(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Ki(s)).join(",")),`Target(${r})`}(Un(n))}; limitType=${n.limitType})`}function Qc(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):X.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of Ho(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=$g(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ho(r),s)||r.endAt&&!function(o,a,l){const u=$g(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ho(r),s))}(n,e)}function Ik(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Sw(n){return(e,t)=>{let r=!1;for(const s of Ho(n)){const i=Ak(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Ak(n,e,t){const r=n.field.isKeyField()?X.comparator(e.key,t.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Wi(l,u):se()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ni(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new Ve(X.comparator);function mr(){return Sk}const Pw=new Ve(X.comparator);function Lo(...n){let e=Pw;for(const t of n)e=e.insert(t.key,t);return e}function Rw(n){let e=Pw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ps(){return Wo()}function Cw(){return Wo()}function Wo(){return new uo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Pk=new Ve(X.comparator),Rk=new mt(X.comparator);function he(...n){let e=Rk;for(const t of n)e=e.add(t);return e}const Ck=new mt(_e);function kk(){return Ck}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function kw(n){return{integerValue:""+n}}function Nk(n,e){return lk(e)?kw(e):Ef(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this._=void 0}}function Dk(n,e,t){return n instanceof mc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&_f(i)&&(i=vf(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof fa?Dw(n,e):n instanceof pa?Ow(n,e):function(s,i){const o=Nw(s,i),a=Wg(o)+Wg(s.Pe);return Wh(o)&&Wh(s.Pe)?kw(a):Ef(s.serializer,a)}(n,e)}function Ok(n,e,t){return n instanceof fa?Dw(n,e):n instanceof pa?Ow(n,e):t}function Nw(n,e){return n instanceof gc?function(r){return Wh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class mc extends Yc{}class fa extends Yc{constructor(e){super(),this.elements=e}}function Dw(n,e){const t=Vw(e);for(const r of n.elements)t.some(s=>Gn(s,r))||t.push(r);return{arrayValue:{values:t}}}class pa extends Yc{constructor(e){super(),this.elements=e}}function Ow(n,e){let t=Vw(e);for(const r of n.elements)t=t.filter(s=>!Gn(s,r));return{arrayValue:{values:t}}}class gc extends Yc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Wg(n){return We(n.integerValue||n.doubleValue)}function Vw(n){return wf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Vk(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof fa&&s instanceof fa||r instanceof pa&&s instanceof pa?Hi(r.elements,s.elements,Gn):r instanceof gc&&s instanceof gc?Gn(r.Pe,s.Pe):r instanceof mc&&s instanceof mc}(n.transform,e.transform)}class Mk{constructor(e,t){this.version=e,this.transformResults=t}}class Bt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bt}static exists(e){return new Bt(void 0,e)}static updateTime(e){return new Bt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hl(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Xc{}function Mw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jc(n.key,Bt.none()):new Fa(n.key,n.data,Bt.none());{const t=n.data,r=Ft.empty();let s=new mt(pt.comparator);for(let i of e.fields)if(!s.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new is(n.key,r,new Yt(s.toArray()),Bt.none())}}function Lk(n,e,t){n instanceof Fa?function(s,i,o){const a=s.value.clone(),l=Qg(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof is?function(s,i,o){if(!Hl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Qg(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Lw(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Ko(n,e,t,r){return n instanceof Fa?function(i,o,a,l){if(!Hl(i.precondition,o))return a;const u=i.value.clone(),h=Yg(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof is?function(i,o,a,l){if(!Hl(i.precondition,o))return a;const u=Yg(i.fieldTransforms,l,o),h=o.data;return h.setAll(Lw(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(n,e,t,r):function(i,o,a){return Hl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function jk(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=Nw(r.transform,s||null);i!=null&&(t===null&&(t=Ft.empty()),t.set(r.field,i))}return t||null}function Kg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Hi(r,s,(i,o)=>Vk(i,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Fa extends Xc{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class is extends Xc{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Lw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Qg(n,e,t){const r=new Map;ve(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Ok(o,a,t[s]))}return r}function Yg(n,e,t){const r=new Map;for(const s of n){const i=s.transform,o=t.data.field(s.field);r.set(s.field,Dk(i,o,e))}return r}class Jc extends Xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Fk extends Xc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Lk(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ko(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ko(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Cw();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(s.key)?null:a;const l=Mw(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&Hi(this.mutations,e.mutations,(t,r)=>Kg(t,r))&&Hi(this.baseMutations,e.baseMutations,(t,r)=>Kg(t,r))}}class If{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ve(e.mutations.length===r.length);let s=function(){return Pk}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new If(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,me;function $k(n){switch(n){default:return se();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function jw(n){if(n===void 0)return pr("GRPC error has no .code"),F.UNKNOWN;switch(n){case Ye.OK:return F.OK;case Ye.CANCELLED:return F.CANCELLED;case Ye.UNKNOWN:return F.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return F.INTERNAL;case Ye.UNAVAILABLE:return F.UNAVAILABLE;case Ye.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ye.NOT_FOUND:return F.NOT_FOUND;case Ye.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ye.ABORTED:return F.ABORTED;case Ye.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ye.DATA_LOSS:return F.DATA_LOSS;default:return se()}}(me=Ye||(Ye={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=new Fs([4294967295,4294967295],0);function Xg(n){const e=qk().encode(n),t=new lw;return t.update(e),new Uint8Array(t.digest())}function Jg(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Fs([t,r],0),new Fs([s,i],0)]}class Af{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jo(`Invalid padding: ${t}`);if(r<0)throw new jo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new jo(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Fs.fromNumber(this.Ie)}Ee(e,t,r){let s=e.add(t.multiply(Fs.fromNumber(r)));return s.compare(Gk)===1&&(s=new Fs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Xg(e),[r,s]=Jg(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Af(i,s,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const t=Xg(e),[r,s]=Jg(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Ua.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Zc(oe.min(),s,new Ve(_e),mr(),he())}}class Ua{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ua(r,t,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class Fw{constructor(e,t){this.targetId=e,this.me=t}}class Uw{constructor(e,t,r=yt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Zg{constructor(){this.fe=0,this.ge=ty(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=he(),t=he(),r=he();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:se()}}),new Ua(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=ty()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Hk{constructor(e){this.Le=e,this.Be=new Map,this.ke=mr(),this.qe=ey(),this.Qe=new Ve(_e)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,r=e.me.count,s=this.Je(t);if(s){const i=s.target;if(Qh(i))if(r===0){const o=new X(i.path);this.Ue(t,o,It.newNoDocument(o,oe.min()))}else ve(r===1);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let o,a;try{o=Ys(r).toUint8Array()}catch(l){if(l instanceof yw)return Gi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Af(o,s,i)}catch(l){return Gi(l instanceof jo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,i,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Qh(a.target)){const l=new X(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,It.newNoDocument(l,e))}i.be&&(t.set(o,i.ve()),i.Ce())}});let r=he();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Zc(e,t,this.Qe,this.ke,r);return this.ke=mr(),this.qe=ey(),this.Qe=new Ve(_e),s}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Zg,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new mt(_e),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||K("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Zg),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ey(){return new Ve(X.comparator)}function ty(){return new Ve(X.comparator)}const Wk={asc:"ASCENDING",desc:"DESCENDING"},Kk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qk={and:"AND",or:"OR"};class Yk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Xh(n,e){return n.useProto3Json||Wc(e)?e:{value:e}}function yc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Xk(n,e){return yc(n,e.toTimestamp())}function Bn(n){return ve(!!n),oe.fromTimestamp(function(t){const r=Jr(t);return new st(r.seconds,r.nanos)}(n))}function Sf(n,e){return Jh(n,e).canonicalString()}function Jh(n,e){const t=function(s){return new Pe(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function zw(n){const e=Pe.fromString(n);return ve(Ww(e)),e}function Zh(n,e){return Sf(n.databaseId,e.path)}function Gu(n,e){const t=zw(e);if(t.get(1)!==n.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(qw(t))}function $w(n,e){return Sf(n.databaseId,e)}function Jk(n){const e=zw(n);return e.length===4?Pe.emptyPath():qw(e)}function ed(n){return new Pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qw(n){return ve(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ny(n,e,t){return{name:Zh(n,e),fields:t.value.mapValue.fields}}function Zk(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(ve(h===void 0||typeof h=="string"),yt.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array),yt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?F.UNKNOWN:jw(u.code);return new H(h,u.message||"")}(o);t=new Uw(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Gu(n,r.document.name),i=Bn(r.document.updateTime),o=r.document.createTime?Bn(r.document.createTime):oe.min(),a=new Ft({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new Wl(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Gu(n,r.document),i=r.readTime?Bn(r.readTime):oe.min(),o=It.newNoDocument(s,i),a=r.removedTargetIds||[];t=new Wl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Gu(n,r.document),i=r.removedTargetIds||[];t=new Wl([],i,s,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new zk(s,i),a=r.targetId;t=new Fw(a,o)}}return t}function eN(n,e){let t;if(e instanceof Fa)t={update:ny(n,e.key,e.value)};else if(e instanceof Jc)t={delete:Zh(n,e.key)};else if(e instanceof is)t={update:ny(n,e.key,e.data),updateMask:cN(e.fieldMask)};else{if(!(e instanceof Fk))return se();t={verify:Zh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof mc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw se()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Xk(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se()}(n,e.precondition)),t}function tN(n,e){return n&&n.length>0?(ve(e!==void 0),n.map(t=>function(s,i){let o=s.updateTime?Bn(s.updateTime):Bn(i);return o.isEqual(oe.min())&&(o=Bn(i)),new Mk(o,s.transformResults||[])}(t,e))):[]}function nN(n,e){return{documents:[$w(n,e.path)]}}function rN(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=$w(n,s);const i=function(u){if(u.length!==0)return Hw(In.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:gi(m.field),direction:oN(m.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=Xh(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:s}}function sN(n){let e=Jk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ve(r===1);const h=t.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];t.where&&(i=function(d){const m=Gw(d);return m instanceof In&&bw(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(d){return d.map(m=>function(w){return new da(yi(w.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(d){let m;return m=typeof d=="object"?d.value:d,Wc(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(d){const m=!!d.before,g=d.values||[];return new fc(g,m)}(t.startAt));let u=null;return t.endAt&&(u=function(d){const m=!d.before,g=d.values||[];return new fc(g,m)}(t.endAt)),xk(e,s,o,i,a,"F",l,u)}function iN(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Gw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=yi(t.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yi(t.unaryFilter.field);return et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yi(t.unaryFilter.field);return et.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yi(t.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(n):n.fieldFilter!==void 0?function(t){return et.create(yi(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return In.create(t.compositeFilter.filters.map(r=>Gw(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se()}}(t.compositeFilter.op))}(n):se()}function oN(n){return Wk[n]}function aN(n){return Kk[n]}function lN(n){return Qk[n]}function gi(n){return{fieldPath:n.canonicalString()}}function yi(n){return pt.fromServerFormat(n.fieldPath)}function Hw(n){return n instanceof et?function(t){if(t.op==="=="){if(zg(t.value))return{unaryFilter:{field:gi(t.field),op:"IS_NAN"}};if(Bg(t.value))return{unaryFilter:{field:gi(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zg(t.value))return{unaryFilter:{field:gi(t.field),op:"IS_NOT_NAN"}};if(Bg(t.value))return{unaryFilter:{field:gi(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gi(t.field),op:aN(t.op),value:t.value}}}(n):n instanceof In?function(t){const r=t.getFilters().map(s=>Hw(s));return r.length===1?r[0]:{compositeFilter:{op:lN(t.op),filters:r}}}(n):se()}function cN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Ww(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t,r,s,i=oe.min(),o=oe.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.ct=e}}function hN(n){const e=sN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this.un=new fN}addToCollectionParentIndex(e,t){return this.un.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(Xr.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class fN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new mt(Pe.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new mt(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qi(0)}static kn(){return new Qi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.changes=new uo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ko(r.mutation,s,Yt.empty(),st.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){const s=Ps();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let o=Lo();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ps();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,s){let i=mr();const o=Wo(),a=function(){return Wo()}();return t.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof is)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Ko(h.mutation,u,h.mutation.getFieldMask(),st.now())):o.set(u.key,Yt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),t.forEach((u,h)=>{var d;return a.set(u,new mN(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Wo();let s=new Ve((o,a)=>o-a),i=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=t.get(l);if(u===null)return;let h=r.get(l)||Yt.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(s.get(a.batchId)||he()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=Cw();h.forEach(m=>{if(!i.has(m)){const g=Mw(t.get(m),r.get(m));g!==null&&d.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Iw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):B.resolve(Ps());let a=-1,l=i;return o.next(u=>B.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,he())).next(h=>({batchId:a,changes:Rw(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let s=Lo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let o=Lo();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const u=function(d,m){return new co(m,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((d,m)=>{o=o.insert(d,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,It.newInvalidDocument(h)))});let a=Lo();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&Ko(h.mutation,u,Yt.empty(),st.now()),Qc(t,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return B.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Bn(s.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:hN(s.bundledQuery),readTime:Bn(s.readTime)}}(t)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.overlays=new Ve(X.comparator),this.Ir=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ps();return B.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.ht(e,t,i)}),B.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){const s=Ps(),i=t.length+1,o=new X(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new Ve((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=Ps(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ps(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return B.resolve(a)}ht(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Bk(t,r));let i=this.Ir.get(t);i===void 0&&(i=he(),this.Ir.set(t,i)),this.Ir.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this.Tr=new mt(ot.Er),this.dr=new mt(ot.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new ot(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new ot(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new X(new Pe([])),r=new ot(t,e),s=new ot(t,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new X(new Pe([])),r=new ot(t,e),s=new ot(t,e+1);let i=he();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const t=new ot(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return X.comparator(e.key,t.key)||_e(e.wr,t.wr)}static Ar(e,t){return _e(e.wr,t.wr)||X.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new mt(ot.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Uk(i,t,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new ot(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,t){return B.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.vr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ot(t,0),s=new ot(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mt(_e);return t.forEach(s=>{const i=new ot(s,0),o=new ot(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;X.isDocumentKey(i)||(i=i.child(""));const o=new ot(new X(i),0);let a=new mt(_e);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},o),B.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ve(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(t.mutations,s=>{const i=new ot(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new ot(t,0),s=this.br.firstAfterOrEqual(r);return B.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.Mr=e,this.docs=function(){return new Ve(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():It.newInvalidDocument(t))}getEntries(e,t){let r=mr();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():It.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=mr();const o=t.path,a=new X(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||sk(rk(h),r)<=0||(s.has(h.key)||Qc(t,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,t,r,s){se()}Or(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new TN(this)}getSize(e){return B.resolve(this.size)}}class TN extends pN{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.persistence=e,this.Nr=new uo(t=>bf(t),Tf),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Pf,this.targetCount=0,this.kr=Qi.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,s)=>t(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),B.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Qi(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Kn(t),B.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),B.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t){this.qr={},this.overlays={},this.Qr=new yf(0),this.Kr=!1,this.Kr=!0,this.$r=new vN,this.referenceDelegate=e(this),this.Ur=new xN(this),this.indexManager=new dN,this.remoteDocumentCache=function(s){return new bN(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new uN(t),this.Gr=new yN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _N,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new wN(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){K("MemoryPersistence","Starting transaction:",e);const s=new IN(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,t){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class IN extends ok{constructor(e){super(),this.currentSequenceNumber=e}}class Rf{constructor(e){this.persistence=e,this.Jr=new Pf,this.Yr=null}static Zr(e){return new Rf(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),B.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const s=X.fromPath(r);return this.ei(e,s).next(i=>{i||t.removeEntry(s,oe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return B.or([()=>B.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=s}static Wi(e,t){let r=he(),s=he();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Cf(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return SP()?8:ak(Rt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.Yi(e,t).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,t,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new AN;return this.Xi(e,t,o).next(a=>{if(i.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>i.result)}es(e,t,r,s){return r.documentReadCount<this.ji?(No()<=fe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",mi(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(No()<=fe.DEBUG&&K("QueryEngine","Query:",mi(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(No()<=fe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",mi(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(t))):B.resolve())}Yi(e,t){if(Hg(t))return B.resolve(null);let r=Un(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=pc(t,null,"F"),r=Un(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=he(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(t,a);return this.ns(t,u,o,l.readTime)?this.Yi(e,pc(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,r,s){return Hg(t)||s.isEqual(oe.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(t,i);return this.ns(t,o,r,s)?B.resolve(null):(No()<=fe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),mi(t)),this.rs(e,o,t,nk(s,-1)).next(a=>a))})}ts(e,t){let r=new mt(Sw(e));return t.forEach((s,i)=>{Qc(e,i)&&(r=r.add(i))}),r}ns(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,t,r){return No()<=fe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",mi(t)),this.Ji.getDocumentsMatchingQuery(e,t,Xr.min(),r)}rs(e,t,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t,r,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new Ve(_e),this._s=new uo(i=>bf(i),Tf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function RN(n,e,t,r){return new PN(n,e,t,r)}async function Kw(n,e){const t=ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=he();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function CN(n,e){const t=ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,m=d.keys();let g=B.resolve();return m.forEach(w=>{g=g.next(()=>h.getEntry(l,w)).next(_=>{const v=u.docVersions.get(w);ve(v!==null),_.version.compareTo(v)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),h.addEntry(_)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=he();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function Qw(n){const e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function kN(n,e){const t=ae(n),r=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const a=[];e.targetChanges.forEach((h,d)=>{const m=s.get(d);if(!m)return;a.push(t.Ur.removeMatchingKeys(i,h.removedDocuments,d).next(()=>t.Ur.addMatchingKeys(i,h.addedDocuments,d)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(yt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),function(_,v,x){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,g,h)&&a.push(t.Ur.updateTargetData(i,g))});let l=mr(),u=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(NN(i,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(oe.min())){const h=t.Ur.getLastRemoteSnapshotVersion(i).next(d=>t.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(t.os=s,i))}function NN(n,e,t){let r=he(),s=he();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let o=mr();return t.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function DN(n,e){const t=ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ON(n,e){const t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ur.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):t.Ur.allocateTargetId(r).next(o=>(s=new Br(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function td(n,e,t){const r=ae(n),s=r.os.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ja(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function ry(n,e,t){const r=ae(n);let s=oe.min(),i=he();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=ae(l),m=d._s.get(h);return m!==void 0?B.resolve(d.os.get(m)):d.Ur.getTargetData(u,h)}(r,o,Un(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?s:oe.min(),t?i:he())).next(a=>(VN(r,Ik(e),a),{documents:a,Ts:i})))}function VN(n,e,t){let r=n.us.get(e)||oe.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.us.set(e,r)}class sy{constructor(){this.activeTargetIds=kk()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MN{constructor(){this.so=new sy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl=null;function Hu(){return Sl===null?Sl=function(){return 268435456+Math.round(2147483648*Math.random())}():Sl++,"0x"+Sl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class UN extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(t,r,s,i,o){const a=Hu(),l=this.xo(t,r.toUriEncodedString());K("RestConnection",`Sending RPC '${t}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(t,l,u,s).then(h=>(K("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Gi("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(t,r,s,i,o,a){return this.Mo(t,r,s,i,o)}Oo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>t[o]=i),s&&s.headers.forEach((i,o)=>t[o]=i)}xo(t,r){const s=jN[t];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,s){const i=Hu();return new Promise((o,a)=>{const l=new cw;l.setWithCredentials(!0),l.listenOnce(uw.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ql.NO_ERROR:const h=l.getResponseJson();K(Tt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case ql.TIMEOUT:K(Tt,`RPC '${e}' ${i} timed out`),a(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case ql.HTTP_ERROR:const d=l.getStatus();if(K(Tt,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const w=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(x)>=0?x:F.UNKNOWN}(g.status);a(new H(w,g.message))}else a(new H(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(F.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{K(Tt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);K(Tt,`RPC '${e}' ${i} sending request:`,s),l.send(t,"POST",u,r,15)})}Bo(e,t,r){const s=Hu(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fw(),a=dw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const h=i.join("");K(Tt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);let m=!1,g=!1;const w=new FN({Io:v=>{g?K(Tt,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(m||(K(Tt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),m=!0),K(Tt,`RPC '${e}' stream ${s} sending:`,v),d.send(v))},To:()=>d.close()}),_=(v,x,A)=>{v.listen(x,S=>{try{A(S)}catch(D){setTimeout(()=>{throw D},0)}})};return _(d,Mo.EventType.OPEN,()=>{g||(K(Tt,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),_(d,Mo.EventType.CLOSE,()=>{g||(g=!0,K(Tt,`RPC '${e}' stream ${s} transport closed`),w.So())}),_(d,Mo.EventType.ERROR,v=>{g||(g=!0,Gi(Tt,`RPC '${e}' stream ${s} transport errored:`,v),w.So(new H(F.UNAVAILABLE,"The operation could not be completed")))}),_(d,Mo.EventType.MESSAGE,v=>{var x;if(!g){const A=v.data[0];ve(!!A);const S=A,D=S.error||((x=S[0])===null||x===void 0?void 0:x.error);if(D){K(Tt,`RPC '${e}' stream ${s} received error:`,D);const R=D.status;let V=function(T){const C=Ye[T];if(C!==void 0)return jw(C)}(R),E=D.message;V===void 0&&(V=F.INTERNAL,E="Unknown error status: "+R+" with message "+D.message),g=!0,w.So(new H(V,E)),d.close()}else K(Tt,`RPC '${e}' stream ${s} received:`,A),w.bo(A)}}),_(a,hw.STAT_EVENT,v=>{v.stat===Gh.PROXY?K(Tt,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===Gh.NOPROXY&&K(Tt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Wu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(n){return new Yk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Yw(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===t&&this.P_(r,s)},r=>{e(()=>{const s=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BN extends Xw{constructor(e,t,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=Zk(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?Bn(o.readTime):oe.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=ed(this.serializer),t.addTarget=function(i,o){let a;const l=o.target;if(a=Qh(l)?{documents:nN(i,l)}:{query:rN(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Bw(i,o.resumeToken);const u=Xh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=yc(i,o.snapshotVersion.toTimestamp());const u=Xh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=iN(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=ed(this.serializer),t.removeTarget=e,this.a_(t)}}class zN extends Xw{constructor(e,t,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ve(!!e.streamToken),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=tN(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=ed(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>eN(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Jh(t,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(F.UNKNOWN,i.toString())})}Lo(e,t,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Jh(t,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class qN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pr(t),this.D_=!1):K("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{ri(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ae(l);u.L_.add(4),await Ba(u),u.q_.set("Unknown"),u.L_.delete(4),await tu(u)}(this))})}),this.q_=new qN(r,s)}}async function tu(n){if(ri(n))for(const e of n.B_)await e(!0)}async function Ba(n){for(const e of n.B_)await e(!1)}function Jw(n,e){const t=ae(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Of(t)?Df(t):ho(t).r_()&&Nf(t,e))}function kf(n,e){const t=ae(n),r=ho(t);t.N_.delete(e),r.r_()&&Zw(t,e),t.N_.size===0&&(r.r_()?r.o_():ri(t)&&t.q_.set("Unknown"))}function Nf(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ho(n).A_(e)}function Zw(n,e){n.Q_.xe(e),ho(n).R_(e)}function Df(n){n.Q_=new Hk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ho(n).start(),n.q_.v_()}function Of(n){return ri(n)&&!ho(n).n_()&&n.N_.size>0}function ri(n){return ae(n).L_.size===0}function eb(n){n.Q_=void 0}async function HN(n){n.q_.set("Online")}async function WN(n){n.N_.forEach((e,t)=>{Nf(n,e)})}async function KN(n,e){eb(n),Of(n)?(n.q_.M_(e),Df(n)):n.q_.set("Unknown")}async function QN(n,e,t){if(n.q_.set("Online"),e instanceof Uw&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(n,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _c(n,r)}else if(e instanceof Wl?n.Q_.Ke(e):e instanceof Fw?n.Q_.He(e):n.Q_.We(e),!t.isEqual(oe.min()))try{const r=await Qw(n.localStore);t.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(u);h&&i.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(yt.EMPTY_BYTE_STRING,h.snapshotVersion)),Zw(i,l);const d=new Br(h.target,l,u,h.sequenceNumber);Nf(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await _c(n,r)}}async function _c(n,e,t){if(!ja(e))throw e;n.L_.add(1),await Ba(n),n.q_.set("Offline"),t||(t=()=>Qw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await tu(n)})}function tb(n,e){return e().catch(t=>_c(n,t,e))}async function nu(n){const e=ae(n),t=Zr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;YN(e);)try{const s=await DN(e.localStore,r);if(s===null){e.O_.length===0&&t.o_();break}r=s.batchId,XN(e,s)}catch(s){await _c(e,s)}nb(e)&&rb(e)}function YN(n){return ri(n)&&n.O_.length<10}function XN(n,e){n.O_.push(e);const t=Zr(n);t.r_()&&t.V_&&t.m_(e.mutations)}function nb(n){return ri(n)&&!Zr(n).n_()&&n.O_.length>0}function rb(n){Zr(n).start()}async function JN(n){Zr(n).p_()}async function ZN(n){const e=Zr(n);for(const t of n.O_)e.m_(t.mutations)}async function eD(n,e,t){const r=n.O_.shift(),s=If.from(r,e,t);await tb(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await nu(n)}async function tD(n,e){e&&Zr(n).V_&&await async function(r,s){if(function(o){return $k(o)&&o!==F.ABORTED}(s.code)){const i=r.O_.shift();Zr(r).s_(),await tb(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await nu(r)}}(n,e),nb(n)&&rb(n)}async function oy(n,e){const t=ae(n);t.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=ri(t);t.L_.add(3),await Ba(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await tu(t)}async function nD(n,e){const t=ae(n);e?(t.L_.delete(2),await tu(t)):e||(t.L_.add(2),await Ba(t),t.q_.set("Unknown"))}function ho(n){return n.K_||(n.K_=function(t,r,s){const i=ae(t);return i.w_(),new BN(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:HN.bind(null,n),Ro:WN.bind(null,n),mo:KN.bind(null,n),d_:QN.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),Of(n)?Df(n):n.q_.set("Unknown")):(await n.K_.stop(),eb(n))})),n.K_}function Zr(n){return n.U_||(n.U_=function(t,r,s){const i=ae(t);return i.w_(),new zN(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JN.bind(null,n),mo:tD.bind(null,n),f_:ZN.bind(null,n),g_:eD.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await nu(n)):(await n.U_.stop(),n.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const o=Date.now()+r,a=new Vf(e,t,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mf(n,e){if(pr("AsyncQueue",`${e}: ${n}`),ja(n))return new H(F.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=Lo(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new Ci(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ci)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ci;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.W_=new Ve(X.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Yi{constructor(e,t,r,s,i,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,s,i){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Yi(e,t,Ci.emptySet(t),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class sD{constructor(){this.queries=ly(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const s=ae(t),i=s.queries;s.queries=ly(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}}function ly(){return new uo(n=>Aw(n),Kc)}async function sb(n,e){const t=ae(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new rD,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await t.onListen(s,!0);break;case 1:i.z_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const a=Mf(o,`Initialization of query '${mi(e.query)}' failed`);return void e.onError(a)}t.queries.set(s,i),i.j_.push(e),e.Z_(t.onlineState),i.z_&&e.X_(i.z_)&&Lf(t)}async function ib(n,e){const t=ae(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function iD(n,e){const t=ae(n);let r=!1;for(const s of e){const i=s.query,o=t.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Lf(t)}function oD(n,e,t){const r=ae(n),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(t);r.queries.delete(e)}function Lf(n){n.Y_.forEach(e=>{e.next()})}var nd,cy;(cy=nd||(nd={})).ea="default",cy.Cache="cache";class ob{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Yi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Yi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==nd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.key=e}}class lb{constructor(e){this.key=e}}class aD{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=he(),this.mutatedKeys=he(),this.Aa=Sw(e),this.Ra=new Ci(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new ay,s=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const m=s.get(h),g=Qc(this.query,d)?d:null,w=!!m&&this.mutatedKeys.has(m.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let v=!1;m&&g?m.data.isEqual(g.data)?w!==_&&(r.track({type:3,doc:g}),v=!0):this.ga(m,g)||(r.track({type:2,doc:g}),v=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),v=!0):m&&!g&&(r.track({type:1,doc:m}),v=!0,(l||u)&&(a=!0)),v&&(g?(o=o.add(g),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(g,w){const _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return _(g)-_(w)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),s=s!=null&&s;const a=t&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Yi(this.query,e.Ra,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ay,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=he(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new lb(r))}),this.da.forEach(r=>{e.has(r)||t.push(new ab(r))}),t}ba(e){this.Ta=e.Ts,this.da=he();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Yi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class lD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cD{constructor(e){this.key=e,this.va=!1}}class uD{constructor(e,t,r,s,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new uo(a=>Aw(a),Kc),this.Ma=new Map,this.xa=new Set,this.Oa=new Ve(X.comparator),this.Na=new Map,this.La=new Pf,this.Ba={},this.ka=new Map,this.qa=Qi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function hD(n,e,t=!0){const r=pb(n);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await cb(r,e,t,!0),s}async function dD(n,e){const t=pb(n);await cb(t,e,!0,!1)}async function cb(n,e,t,r){const s=await ON(n.localStore,Un(e)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,t);let a;return r&&(a=await fD(n,e,i,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&Jw(n.remoteStore,s),a}async function fD(n,e,t,r,s){n.Ka=(d,m,g)=>async function(_,v,x,A){let S=v.view.ma(x);S.ns&&(S=await ry(_.localStore,v.query,!1).then(({documents:E})=>v.view.ma(E,S)));const D=A&&A.targetChanges.get(v.targetId),R=A&&A.targetMismatches.get(v.targetId)!=null,V=v.view.applyChanges(S,_.isPrimaryClient,D,R);return hy(_,v.targetId,V.wa),V.snapshot}(n,d,m,g);const i=await ry(n.localStore,e,!0),o=new aD(e,i.Ts),a=o.ma(i.documents),l=Ua.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),u=o.applyChanges(a,n.isPrimaryClient,l);hy(n,t,u.wa);const h=new lD(e,t,o);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot}async function pD(n,e,t){const r=ae(n),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Kc(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await td(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&kf(r.remoteStore,s.targetId),rd(r,s.targetId)}).catch(La)):(rd(r,s.targetId),await td(r.localStore,s.targetId,!0))}async function mD(n,e){const t=ae(n),r=t.Fa.get(e),s=t.Ma.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),kf(t.remoteStore,r.targetId))}async function gD(n,e,t){const r=xD(n);try{const s=await function(o,a){const l=ae(o),u=st.now(),h=a.reduce((g,w)=>g.add(w.key),he());let d,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=mr(),_=he();return l.cs.getEntries(g,h).next(v=>{w=v,w.forEach((x,A)=>{A.isValidDocument()||(_=_.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(v=>{d=v;const x=[];for(const A of a){const S=jk(A,d.get(A.key).overlayedDocument);S!=null&&x.push(new is(A.key,S,_w(S.value.mapValue),Bt.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,x,a)}).next(v=>{m=v;const x=v.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(g,v.batchId,x)})}).then(()=>({batchId:m.batchId,changes:Rw(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ve(_e)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,t),await za(r,s.changes),await nu(r.remoteStore)}catch(s){const i=Mf(s,"Failed to persist write");t.reject(i)}}async function ub(n,e){const t=ae(n);try{const r=await kN(t.localStore,e);e.targetChanges.forEach((s,i)=>{const o=t.Na.get(i);o&&(ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ve(o.va):s.removedDocuments.size>0&&(ve(o.va),o.va=!1))}),await za(t,r,e)}catch(r){await La(r)}}function uy(n,e,t){const r=ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ae(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const m of d.j_)m.Z_(a)&&(u=!0)}),u&&Lf(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yD(n,e,t){const r=ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ve(X.comparator);o=o.insert(i,It.newNoDocument(i,oe.min()));const a=he().add(i),l=new Zc(oe.min(),new Map,new Ve(_e),o,a);await ub(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),jf(r)}else await td(r.localStore,e,!1).then(()=>rd(r,e,t)).catch(La)}async function _D(n,e){const t=ae(n),r=e.batch.batchId;try{const s=await CN(t.localStore,e);db(t,r,null),hb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await za(t,s)}catch(s){await La(s)}}async function vD(n,e,t){const r=ae(n);try{const s=await function(o,a){const l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ve(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);db(r,e,t),hb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await za(r,s)}catch(s){await La(s)}}function hb(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function db(n,e,t){const r=ae(n);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function rd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||fb(n,r)})}function fb(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(kf(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),jf(n))}function hy(n,e,t){for(const r of t)r instanceof ab?(n.La.addReference(r.key,e),wD(n,r)):r instanceof lb?(K("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||fb(n,r.key)):se()}function wD(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(K("SyncEngine","New document in limbo: "+t),n.xa.add(r),jf(n))}function jf(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new X(Pe.fromString(e)),r=n.qa.next();n.Na.set(r,new cD(t)),n.Oa=n.Oa.insert(t,r),Jw(n.remoteStore,new Br(Un(xf(t.path)),r,"TargetPurposeLimboResolution",yf.oe))}}async function za(n,e,t){const r=ae(n),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=t==null?void 0:t.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){s.push(u);const d=Cf.Wi(l.targetId,u);i.push(d)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,u){const h=ae(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>B.forEach(u,m=>B.forEach(m.$i,g=>h.persistence.referenceDelegate.addReference(d,m.targetId,g)).next(()=>B.forEach(m.Ui,g=>h.persistence.referenceDelegate.removeReference(d,m.targetId,g)))))}catch(d){if(!ja(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const m=d.targetId;if(!d.fromCache){const g=h.os.get(m),w=g.snapshotVersion,_=g.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(m,_)}}}(r.localStore,i))}async function bD(n,e){const t=ae(n);if(!t.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await Kw(t.localStore,e);t.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new H(F.CANCELLED,o))})}),i.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await za(t,r.hs)}}function TD(n,e){const t=ae(n),r=t.Na.get(e);if(r&&r.va)return he().add(r.key);{let s=he();const i=t.Ma.get(e);if(!i)return s;for(const o of i){const a=t.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function pb(n){const e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ub.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yD.bind(null,e),e.Ca.d_=iD.bind(null,e.eventManager),e.Ca.$a=oD.bind(null,e.eventManager),e}function xD(n){const e=ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_D.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vD.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return RN(this.persistence,new SN,e.initialUser,this.serializer)}Ga(e){return new EN(Rf.Zr,this.serializer)}Wa(e){return new MN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class sd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bD.bind(null,this.syncEngine),await nD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sD}()}createDatastore(e){const t=eu(e.databaseInfo.databaseId),r=function(i){return new UN(i)}(e.databaseInfo);return function(i,o,a,l){return new $N(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,o,a){return new GN(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>uy(this.syncEngine,t,0),function(){return iy.D()?new iy:new LN}())}createSyncEngine(e,t){return function(s,i,o,a,l,u,h){const d=new uD(s,i,o,a,l,u);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=ae(s);K("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Ba(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}sd.provider={build:()=>new sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=xt.UNAUTHENTICATED,this.clientId=mw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{K("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Mf(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ku(n,e){n.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Kw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function dy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ID(n);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>oy(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>oy(e.remoteStore,s)),n._onlineComponents=e}async function ID(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ku(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Gi("Error using user provided cache. Falling back to memory cache: "+t),await Ku(n,new vc)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Ku(n,new vc);return n._offlineComponents}async function gb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await dy(n,n._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await dy(n,new sd))),n._onlineComponents}function AD(n){return gb(n).then(e=>e.syncEngine)}async function yb(n){const e=await gb(n),t=e.eventManager;return t.onListen=hD.bind(null,e.syncEngine),t.onUnlisten=pD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mD.bind(null,e.syncEngine),t}function SD(n,e,t={}){const r=new hr;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new mb({next:m=>{h.Za(),o.enqueueAndForget(()=>ib(i,d));const g=m.docs.has(a);!g&&m.fromCache?u.reject(new H(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?u.reject(new H(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new ob(xf(a.path),h,{includeMetadataChanges:!0,_a:!0});return sb(i,d)}(await yb(n),n.asyncQueue,e,t,r)),r.promise}function PD(n,e,t={}){const r=new hr;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new mb({next:m=>{h.Za(),o.enqueueAndForget(()=>ib(i,d)),m.fromCache&&l.source==="server"?u.reject(new H(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),d=new ob(a,h,{includeMetadataChanges:!0,_a:!0});return sb(i,d)}(await yb(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(n,e,t){if(!t)throw new H(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RD(n,e,t,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function py(n){if(!X.isDocumentKey(n))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function my(n){if(X.isDocumentKey(n))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ru(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":se()}function An(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ru(n);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function CD(n,e){if(e<=0)throw new H(F.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_b((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class su{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W1;switch(r.type){case"firstParty":return new X1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=fy.get(t);r&&(K("ComponentProvider","Removing Datastore"),fy.delete(t),r.terminate())}(this),Promise.resolve()}}function kD(n,e,t,r={}){var s;const i=(n=An(n,su))._getSettings(),o=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=xt.MOCK_USER;else{a=T0(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new xt(u)}n._authCredentials=new K1(new pw(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class Mt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}}class Wr extends os{constructor(e,t,r){super(e,t,xf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new X(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function H4(n,e,...t){if(n=Re(n),vb("collection","path",e),n instanceof su){const r=Pe.fromString(e,...t);return my(r),new Wr(n,null,r)}{if(!(n instanceof Mt||n instanceof Wr))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pe.fromString(e,...t));return my(r),new Wr(n.firestore,null,r)}}function fi(n,e,...t){if(n=Re(n),arguments.length===1&&(e=mw.newId()),vb("doc","path",e),n instanceof su){const r=Pe.fromString(e,...t);return py(r),new Mt(n,null,new X(r))}{if(!(n instanceof Mt||n instanceof Wr))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pe.fromString(e,...t));return py(r),new Mt(n.firestore,n instanceof Wr?n.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Yw(this,"async_queue_retry"),this.Vu=()=>{const r=Wu();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=Wu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Wu();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new hr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ja(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw pr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const s=Vf.createAndSchedule(this,e,t,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class si extends su{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new yy,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yy(e),this._firestoreClient=void 0,await e}}}function ND(n,e){const t=typeof n=="object"?n:of(),r=typeof n=="string"?n:"(default)",s=zc(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=v0("firestore");i&&kD(s,...i)}return s}function iu(n){if(n._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DD(n),n._firestoreClient}function DD(n){var e,t,r;const s=n._freezeSettings(),i=function(a,l,u,h){return new uk(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,_b(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new ED(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xi(yt.fromBase64String(e))}catch(t){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xi(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=/^__.*__$/;class VD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fa(e,this.data,t,this.fieldTransforms)}}class wb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new is(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class zf{constructor(e,t,r,s,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(bb(this.Cu)&&OD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class MD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||eu(e)}Qu(e,t,r,s=!1){return new zf({Cu:e,methodName:t,qu:r,path:pt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ou(n){const e=n._freezeSettings(),t=eu(n._databaseId);return new MD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Tb(n,e,t,r,s,i={}){const o=n.Qu(i.merge||i.mergeFields?2:0,e,t,s);$f("Data must be an object, but it was:",o,r);const a=Ib(r,o);let l,u;if(i.merge)l=new Yt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const m=id(e,d,t);if(!o.contains(m))throw new H(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Sb(h,m)||h.push(m)}l=new Yt(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new VD(new Ft(a),l,u)}class au extends Ff{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof au}}function xb(n,e,t,r){const s=n.Qu(1,e,t);$f("Data must be an object, but it was:",s,r);const i=[],o=Ft.empty();ni(r,(l,u)=>{const h=qf(e,l,t);u=Re(u);const d=s.Nu(h);if(u instanceof au)i.push(h);else{const m=qa(u,d);m!=null&&(i.push(h),o.set(h,m))}});const a=new Yt(i);return new wb(o,a,s.fieldTransforms)}function Eb(n,e,t,r,s,i){const o=n.Qu(1,e,t),a=[id(e,r,t)],l=[s];if(i.length%2!=0)throw new H(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(id(e,i[m])),l.push(i[m+1]);const u=[],h=Ft.empty();for(let m=a.length-1;m>=0;--m)if(!Sb(u,a[m])){const g=a[m];let w=l[m];w=Re(w);const _=o.Nu(g);if(w instanceof au)u.push(g);else{const v=qa(w,_);v!=null&&(u.push(g),h.set(g,v))}}const d=new Yt(u);return new wb(h,d,o.fieldTransforms)}function LD(n,e,t,r=!1){return qa(t,n.Qu(r?4:3,e))}function qa(n,e){if(Ab(n=Re(n)))return $f("Unsupported field value:",e,n),Ib(n,e);if(n instanceof Ff)return function(r,s){if(!bb(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=qa(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=Re(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=st.fromDate(r);return{timestampValue:yc(s.serializer,i)}}if(r instanceof st){const i=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yc(s.serializer,i)}}if(r instanceof Uf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xi)return{bytesValue:Bw(s.serializer,r._byteString)};if(r instanceof Mt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Bf)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ef(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${ru(r)}`)}(n,e)}function Ib(n,e){const t={};return gw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ni(n,(r,s)=>{const i=qa(s,e.Mu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function Ab(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof Uf||n instanceof Xi||n instanceof Mt||n instanceof Ff||n instanceof Bf)}function $f(n,e,t){if(!Ab(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=ru(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function id(n,e,t){if((e=Re(e))instanceof $a)return e._internalPath;if(typeof e=="string")return qf(n,e);throw wc("Field path arguments must be of type string or ",n,!1,void 0,t)}const jD=new RegExp("[~\\*/\\[\\]]");function qf(n,e,t){if(e.search(jD)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $a(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wc(n,e,t,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new H(F.INVALID_ARGUMENT,a+n+l)}function Sb(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lu("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class FD extends Pb{data(){return super.data()}}function lu(n,e){return typeof e=="string"?qf(n,e):e instanceof $a?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gf{}class Hf extends Gf{}function W4(n,e,...t){let r=[];e instanceof Gf&&r.push(e),r=r.concat(t),function(i){const o=i.filter(l=>l instanceof Wf).length,a=i.filter(l=>l instanceof cu).length;if(o>1||o>0&&a>0)throw new H(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class cu extends Hf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new cu(e,t,r)}_apply(e){const t=this._parse(e);return Rb(e._query,t),new os(e.firestore,e.converter,Yh(e._query,t))}_parse(e){const t=ou(e.firestore);return function(i,o,a,l,u,h,d){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){vy(d,h);const g=[];for(const w of d)g.push(_y(l,i,w));m={arrayValue:{values:g}}}else m=_y(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||vy(d,h),m=LD(a,o,d,h==="in"||h==="not-in");return et.create(u,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function K4(n,e,t){const r=e,s=lu("where",n);return cu._create(s,r,t)}class Wf extends Gf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wf(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:In.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Rb(o,l),o=Yh(o,l)}(e._query,t),new os(e.firestore,e.converter,Yh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kf extends Hf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kf(e,t)}_apply(e){const t=function(s,i,o){if(s.startAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new da(i,o)}(e._query,this._field,this._direction);return new os(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new co(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Q4(n,e="asc"){const t=e,r=lu("orderBy",n);return Kf._create(r,t)}class Qf extends Hf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Qf(e,t,r)}_apply(e){return new os(e.firestore,e.converter,pc(e._query,this._limit,this._limitType))}}function Y4(n){return CD("limit",n),Qf._create("limit",n,"F")}function _y(n,e,t){if(typeof(t=Re(t))=="string"){if(t==="")throw new H(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iw(e)&&t.indexOf("/")!==-1)throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Pe.fromString(t));if(!X.isDocumentKey(r))throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ug(n,new X(r))}if(t instanceof Mt)return Ug(n,t._key);throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ru(t)}.`)}function vy(n,e){if(!Array.isArray(n)||n.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rb(n,e){const t=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class BD{convertValue(e,t="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ni(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,s;const i=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>We(o.doubleValue));return new Bf(i)}convertGeoPoint(e){return new Uf(We(e.latitude),We(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ca(e));default:return null}}convertTimestamp(e){const t=Jr(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Pe.fromString(e);ve(Ww(r));const s=new ua(r.get(1),r.get(3)),i=new X(r.popFirst(5));return s.isEqual(t)||pr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kb extends Pb{constructor(e,t,r,s,i,o){super(e,t,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(lu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Kl extends kb{data(e={}){return super.data(e)}}class zD{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Fo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Kl(this._firestore,this._userDataWriter,r.key,r,new Fo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Kl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Fo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Kl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Fo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:$D(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $D(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(n){n=An(n,Mt);const e=An(n.firestore,si);return SD(iu(e),n._key).then(t=>qD(e,n,t))}class Nb extends BD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function X4(n){n=An(n,os);const e=An(n.firestore,si),t=iu(e),r=new Nb(e);return UD(n._query),PD(t,n._query).then(s=>new zD(e,r,n,s))}function Yu(n,e,t){n=An(n,Mt);const r=An(n.firestore,si),s=Cb(n.converter,e,t);return uu(r,[Tb(ou(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Bt.none())])}function Xu(n,e,t,...r){n=An(n,Mt);const s=An(n.firestore,si),i=ou(s);let o;return o=typeof(e=Re(e))=="string"||e instanceof $a?Eb(i,"updateDoc",n._key,e,t,r):xb(i,"updateDoc",n._key,e),uu(s,[o.toMutation(n._key,Bt.exists(!0))])}function J4(n){return uu(An(n.firestore,si),[new Jc(n._key,Bt.none())])}function uu(n,e){return function(r,s){const i=new hr;return r.asyncQueue.enqueueAndForget(async()=>gD(await AD(r),s,i)),i.promise}(iu(n),e)}function qD(n,e,t){const r=t.docs.get(e._key),s=new Nb(n);return new kb(n,s,e._key,r,new Fo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ou(e)}set(e,t,r){this._verifyNotCommitted();const s=Ju(e,this._firestore),i=Cb(s.converter,t,r),o=Tb(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,Bt.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const i=Ju(e,this._firestore);let o;return o=typeof(t=Re(t))=="string"||t instanceof $a?Eb(this._dataReader,"WriteBatch.update",i._key,t,r,s):xb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,Bt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ju(e,this._firestore);return this._mutations=this._mutations.concat(new Jc(t._key,Bt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new H(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ju(n,e){if((n=Re(n)).firestore!==e)throw new H(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(n){return iu(n=An(n,si)),new GD(n,e=>uu(n,e))}(function(e,t=!0){(function(s){lo=s})(ti),Ws(new Yr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new si(new Q1(r.getProvider("auth-internal")),new Z1(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ua(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),jn(Vg,"4.7.3",e),jn(Vg,"4.7.3","esm2017")})();var HD="firebase",WD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(HD,WD,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="firebasestorage.googleapis.com",Ob="storageBucket",KD=2*60*1e3,QD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze extends Wn{constructor(e,t,r=0){super(Zu(e),`Firebase Storage: ${t} (${Zu(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Be;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Be||(Be={}));function Zu(n){return"storage/"+n}function Yf(){const n="An unknown error occurred, please check the error payload for server response.";return new ze(Be.UNKNOWN,n)}function YD(n){return new ze(Be.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function XD(n){return new ze(Be.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JD(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ze(Be.UNAUTHENTICATED,n)}function ZD(){return new ze(Be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eO(n){return new ze(Be.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function tO(){return new ze(Be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function nO(){return new ze(Be.CANCELED,"User canceled the upload/download.")}function rO(n){return new ze(Be.INVALID_URL,"Invalid URL '"+n+"'.")}function sO(n){return new ze(Be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function iO(){return new ze(Be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ob+"' property when initializing the app?")}function oO(){return new ze(Be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function aO(){return new ze(Be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lO(n){return new ze(Be.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function od(n){return new ze(Be.INVALID_ARGUMENT,n)}function Vb(){return new ze(Be.APP_DELETED,"The Firebase app was deleted.")}function cO(n){return new ze(Be.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Qo(n,e){return new ze(Be.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Do(n){throw new ze(Be.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Xt.makeFromUrl(e,t)}catch{return new Xt(e,"")}if(r.path==="")return r;throw sO(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(D){D.path_=decodeURIComponent(D.path)}const h="v[A-Za-z0-9_]+",d=t.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${s}/o${m}`,"i"),w={bucket:1,path:3},_=t===Db?"(?:storage.googleapis.com|storage.cloud.google.com)":t,v="([^?#]*)",x=new RegExp(`^https?://${_}/${s}/${v}`,"i"),S=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:u},{regex:x,indices:{bucket:1,path:2},postModify:u}];for(let D=0;D<S.length;D++){const R=S[D],V=R.regex.exec(e);if(V){const E=V[R.indices.bucket];let b=V[R.indices.path];b||(b=""),r=new Xt(E,b),R.postModify(r);break}}if(r==null)throw rO(e);return r}}class uO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(n,e,t){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...v){u||(u=!0,e.apply(null,v))}function d(v){s=setTimeout(()=>{s=null,n(g,l())},v)}function m(){i&&clearTimeout(i)}function g(v,...x){if(u){m();return}if(v){m(),h.call(null,v,...x);return}if(l()||o){m(),h.call(null,v,...x);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,d(S)}let w=!1;function _(v){w||(w=!0,m(),!u&&(s!==null?(v||(a=2),clearTimeout(s),d(0)):v||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,_(!0)},t),_}function dO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(n){return n!==void 0}function pO(n){return typeof n=="object"&&!Array.isArray(n)}function Xf(n){return typeof n=="string"||n instanceof String}function wy(n){return Jf()&&n instanceof Blob}function Jf(){return typeof Blob<"u"}function by(n,e,t,r){if(r<e)throw od(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw od(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Mb(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Us;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Us||(Us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,i=e.indexOf(n)!==-1;return t||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t,r,s,i,o,a,l,u,h,d,m=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=d,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Pl(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Us.NO_ERROR,l=i.getStatus();if(!a||mO(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Us.ABORT;r(!1,new Pl(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Pl(u,i))})},t=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());fO(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Yf();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?Vb():nO();o(l)}else{const l=tO();o(l)}};this.canceled_?t(!1,new Pl(!1,null,!0)):this.backoffId_=hO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pl{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function yO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function _O(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function vO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function wO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function bO(n,e,t,r,s,i,o=!0){const a=Mb(n.urlParams),l=n.url+a,u=Object.assign({},n.headers);return vO(u,e),yO(u,t),_O(u,i),wO(u,r),new gO(l,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function xO(...n){const e=TO();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Jf())return new Blob(n);throw new ze(Be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function EO(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(n){if(typeof atob>"u")throw lO("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class eh{constructor(e,t){this.data=e,this.contentType=t||null}}function AO(n,e){switch(n){case Mn.RAW:return new eh(Lb(e));case Mn.BASE64:case Mn.BASE64URL:return new eh(jb(n,e));case Mn.DATA_URL:return new eh(PO(e),RO(e))}throw Yf()}function Lb(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=n.charCodeAt(++t);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function SO(n){let e;try{e=decodeURIComponent(n)}catch{throw Qo(Mn.DATA_URL,"Malformed data URL.")}return Lb(e)}function jb(n,e){switch(n){case Mn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Qo(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Mn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Qo(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=IO(e)}catch(s){throw s.message.includes("polyfill")?s:Qo(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class Fb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Qo(Mn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=CO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function PO(n){const e=new Fb(n);return e.base64?jb(Mn.BASE64,e.rest):SO(e.rest)}function RO(n){return new Fb(n).contentType}function CO(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,t){let r=0,s="";wy(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(wy(this.data_)){const r=this.data_,s=EO(r,e,t);return s===null?null:new Or(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Or(r,!0)}}static getBlob(...e){if(Jf()){const t=e.map(r=>r instanceof Or?r.data_:r);return new Or(xO.apply(null,t))}else{const t=e.map(o=>Xf(o)?AO(Mn.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Or(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(n){let e;try{e=JSON.parse(n)}catch{return null}return pO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function NO(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function Bb(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(n,e){return e}class kt{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||DO}}let Rl=null;function OO(n){return!Xf(n)||n.length<2?n:Bb(n)}function zb(){if(Rl)return Rl;const n=[];n.push(new kt("bucket")),n.push(new kt("generation")),n.push(new kt("metageneration")),n.push(new kt("name","fullPath",!0));function e(i,o){return OO(o)}const t=new kt("name");t.xform=e,n.push(t);function r(i,o){return o!==void 0?Number(o):o}const s=new kt("size");return s.xform=r,n.push(s),n.push(new kt("timeCreated")),n.push(new kt("updated")),n.push(new kt("md5Hash",null,!0)),n.push(new kt("cacheControl",null,!0)),n.push(new kt("contentDisposition",null,!0)),n.push(new kt("contentEncoding",null,!0)),n.push(new kt("contentLanguage",null,!0)),n.push(new kt("contentType",null,!0)),n.push(new kt("metadata","customMetadata",!0)),Rl=n,Rl}function VO(n,e){function t(){const r=n.bucket,s=n.fullPath,i=new Xt(r,s);return e._makeStorageReference(i)}Object.defineProperty(n,"ref",{get:t})}function MO(n,e,t){const r={};r.type="file";const s=t.length;for(let i=0;i<s;i++){const o=t[i];r[o.local]=o.xform(r,e[o.server])}return VO(r,n),r}function $b(n,e,t){const r=Ub(e);return r===null?null:MO(n,r,t)}function LO(n,e,t,r){const s=Ub(e);if(s===null||!Xf(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=n.bucket,d=n.fullPath,m="/b/"+o(h)+"/o/"+o(d),g=hu(m,t,r),w=Mb({alt:"media",token:u});return g+w})[0]}function jO(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(t[i.server]=n[i.local])}return JSON.stringify(t)}class Zf{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(n){if(!n)throw Yf()}function FO(n,e){function t(r,s){const i=$b(n,s,e);return qb(i!==null),i}return t}function UO(n,e){function t(r,s){const i=$b(n,s,e);return qb(i!==null),LO(i,s,n.host,n._protocol)}return t}function Gb(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=ZD():s=JD():t.getStatus()===402?s=XD(n.bucket):t.getStatus()===403?s=eO(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Hb(n){const e=Gb(n);function t(r,s){let i=e(r,s);return r.getStatus()===404&&(i=YD(n.path)),i.serverResponse=s.serverResponse,i}return t}function BO(n,e,t){const r=e.fullServerUrl(),s=hu(r,n.host,n._protocol),i="GET",o=n.maxOperationRetryTime,a=new Zf(s,i,UO(n,t),o);return a.errorHandler=Hb(e),a}function zO(n,e){const t=e.fullServerUrl(),r=hu(t,n.host,n._protocol),s="DELETE",i=n.maxOperationRetryTime;function o(l,u){}const a=new Zf(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=Hb(e),a}function $O(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function qO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=$O(null,e)),r}function GO(n,e,t,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let D=0;D<2;D++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=qO(e,r,s),h=jO(u,t),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",g=Or.getBlob(d,r,m);if(g===null)throw oO();const w={name:u.fullPath},_=hu(i,n.host,n._protocol),v="POST",x=n.maxUploadRetryTime,A=new Zf(_,v,FO(n,t),x);return A.urlParams=w,A.headers=o,A.body=g.uploadData(),A.errorHandler=Gb(e),A}class HO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw Do("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Do("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Do("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Do("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Do("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WO extends HO{initXhr(){this.xhr_.responseType="text"}}function ep(){return new WO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t){this._service=e,t instanceof Xt?this._location=t:this._location=Xt.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Js(e,t)}get root(){const e=new Xt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Bb(this._location.path)}get storage(){return this._service}get parent(){const e=kO(this._location.path);if(e===null)return null;const t=new Xt(this._location.bucket,e);return new Js(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw cO(e)}}function KO(n,e,t){n._throwIfRoot("uploadBytes");const r=GO(n.storage,n._location,zb(),new Or(e,!0),t);return n.storage.makeRequestWithTokens(r,ep).then(s=>({metadata:s,ref:n}))}function QO(n){n._throwIfRoot("getDownloadURL");const e=BO(n.storage,n._location,zb());return n.storage.makeRequestWithTokens(e,ep).then(t=>{if(t===null)throw aO();return t})}function YO(n){n._throwIfRoot("deleteObject");const e=zO(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ep)}function XO(n,e){const t=NO(n._location.path,e),r=new Xt(n._location.bucket,t);return new Js(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(n){return/^[A-Za-z]+:\/\//.test(n)}function ZO(n,e){return new Js(n,e)}function Wb(n,e){if(n instanceof tp){const t=n;if(t._bucket==null)throw iO();const r=new Js(t,t._bucket);return e!=null?Wb(r,e):r}else return e!==void 0?XO(n,e):n}function eV(n,e){if(e&&JO(e)){if(n instanceof tp)return ZO(n,e);throw od("To use ref(service, url), the first argument must be a Storage instance.")}else return Wb(n,e)}function Ty(n,e){const t=e==null?void 0:e[Ob];return t==null?null:Xt.makeFromBucketSpec(t,n)}function tV(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:T0(s,n.app.options.projectId))}class tp{constructor(e,t,r,s,i){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Db,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KD,this._maxUploadRetryTime=QD,this._requests=new Set,s!=null?this._bucket=Xt.makeFromBucketSpec(s,this._host):this._bucket=Ty(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xt.makeFromBucketSpec(this._url,e):this._bucket=Ty(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){by("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){by("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Js(this,e)}_makeRequest(e,t,r,s,i=!0){if(this._deleted)return new uO(Vb());{const o=bO(e,this._appId,r,s,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const xy="@firebase/storage",Ey="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="storage";function eB(n,e,t){return n=Re(n),KO(n,e,t)}function tB(n){return n=Re(n),QO(n)}function nB(n){return n=Re(n),YO(n)}function rB(n,e){return n=Re(n),eV(n,e)}function nV(n=of(),e){n=Re(n);const r=zc(n,Kb).getImmediate({identifier:e}),s=v0("storage");return s&&rV(r,...s),r}function rV(n,e,t,r={}){tV(n,e,t,r)}function sV(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new tp(t,r,s,e,ti)}function iV(){Ws(new Yr(Kb,sV,"PUBLIC").setMultipleInstances(!0)),jn(xy,Ey,""),jn(xy,Ey,"esm2017")}iV();const oV={apiKey:"AIzaSyCxcZbNwbh09DFw70tBQUSoqBIDaXNwZdE",authDomain:"offerloop-native.firebaseapp.com",projectId:"offerloop-native",storageBucket:"offerloop-native.firebasestorage.app",messagingSenderId:"184607281467",appId:"1:184607281467:web:eab1b0e8be341aa8c5271e"},np=I0(oV),xs=qh(np),Es=ND(np),aV=nV(np),sB=Object.freeze(Object.defineProperty({__proto__:null,auth:xs,db:Es,storage:aV},Symbol.toStringTag,{value:"Module"})),Cl=()=>new Date().toISOString().slice(0,7),kl=n=>n==="free"?120:840,Qb=O.createContext(void 0),du=()=>{const n=O.useContext(Qb);if(!n)throw new Error("useFirebaseAuth must be used within a FirebaseAuthProvider");return n},lV=({children:n})=>{const[e,t]=O.useState(null),[r,s]=O.useState(!0);O.useEffect(()=>{let g;return(async()=>{try{console.log(" [AUTH CONTEXT] Setting up auth state listener..."),await OC(xs,J0)}catch{}finally{g=Q0(xs,async w=>{console.log(" [AUTH CONTEXT] Auth state changed:",{hasUser:!!w,userEmail:(w==null?void 0:w.email)||"none",userId:(w==null?void 0:w.uid)||"none"}),w?(console.log(" [AUTH CONTEXT] Loading user data for:",w.email),await i(w),console.log(" [AUTH CONTEXT] User data loaded")):(console.log(" [AUTH CONTEXT] No Firebase user, setting user state to null"),t(null)),s(!1),console.log(" [AUTH CONTEXT] Auth state update complete, isLoading set to false")})}})(),()=>{console.log(" [AUTH CONTEXT] Cleaning up auth state listener"),g&&g()}},[]);const i=async g=>{try{const w=fi(Es,"users",g.uid),_=await Qu(w);if(_.exists()){const v=_.data();t({uid:g.uid,email:g.email||"",name:g.displayName||"",picture:g.photoURL||void 0,tier:v.tier||"free",credits:v.credits??kl(v.tier||"free"),maxCredits:v.maxCredits??kl(v.tier||"free"),stripeCustomerId:v.stripeCustomerId,stripeSubscriptionId:v.stripeSubscriptionId,subscriptionStatus:v.subscriptionStatus,subscriptionStartDate:v.subscriptionStartDate,subscriptionEndDate:v.subscriptionEndDate,emailsMonthKey:v.emailsMonthKey||Cl(),emailsUsedThisMonth:v.emailsUsedThisMonth??0,needsOnboarding:v.needsOnboarding??!1})}else{const v={uid:g.uid,email:g.email||"",name:g.displayName||"",picture:g.photoURL||void 0,tier:"free",credits:120,maxCredits:120,emailsMonthKey:Cl(),emailsUsedThisMonth:0,needsOnboarding:!0};await Yu(w,{...v,createdAt:new Date().toISOString()}),t(v)}}catch(w){console.error("Error loading user data:",w),t(null)}},o=async g=>{try{s(!0);const w=new ir;g!=null&&g.prompt&&w.setCustomParameters({prompt:g.prompt}),console.log(" Starting basic Google sign-in (no Gmail scopes)");const _=await t1(xs,w),v=DC(_),x=_.user.uid,A=fi(Es,"users",x),S=await Qu(A);if(S.exists())await Xu(A,{lastSignIn:new Date().toISOString()});else return await Yu(A,{uid:x,email:_.user.email||"",name:_.user.displayName||"",picture:_.user.photoURL||void 0,tier:"free",credits:120,maxCredits:120,emailsMonthKey:Cl(),emailsUsedThisMonth:0,needsOnboarding:!0,createdAt:new Date().toISOString(),lastSignIn:new Date().toISOString()}),"onboarding";const R=S.data().needsOnboarding??!!(v!=null&&v.isNewUser);return console.log(" Sign-in complete. Needs onboarding:",R),R?"onboarding":"home"}catch(w){throw console.error(" Authentication failed:",w),console.error("Error code:",w.code),console.error("Error message:",w.message),w}finally{s(!1)}},a=async()=>{try{console.log(" [AUTH CONTEXT] signOut() called"),console.log(" [AUTH CONTEXT] Current user before signOut:",(e==null?void 0:e.email)||"none"),await MC(xs),console.log(" [AUTH CONTEXT] Firebase signOut() completed, setting user state to null"),t(null),console.log(" [AUTH CONTEXT] User state set to null")}catch(g){console.error(" [AUTH CONTEXT] Sign out failed:",g),console.error(" [AUTH CONTEXT] Error details:",{message:g instanceof Error?g.message:String(g),code:g==null?void 0:g.code})}},l=async g=>{if(!e)return;const w=fi(Es,"users",e.uid);await Xu(w,g),t({...e,...g})},u=async g=>{if(!e)return;const w=fi(Es,"users",e.uid);await Xu(w,{credits:g}),t({...e,credits:g})},h=async()=>{if(!e)return 0;const g=fi(Es,"users",e.uid),w=await Qu(g),v=(w.exists()?w.data():{}).credits??0;return v!==e.credits&&t({...e,credits:v}),v},d=async()=>{if(!xs.currentUser){console.warn("No authenticated user to refresh");return}try{await i(xs.currentUser),console.log("User data refreshed successfully")}catch(g){console.error("Error refreshing user data:",g)}},m=async g=>{if(!e)return;const w=fi(Es,"users",e.uid),_=A=>{const S={};return Object.keys(A||{}).forEach(D=>{const R=A[D];R!==void 0&&(S[D]=typeof R=="object"&&R!==null&&!Array.isArray(R)?_(R):R)}),S},x={..._(g),uid:e.uid,email:e.email,name:e.name,picture:e.picture,tier:"free",credits:kl("free"),maxCredits:kl("free"),emailsMonthKey:Cl(),emailsUsedThisMonth:0,createdAt:new Date().toISOString(),needsOnboarding:!1};await Yu(w,x),t({...e,...x,needsOnboarding:!1})};return f.jsx(Qb.Provider,{value:{user:e,signIn:o,signOut:a,updateUser:l,updateCredits:u,checkCredits:h,completeOnboarding:m,refreshUser:d,isLoading:r},children:n})},cV=$v("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-border bg-background text-foreground hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"text-white shadow-sm hover:shadow-md hover:-translate-y-0.5 transition-all hover:opacity-90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ad=O.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,style:s,...i},o)=>{const a=r?fI:"button",l=e==="gradient"?{...s,background:"linear-gradient(135deg, #3B82F6, #60A5FA)"}:s;return f.jsx(a,{className:wr(cV({variant:e,size:t,className:n})),style:l,ref:o,...i})});ad.displayName="Button";class uV extends O.Component{constructor(t){super(t);Bm(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:f.jsx("div",{className:"flex flex-col items-center justify-center min-h-[400px] p-8",children:f.jsxs("div",{className:"max-w-md w-full text-center space-y-4",children:[f.jsx("div",{className:"flex justify-center",children:f.jsx(rA,{className:"h-16 w-16 text-destructive"})}),f.jsx("h2",{className:"text-2xl font-semibold",children:"Something went wrong"}),f.jsx("p",{className:"text-muted-foreground",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),!1,f.jsxs("div",{className:"flex gap-2 justify-center mt-6",children:[f.jsx(ad,{onClick:this.handleReset,variant:"outline",children:"Try Again"}),f.jsx(ad,{onClick:()=>window.location.reload(),variant:"default",children:"Refresh Page"})]})]})}):this.props.children}}const hV=()=>f.jsx("div",{className:"light-gradient-bg","aria-hidden":"true"});function sn({className:n,...e}){return f.jsx("div",{className:wr("animate-pulse rounded-md bg-muted",n),...e})}function dV({variant:n="card",count:e=3}){return n==="contacts"||n==="table"?f.jsx("div",{className:"space-y-4",children:Array.from({length:e}).map((t,r)=>f.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[f.jsx(sn,{className:"h-12 w-12 rounded-full"}),f.jsxs("div",{className:"space-y-2 flex-1",children:[f.jsx(sn,{className:"h-4 w-[250px]"}),f.jsx(sn,{className:"h-4 w-[200px]"})]}),f.jsx(sn,{className:"h-8 w-20"})]},r))}):n==="card"?f.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:e}).map((t,r)=>f.jsxs("div",{className:"p-6 border rounded-lg space-y-3",children:[f.jsx(sn,{className:"h-4 w-3/4"}),f.jsx(sn,{className:"h-4 w-1/2"}),f.jsx(sn,{className:"h-20 w-full"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(sn,{className:"h-8 w-20"}),f.jsx(sn,{className:"h-8 w-20"})]})]},r))}):n==="list"?f.jsx("div",{className:"space-y-2",children:Array.from({length:e}).map((t,r)=>f.jsxs("div",{className:"flex items-center space-x-3 p-3",children:[f.jsx(sn,{className:"h-10 w-10 rounded-full"}),f.jsxs("div",{className:"space-y-2 flex-1",children:[f.jsx(sn,{className:"h-4 w-full"}),f.jsx(sn,{className:"h-3 w-2/3"})]})]},r))}):null}const rp=O.createContext({});function sp(n){const e=O.useRef(null);return e.current===null&&(e.current=n()),e.current}const ip=typeof window<"u",Yb=ip?O.useLayoutEffect:O.useEffect,fu=O.createContext(null);function op(n,e){n.indexOf(e)===-1&&n.push(e)}function ap(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const gr=(n,e,t)=>t>e?e:t<n?n:t;let lp=()=>{};const yr={},Xb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Jb(n){return typeof n=="object"&&n!==null}const Zb=n=>/^0[^.\s]+$/u.test(n);function cp(n){let e;return()=>(e===void 0&&(e=n()),e)}const pn=n=>n,fV=(n,e)=>t=>e(n(t)),Ga=(...n)=>n.reduce(fV),ma=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class up{constructor(){this.subscriptions=[]}add(e){return op(this.subscriptions,e),()=>ap(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zn=n=>n*1e3,un=n=>n/1e3;function eT(n,e){return e?n*(1e3/e):0}const tT=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,pV=1e-7,mV=12;function gV(n,e,t,r,s){let i,o,a=0;do o=e+(t-e)/2,i=tT(o,r,s)-n,i>0?t=o:e=o;while(Math.abs(i)>pV&&++a<mV);return o}function Ha(n,e,t,r){if(n===e&&t===r)return pn;const s=i=>gV(i,0,1,n,t);return i=>i===0||i===1?i:tT(s(i),e,r)}const nT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,rT=n=>e=>1-n(1-e),sT=Ha(.33,1.53,.69,.99),hp=rT(sT),iT=nT(hp),oT=n=>(n*=2)<1?.5*hp(n):.5*(2-Math.pow(2,-10*(n-1))),dp=n=>1-Math.sin(Math.acos(n)),aT=rT(dp),lT=nT(dp),yV=Ha(.42,0,1,1),_V=Ha(0,0,.58,1),cT=Ha(.42,0,.58,1),vV=n=>Array.isArray(n)&&typeof n[0]!="number",uT=n=>Array.isArray(n)&&typeof n[0]=="number",wV={linear:pn,easeIn:yV,easeInOut:cT,easeOut:_V,circIn:dp,circInOut:lT,circOut:aT,backIn:hp,backInOut:iT,backOut:sT,anticipate:oT},bV=n=>typeof n=="string",Iy=n=>{if(uT(n)){lp(n.length===4);const[e,t,r,s]=n;return Ha(e,t,r,s)}else if(bV(n))return wV[n];return n},Nl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function TV(n,e){let t=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(u.schedule(h),n()),h(a)}const u={schedule:(h,d=!1,m=!1)=>{const w=m&&s?t:r;return d&&o.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[t,r]=[r,t],t.forEach(l),t.clear(),s=!1,i&&(i=!1,u.process(h))}};return u}const xV=40;function hT(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>t=!0,o=Nl.reduce((S,D)=>(S[D]=TV(i),S),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:h,update:d,preRender:m,render:g,postRender:w}=o,_=()=>{const S=yr.useManualTiming?s.timestamp:performance.now();t=!1,yr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(S-s.timestamp,xV),1)),s.timestamp=S,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),h.process(s),d.process(s),m.process(s),g.process(s),w.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(_))},v=()=>{t=!0,r=!0,s.isProcessing||n(_)};return{schedule:Nl.reduce((S,D)=>{const R=o[D];return S[D]=(V,E=!1,b=!1)=>(t||v(),R.schedule(V,E,b)),S},{}),cancel:S=>{for(let D=0;D<Nl.length;D++)o[Nl[D]].cancel(S)},state:s,steps:o}}const{schedule:ke,cancel:es,state:dt,steps:th}=hT(typeof requestAnimationFrame<"u"?requestAnimationFrame:pn,!0);let Ql;function EV(){Ql=void 0}const Ut={now:()=>(Ql===void 0&&Ut.set(dt.isProcessing||yr.useManualTiming?dt.timestamp:performance.now()),Ql),set:n=>{Ql=n,queueMicrotask(EV)}},dT=n=>e=>typeof e=="string"&&e.startsWith(n),fp=dT("--"),IV=dT("var(--"),pp=n=>IV(n)?AV.test(n.split("/*")[0].trim()):!1,AV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ga={...fo,transform:n=>gr(0,1,n)},Dl={...fo,default:1},Yo=n=>Math.round(n*1e5)/1e5,mp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SV(n){return n==null}const PV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gp=(n,e)=>t=>!!(typeof t=="string"&&PV.test(t)&&t.startsWith(n)||e&&!SV(t)&&Object.prototype.hasOwnProperty.call(t,e)),fT=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(mp);return{[n]:parseFloat(s),[e]:parseFloat(i),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},RV=n=>gr(0,255,n),nh={...fo,transform:n=>Math.round(RV(n))},Rs={test:gp("rgb","red"),parse:fT("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+nh.transform(n)+", "+nh.transform(e)+", "+nh.transform(t)+", "+Yo(ga.transform(r))+")"};function CV(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ld={test:gp("#"),parse:CV,transform:Rs.transform},Wa=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Cr=Wa("deg"),$n=Wa("%"),te=Wa("px"),kV=Wa("vh"),NV=Wa("vw"),Ay={...$n,parse:n=>$n.parse(n)/100,transform:n=>$n.transform(n*100)},_i={test:gp("hsl","hue"),parse:fT("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+$n.transform(Yo(e))+", "+$n.transform(Yo(t))+", "+Yo(ga.transform(r))+")"},Xe={test:n=>Rs.test(n)||ld.test(n)||_i.test(n),parse:n=>Rs.test(n)?Rs.parse(n):_i.test(n)?_i.parse(n):ld.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Rs.transform(n):_i.transform(n),getAnimatableNone:n=>{const e=Xe.parse(n);return e.alpha=0,Xe.transform(e)}},DV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OV(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(mp))==null?void 0:e.length)||0)+(((t=n.match(DV))==null?void 0:t.length)||0)>0}const pT="number",mT="color",VV="var",MV="var(",Sy="${}",LV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ya(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(LV,l=>(Xe.test(l)?(r.color.push(i),s.push(mT),t.push(Xe.parse(l))):l.startsWith(MV)?(r.var.push(i),s.push(VV),t.push(l)):(r.number.push(i),s.push(pT),t.push(parseFloat(l))),++i,Sy)).split(Sy);return{values:t,split:a,indexes:r,types:s}}function gT(n){return ya(n).values}function yT(n){const{split:e,types:t}=ya(n),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=t[o];a===pT?i+=Yo(s[o]):a===mT?i+=Xe.transform(s[o]):i+=s[o]}return i}}const jV=n=>typeof n=="number"?0:Xe.test(n)?Xe.getAnimatableNone(n):n;function FV(n){const e=gT(n);return yT(n)(e.map(jV))}const ts={test:OV,parse:gT,createTransformer:yT,getAnimatableNone:FV};function rh(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function UV({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,i=0,o=0;if(!e)s=i=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;s=rh(l,a,n+1/3),i=rh(l,a,n),o=rh(l,a,n-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function bc(n,e){return t=>t>0?e:n}const De=(n,e,t)=>n+(e-n)*t,sh=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},BV=[ld,Rs,_i],zV=n=>BV.find(e=>e.test(n));function Py(n){const e=zV(n);if(!e)return!1;let t=e.parse(n);return e===_i&&(t=UV(t)),t}const Ry=(n,e)=>{const t=Py(n),r=Py(e);if(!t||!r)return bc(n,e);const s={...t};return i=>(s.red=sh(t.red,r.red,i),s.green=sh(t.green,r.green,i),s.blue=sh(t.blue,r.blue,i),s.alpha=De(t.alpha,r.alpha,i),Rs.transform(s))},cd=new Set(["none","hidden"]);function $V(n,e){return cd.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function qV(n,e){return t=>De(n,e,t)}function yp(n){return typeof n=="number"?qV:typeof n=="string"?pp(n)?bc:Xe.test(n)?Ry:WV:Array.isArray(n)?_T:typeof n=="object"?Xe.test(n)?Ry:GV:bc}function _T(n,e){const t=[...n],r=t.length,s=n.map((i,o)=>yp(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)t[o]=s[o](i);return t}}function GV(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=yp(n[s])(n[s],e[s]));return s=>{for(const i in r)t[i]=r[i](s);return t}}function HV(n,e){const t=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=n.indexes[i][r[i]],a=n.values[o]??0;t[s]=a,r[i]++}return t}const WV=(n,e)=>{const t=ts.createTransformer(e),r=ya(n),s=ya(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?cd.has(n)&&!s.values.length||cd.has(e)&&!r.values.length?$V(n,e):Ga(_T(HV(r,s),s.values),t):bc(n,e)};function vT(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?De(n,e,t):yp(n)(n,e)}const KV=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ke.update(e,t),stop:()=>es(e),now:()=>dt.isProcessing?dt.timestamp:Ut.now()}},wT=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let i=0;i<s;i++)r+=Math.round(n(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Tc=2e4;function _p(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Tc;)e+=t,r=n.next(e);return e>=Tc?1/0:e}function QV(n,e=100,t){const r=t({...n,keyframes:[0,e]}),s=Math.min(_p(r),Tc);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:un(s)}}const YV=5;function bT(n,e,t){const r=Math.max(e-YV,0);return eT(t-n(r),e-r)}const Fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ih=.001;function XV({duration:n=Fe.duration,bounce:e=Fe.bounce,velocity:t=Fe.velocity,mass:r=Fe.mass}){let s,i,o=1-e;o=gr(Fe.minDamping,Fe.maxDamping,o),n=gr(Fe.minDuration,Fe.maxDuration,un(n)),o<1?(s=u=>{const h=u*o,d=h*n,m=h-t,g=ud(u,o),w=Math.exp(-d);return ih-m/g*w},i=u=>{const d=u*o*n,m=d*t+t,g=Math.pow(o,2)*Math.pow(u,2)*n,w=Math.exp(-d),_=ud(Math.pow(u,2),o);return(-s(u)+ih>0?-1:1)*((m-g)*w)/_}):(s=u=>{const h=Math.exp(-u*n),d=(u-t)*n+1;return-ih+h*d},i=u=>{const h=Math.exp(-u*n),d=(t-u)*(n*n);return h*d});const a=5/n,l=ZV(s,i,a);if(n=zn(n),isNaN(l))return{stiffness:Fe.stiffness,damping:Fe.damping,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:n}}}const JV=12;function ZV(n,e,t){let r=t;for(let s=1;s<JV;s++)r=r-n(r)/e(r);return r}function ud(n,e){return n*Math.sqrt(1-e*e)}const eM=["duration","bounce"],tM=["stiffness","damping","mass"];function Cy(n,e){return e.some(t=>n[t]!==void 0)}function nM(n){let e={velocity:Fe.velocity,stiffness:Fe.stiffness,damping:Fe.damping,mass:Fe.mass,isResolvedFromDuration:!1,...n};if(!Cy(n,tM)&&Cy(n,eM))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,i=2*gr(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Fe.mass,stiffness:s,damping:i}}else{const t=XV(n);e={...e,...t,mass:Fe.mass},e.isResolvedFromDuration=!0}return e}function xc(n=Fe.visualDuration,e=Fe.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const i=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:h,duration:d,velocity:m,isResolvedFromDuration:g}=nM({...t,velocity:-un(t.velocity||0)}),w=m||0,_=u/(2*Math.sqrt(l*h)),v=o-i,x=un(Math.sqrt(l/h)),A=Math.abs(v)<5;r||(r=A?Fe.restSpeed.granular:Fe.restSpeed.default),s||(s=A?Fe.restDelta.granular:Fe.restDelta.default);let S;if(_<1){const R=ud(x,_);S=V=>{const E=Math.exp(-_*x*V);return o-E*((w+_*x*v)/R*Math.sin(R*V)+v*Math.cos(R*V))}}else if(_===1)S=R=>o-Math.exp(-x*R)*(v+(w+x*v)*R);else{const R=x*Math.sqrt(_*_-1);S=V=>{const E=Math.exp(-_*x*V),b=Math.min(R*V,300);return o-E*((w+_*x*v)*Math.sinh(b)+R*v*Math.cosh(b))/R}}const D={calculatedDuration:g&&d||null,next:R=>{const V=S(R);if(g)a.done=R>=d;else{let E=R===0?w:0;_<1&&(E=R===0?zn(w):bT(S,R,V));const b=Math.abs(E)<=r,T=Math.abs(o-V)<=s;a.done=b&&T}return a.value=a.done?o:V,a},toString:()=>{const R=Math.min(_p(D),Tc),V=wT(E=>D.next(R*E).value,R,30);return R+"ms "+V},toTransition:()=>{}};return D}xc.applyToOptions=n=>{const e=QV(n,100,xc);return n.ease=e.ease,n.duration=zn(e.duration),n.type="keyframes",n};function hd({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const d=n[0],m={done:!1,value:d},g=b=>a!==void 0&&b<a||l!==void 0&&b>l,w=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let _=t*e;const v=d+_,x=o===void 0?v:o(v);x!==v&&(_=x-d);const A=b=>-_*Math.exp(-b/r),S=b=>x+A(b),D=b=>{const T=A(b),C=S(b);m.done=Math.abs(T)<=u,m.value=m.done?x:C};let R,V;const E=b=>{g(m.value)&&(R=b,V=xc({keyframes:[m.value,w(m.value)],velocity:bT(S,b,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:h}))};return E(0),{calculatedDuration:null,next:b=>{let T=!1;return!V&&R===void 0&&(T=!0,D(b),E(b)),R!==void 0&&b>=R?V.next(b-R):(!T&&D(b),m)}}}function rM(n,e,t){const r=[],s=t||yr.mix||vT,i=n.length-1;for(let o=0;o<i;o++){let a=s(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||pn:e;a=Ga(l,a)}r.push(a)}return r}function sM(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const i=n.length;if(lp(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[i-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=rM(e,r,s),l=a.length,u=h=>{if(o&&h<n[0])return e[0];let d=0;if(l>1)for(;d<n.length-2&&!(h<n[d+1]);d++);const m=ma(n[d],n[d+1],h);return a[d](m)};return t?h=>u(gr(n[0],n[i-1],h)):u}function iM(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=ma(0,e,r);n.push(De(t,1,s))}}function oM(n){const e=[0];return iM(e,n.length-1),e}function aM(n,e){return n.map(t=>t*e)}function lM(n,e){return n.map(()=>e||cT).splice(0,n.length-1)}function Xo({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=vV(r)?r.map(Iy):Iy(r),i={done:!1,value:e[0]},o=aM(t&&t.length===e.length?t:oM(e),n),a=sM(o,e,{ease:Array.isArray(s)?s:lM(e,s)});return{calculatedDuration:n,next:l=>(i.value=a(l),i.done=l>=n,i)}}const cM=n=>n!==null;function vp(n,{repeat:e,repeatType:t="loop"},r,s=1){const i=n.filter(cM),a=s<0||e&&t!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const uM={decay:hd,inertia:hd,tween:Xo,keyframes:Xo,spring:xc};function TT(n){typeof n.type=="string"&&(n.type=uM[n.type])}class wp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const hM=n=>n/100;class bp extends wp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:t}=this.options;t&&t.updatedAt!==Ut.now()&&this.tick(Ut.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;TT(e);const{type:t=Xo,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=t||Xo;l!==Xo&&typeof a[0]!="number"&&(this.mixKeyframes=Ga(hM,vT(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=_p(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:h,repeat:d,repeatType:m,repeatDelay:g,type:w,onUpdate:_,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const x=this.currentTime-u*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,D=r;if(d){const b=Math.min(this.currentTime,s)/a;let T=Math.floor(b),C=b%1;!C&&b>=1&&(C=1),C===1&&T--,T=Math.min(T,d+1),!!(T%2)&&(m==="reverse"?(C=1-C,g&&(C-=g/a)):m==="mirror"&&(D=o)),S=gr(0,1,C)*a}const R=A?{done:!1,value:h[0]}:D.next(S);i&&(R.value=i(R.value));let{done:V}=R;!A&&l!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return E&&w!==hd&&(R.value=vp(h,this.options,v,this.speed)),_&&_(R.value),E&&this.finish(),R}then(e,t){return this.finished.then(e,t)}get duration(){return un(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+un(e)}get time(){return un(this.currentTime)}set time(e){var t;e=zn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ut.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=un(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=KV,startTime:t}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ut.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function dM(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Cs=n=>n*180/Math.PI,dd=n=>{const e=Cs(Math.atan2(n[1],n[0]));return fd(e)},fM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:dd,rotateZ:dd,skewX:n=>Cs(Math.atan(n[1])),skewY:n=>Cs(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},fd=n=>(n=n%360,n<0&&(n+=360),n),ky=dd,Ny=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Dy=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),pM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ny,scaleY:Dy,scale:n=>(Ny(n)+Dy(n))/2,rotateX:n=>fd(Cs(Math.atan2(n[6],n[5]))),rotateY:n=>fd(Cs(Math.atan2(-n[2],n[0]))),rotateZ:ky,rotate:ky,skewX:n=>Cs(Math.atan(n[4])),skewY:n=>Cs(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function pd(n){return n.includes("scale")?1:0}function md(n,e){if(!n||n==="none")return pd(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(t)r=pM,s=t;else{const a=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=fM,s=a}if(!s)return pd(e);const i=r[e],o=s[1].split(",").map(gM);return typeof i=="function"?i(o):o[i]}const mM=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return md(t,e)};function gM(n){return parseFloat(n.trim())}const po=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mo=new Set(po),Oy=n=>n===fo||n===te,yM=new Set(["x","y","z"]),_M=po.filter(n=>!yM.has(n));function vM(n){const e=[];return _M.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Bs={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>md(e,"x"),y:(n,{transform:e})=>md(e,"y")};Bs.translateX=Bs.x;Bs.translateY=Bs.y;const zs=new Set;let gd=!1,yd=!1,_d=!1;function xT(){if(yd){const n=Array.from(zs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=vM(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}yd=!1,gd=!1,zs.forEach(n=>n.complete(_d)),zs.clear()}function ET(){zs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(yd=!0)})}function wM(){_d=!0,ET(),xT(),_d=!1}class Tp{constructor(e,t,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(zs.add(this),gd||(gd=!0,ke.read(ET),ke.resolveKeyframes(xT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&t){const a=r.readValue(t,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}dM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zs.delete(this)}cancel(){this.state==="scheduled"&&(zs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bM=n=>n.startsWith("--");function TM(n,e,t){bM(e)?n.style.setProperty(e,t):n.style[e]=t}const xM=cp(()=>window.ScrollTimeline!==void 0),EM={};function IM(n,e){const t=cp(n);return()=>EM[e]??t()}const IT=IM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uo=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Vy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uo([0,.65,.55,1]),circOut:Uo([.55,0,1,.45]),backIn:Uo([.31,.01,.66,-.59]),backOut:Uo([.33,1.53,.69,.99])};function AT(n,e){if(n)return typeof n=="function"?IT()?wT(n,e):"ease-out":uT(n)?Uo(n):Array.isArray(n)?n.map(t=>AT(t,e)||Vy.easeOut):Vy[n]}function AM(n,e,t,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const h={[e]:t};l&&(h.offset=l);const d=AT(a,s);Array.isArray(d)&&(h.easing=d);const m={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),n.animate(h,m)}function ST(n){return typeof n=="function"&&"applyToOptions"in n}function SM({type:n,...e}){return ST(n)&&IT()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PM extends wp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,lp(typeof e.type!="string");const u=SM(e);this.animation=AM(t,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=vp(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):TM(t,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return un(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+un(e)}get time(){return un(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=zn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&xM()?(this.animation.timeline=e,pn):t(this)}}const PT={anticipate:oT,backInOut:iT,circInOut:lT};function RM(n){return n in PT}function CM(n){typeof n.ease=="string"&&RM(n.ease)&&(n.ease=PT[n.ease])}const My=10;class kM extends PM{constructor(e){CM(e),TT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const a=new bp({...o,autoplay:!1}),l=zn(this.finishedTime??this.time);t.setWithVelocity(a.sample(l-My).value,a.sample(l).value,My),a.stop()}}const Ly=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ts.test(n)||n==="0")&&!n.startsWith("url("));function NM(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function DM(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=n[n.length-1],o=Ly(s,e),a=Ly(i,e);return!o||!a?!1:NM(n)||(t==="spring"||ST(t))&&r}function vd(n){n.duration=0,n.type="keyframes"}const OM=new Set(["opacity","clipPath","filter","transform"]),VM=cp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function MM(n){var h;const{motionValue:e,name:t,repeatDelay:r,repeatType:s,damping:i,type:o}=n;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return VM()&&t&&OM.has(t)&&(t!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const LM=40;class jM extends wp{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:h,...d}){var w;super(),this.stop=()=>{var _,v;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Ut.now();const m={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:h,...d},g=(h==null?void 0:h.KeyframeResolver)||Tp;this.keyframeResolver=new g(a,(_,v,x)=>this.onKeyframesResolved(_,v,m,!x),l,u,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,t,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:h}=r;this.resolvedAt=Ut.now(),DM(e,i,o,a)||((yr.instantAnimations||!l)&&(h==null||h(vp(e,r,t))),e[0]=e[e.length-1],vd(r),r.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>LM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},g=!u&&MM(m)?new kM({...m,element:m.motionValue.owner.current}):new bp(m);g.finished.then(()=>this.notifyFinished()).catch(pn),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),wM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const FM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function UM(n){const e=FM.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function RT(n,e,t=1){const[r,s]=UM(n);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Xb(o)?parseFloat(o):o}return pp(s)?RT(s,e,t+1):s}function xp(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const CT=new Set(["width","height","top","left","right","bottom",...po]),BM={test:n=>n==="auto",parse:n=>n},kT=n=>e=>e.test(n),NT=[fo,te,$n,Cr,NV,kV,BM],jy=n=>NT.find(kT(n));function zM(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Zb(n):!0}const $M=new Set(["brightness","contrast","saturate","opacity"]);function qM(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(mp)||[];if(!r)return n;const s=t.replace(r,"");let i=$M.has(e)?1:0;return r!==t&&(i*=100),e+"("+i+s+")"}const GM=/\b([a-z-]*)\(.*?\)/gu,wd={...ts,getAnimatableNone:n=>{const e=n.match(GM);return e?e.map(qM).join(" "):n}},Fy={...fo,transform:Math.round},HM={rotate:Cr,rotateX:Cr,rotateY:Cr,rotateZ:Cr,scale:Dl,scaleX:Dl,scaleY:Dl,scaleZ:Dl,skew:Cr,skewX:Cr,skewY:Cr,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:ga,originX:Ay,originY:Ay,originZ:te},Ep={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,backgroundPositionX:te,backgroundPositionY:te,...HM,zIndex:Fy,fillOpacity:ga,strokeOpacity:ga,numOctaves:Fy},WM={...Ep,color:Xe,backgroundColor:Xe,outlineColor:Xe,fill:Xe,stroke:Xe,borderColor:Xe,borderTopColor:Xe,borderRightColor:Xe,borderBottomColor:Xe,borderLeftColor:Xe,filter:wd,WebkitFilter:wd},DT=n=>WM[n];function OT(n,e){let t=DT(n);return t!==wd&&(t=ts),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const KM=new Set(["auto","none","0"]);function QM(n,e,t){let r=0,s;for(;r<n.length&&!s;){const i=n[r];typeof i=="string"&&!KM.has(i)&&ya(i).values.length&&(s=n[r]),r++}if(s&&t)for(const i of e)n[i]=OT(t,s)}class YM extends Tp{constructor(e,t,r,s,i){super(e,t,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),pp(u))){const h=RT(u,t.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!CT.has(r)||e.length!==2)return;const[s,i]=e,o=jy(s),a=jy(i);if(o!==a)if(Oy(o)&&Oy(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Bs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||zM(e[s]))&&r.push(s);r.length&&QM(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Bs[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function XM(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const s=(t==null?void 0:t[n])??r.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const VT=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function MT(n){return Jb(n)&&"offsetHeight"in n}const Uy=30,JM=n=>!isNaN(parseFloat(n));class ZM{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Ut.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ut.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=JM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new up);const r=this.events[e].add(t);return e==="change"?()=>{r(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ut.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Uy)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Uy);return eT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ji(n,e){return new ZM(n,e)}const{schedule:Ip}=hT(queueMicrotask,!1),wn={x:!1,y:!1};function LT(){return wn.x||wn.y}function e2(n){return n==="x"||n==="y"?wn[n]?null:(wn[n]=!0,()=>{wn[n]=!1}):wn.x||wn.y?null:(wn.x=wn.y=!0,()=>{wn.x=wn.y=!1})}function jT(n,e){const t=XM(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function By(n){return!(n.pointerType==="touch"||LT())}function t2(n,e,t={}){const[r,s,i]=jT(n,t),o=a=>{if(!By(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const h=d=>{By(d)&&(u(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const FT=(n,e)=>e?n===e?!0:FT(n,e.parentElement):!1,Ap=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,n2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function r2(n){return n2.has(n.tagName)||n.tabIndex!==-1}const Yl=new WeakSet;function zy(n){return e=>{e.key==="Enter"&&n(e)}}function oh(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const s2=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=zy(()=>{if(Yl.has(t))return;oh(t,"down");const s=zy(()=>{oh(t,"up")}),i=()=>oh(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",i,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function $y(n){return Ap(n)&&!LT()}function i2(n,e,t={}){const[r,s,i]=jT(n,t),o=a=>{const l=a.currentTarget;if(!$y(a))return;Yl.add(l);const u=e(l,a),h=(g,w)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),Yl.has(l)&&Yl.delete(l),$y(g)&&typeof u=="function"&&u(g,{success:w})},d=g=>{h(g,l===window||l===document||t.useGlobalTarget||FT(l,g.target))},m=g=>{h(g,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{(t.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),MT(a)&&(a.addEventListener("focus",u=>s2(u,s)),!r2(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function UT(n){return Jb(n)&&"ownerSVGElement"in n}function o2(n){return UT(n)&&n.tagName==="svg"}const St=n=>!!(n&&n.getVelocity),a2=[...NT,Xe,ts],l2=n=>a2.find(kT(n)),Sp=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function qy(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function c2(...n){return e=>{let t=!1;const r=n.map(s=>{const i=qy(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():qy(n[s],null)}}}}function u2(...n){return O.useCallback(c2(...n),n)}class h2 extends O.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=t.offsetParent,s=MT(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d2({children:n,isPresent:e,anchorX:t,root:r}){const s=O.useId(),i=O.useRef(null),o=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=O.useContext(Sp),l=u2(i,n==null?void 0:n.ref);return O.useInsertionEffect(()=>{const{width:u,height:h,top:d,left:m,right:g}=o.current;if(e||!i.current||!u||!h)return;const w=t==="left"?`left: ${m}`:`right: ${g}`;i.current.dataset.motionPopId=s;const _=document.createElement("style");a&&(_.nonce=a);const v=r??document.head;return v.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${w}px !important;
            top: ${d}px !important;
          }
        `),()=>{v.contains(_)&&v.removeChild(_)}},[e]),f.jsx(h2,{isPresent:e,childRef:i,sizeRef:o,children:O.cloneElement(n,{ref:l})})}const f2=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const u=sp(p2),h=O.useId();let d=!0,m=O.useMemo(()=>(d=!1,{id:h,initial:e,isPresent:t,custom:s,onExitComplete:g=>{u.set(g,!0);for(const w of u.values())if(!w)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[t,u,r]);return i&&d&&(m={...m}),O.useMemo(()=>{u.forEach((g,w)=>u.set(w,!1))},[t]),O.useEffect(()=>{!t&&!u.size&&r&&r()},[t]),o==="popLayout"&&(n=f.jsx(d2,{isPresent:t,anchorX:a,root:l,children:n})),f.jsx(fu.Provider,{value:m,children:n})};function p2(){return new Map}function BT(n=!0){const e=O.useContext(fu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,i=O.useId();O.useEffect(()=>{if(n)return s(i)},[n]);const o=O.useCallback(()=>n&&r&&r(i),[i,r,n]);return!t&&r?[!1,o]:[!0]}const Ol=n=>n.key||"";function Gy(n){const e=[];return O.Children.forEach(n,t=>{O.isValidElement(t)&&e.push(t)}),e}const bd=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,h]=BT(o),d=O.useMemo(()=>Gy(n),[n]),m=o&&!u?[]:d.map(Ol),g=O.useRef(!0),w=O.useRef(d),_=sp(()=>new Map),[v,x]=O.useState(d),[A,S]=O.useState(d);Yb(()=>{g.current=!1,w.current=d;for(let V=0;V<A.length;V++){const E=Ol(A[V]);m.includes(E)?_.delete(E):_.get(E)!==!0&&_.set(E,!1)}},[A,m.length,m.join("-")]);const D=[];if(d!==v){let V=[...d];for(let E=0;E<A.length;E++){const b=A[E],T=Ol(b);m.includes(T)||(V.splice(E,0,b),D.push(b))}return i==="wait"&&D.length&&(V=D),S(Gy(V)),x(d),null}const{forceRender:R}=O.useContext(rp);return f.jsx(f.Fragment,{children:A.map(V=>{const E=Ol(V),b=o&&!u?!1:d===A||m.includes(E),T=()=>{if(_.has(E))_.set(E,!0);else return;let C=!0;_.forEach(k=>{k||(C=!1)}),C&&(R==null||R(),S(w.current),o&&(h==null||h()),r&&r())};return f.jsx(f2,{isPresent:b,initial:!g.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:b?void 0:T,anchorX:a,children:V},E)})})},zT=O.createContext({strict:!1}),Hy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zi={};for(const n in Hy)Zi[n]={isEnabled:e=>Hy[n].some(t=>!!e[t])};function m2(n){for(const e in n)Zi[e]={...Zi[e],...n[e]}}const g2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ec(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||g2.has(n)}let $T=n=>!Ec(n);function y2(n){typeof n=="function"&&($T=e=>e.startsWith("on")?!Ec(e):n(e))}try{y2(require("@emotion/is-prop-valid").default)}catch{}function _2(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||($T(s)||t===!0&&Ec(s)||!e&&!Ec(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}const pu=O.createContext({});function mu(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function _a(n){return typeof n=="string"||Array.isArray(n)}const Pp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rp=["initial",...Pp];function gu(n){return mu(n.animate)||Rp.some(e=>_a(n[e]))}function qT(n){return!!(gu(n)||n.variants)}function v2(n,e){if(gu(n)){const{initial:t,animate:r}=n;return{initial:t===!1||_a(t)?t:void 0,animate:_a(r)?r:void 0}}return n.inherit!==!1?e:{}}function w2(n){const{initial:e,animate:t}=v2(n,O.useContext(pu));return O.useMemo(()=>({initial:e,animate:t}),[Wy(e),Wy(t)])}function Wy(n){return Array.isArray(n)?n.join(" "):n}const va={};function b2(n){for(const e in n)va[e]=n[e],fp(e)&&(va[e].isCSSVariable=!0)}function GT(n,{layout:e,layoutId:t}){return mo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!va[n]||n==="opacity")}const T2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x2=po.length;function E2(n,e,t){let r="",s=!0;for(let i=0;i<x2;i++){const o=po[i],a=n[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||t){const u=VT(a,Ep[o]);if(!l){s=!1;const h=T2[o]||o;r+=`${h}(${u}) `}t&&(e[o]=u)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function Cp(n,e,t){const{style:r,vars:s,transformOrigin:i}=n;let o=!1,a=!1;for(const l in e){const u=e[l];if(mo.has(l)){o=!0;continue}else if(fp(l)){s[l]=u;continue}else{const h=VT(u,Ep[l]);l.startsWith("origin")?(a=!0,i[l]=h):r[l]=h}}if(e.transform||(o||t?r.transform=E2(e,n.transform,t):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:h=0}=i;r.transformOrigin=`${l} ${u} ${h}`}}const kp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HT(n,e,t){for(const r in e)!St(e[r])&&!GT(r,t)&&(n[r]=e[r])}function I2({transformTemplate:n},e){return O.useMemo(()=>{const t=kp();return Cp(t,e,n),Object.assign({},t.vars,t.style)},[e])}function A2(n,e){const t=n.style||{},r={};return HT(r,t,n),Object.assign(r,I2(n,e)),r}function S2(n,e){const t={},r=A2(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const P2={offset:"stroke-dashoffset",array:"stroke-dasharray"},R2={offset:"strokeDashoffset",array:"strokeDasharray"};function C2(n,e,t=1,r=0,s=!0){n.pathLength=1;const i=s?P2:R2;n[i.offset]=te.transform(-r);const o=te.transform(e),a=te.transform(t);n[i.array]=`${o} ${a}`}function WT(n,{attrX:e,attrY:t,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,h){if(Cp(n,a,u),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:d,style:m}=n;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),t!==void 0&&(d.y=t),r!==void 0&&(d.scale=r),s!==void 0&&C2(d,s,i,o,!1)}const KT=()=>({...kp(),attrs:{}}),QT=n=>typeof n=="string"&&n.toLowerCase()==="svg";function k2(n,e,t,r){const s=O.useMemo(()=>{const i=KT();return WT(i,e,QT(r),n.transformTemplate,n.style),{...i.attrs,style:{...i.style}}},[e]);if(n.style){const i={};HT(i,n.style,n),s.style={...i,...s.style}}return s}const N2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Np(n){return typeof n!="string"||n.includes("-")?!1:!!(N2.indexOf(n)>-1||/[A-Z]/u.test(n))}function D2(n,e,t,{latestValues:r},s,i=!1){const a=(Np(n)?k2:S2)(e,r,s,n),l=_2(e,typeof n=="string",i),u=n!==O.Fragment?{...l,...a,ref:t}:{},{children:h}=e,d=O.useMemo(()=>St(h)?h.get():h,[h]);return O.createElement(n,{...u,children:d})}function Ky(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Dp(n,e,t,r){if(typeof e=="function"){const[s,i]=Ky(r);e=e(t!==void 0?t:n.custom,s,i)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,i]=Ky(r);e=e(t!==void 0?t:n.custom,s,i)}return e}function Xl(n){return St(n)?n.get():n}function O2({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,s){return{latestValues:V2(t,r,s,n),renderState:e()}}function V2(n,e,t,r){const s={},i=r(n,{});for(const m in i)s[m]=Xl(i[m]);let{initial:o,animate:a}=n;const l=gu(n),u=qT(n);e&&u&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=t?t.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!mu(d)){const m=Array.isArray(d)?d:[d];for(let g=0;g<m.length;g++){const w=Dp(n,m[g]);if(w){const{transitionEnd:_,transition:v,...x}=w;for(const A in x){let S=x[A];if(Array.isArray(S)){const D=h?S.length-1:0;S=S[D]}S!==null&&(s[A]=S)}for(const A in _)s[A]=_[A]}}}return s}const YT=n=>(e,t)=>{const r=O.useContext(pu),s=O.useContext(fu),i=()=>O2(n,e,r,s);return t?i():sp(i)};function Op(n,e,t){var i;const{style:r}=n,s={};for(const o in r)(St(r[o])||e.style&&St(e.style[o])||GT(o,n)||((i=t==null?void 0:t.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const M2=YT({scrapeMotionValuesFromProps:Op,createRenderState:kp});function XT(n,e,t){const r=Op(n,e,t);for(const s in n)if(St(n[s])||St(e[s])){const i=po.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=n[s]}return r}const L2=YT({scrapeMotionValuesFromProps:XT,createRenderState:KT}),j2=Symbol.for("motionComponentSymbol");function vi(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function F2(n,e,t){return O.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):vi(t)&&(t.current=r))},[e])}const Vp=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),U2="framerAppearId",JT="data-"+Vp(U2),ZT=O.createContext({});function B2(n,e,t,r,s){var _,v;const{visualElement:i}=O.useContext(pu),o=O.useContext(zT),a=O.useContext(fu),l=O.useContext(Sp).reducedMotion,u=O.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(n,{visualState:e,parent:i,props:t,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=u.current,d=O.useContext(ZT);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&z2(u.current,t,s,d);const m=O.useRef(!1);O.useInsertionEffect(()=>{h&&m.current&&h.update(t,a)});const g=t[JT],w=O.useRef(!!g&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,g))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,g)));return Yb(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),O.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,g)}),w.current=!1),h.enteringChildren=void 0)}),h}function z2(n,e,t,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:h}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:ex(n.parent)),n.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&vi(a),visualElement:n,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:u})}function ex(n){if(n)return n.options.allowProjection!==!1?n.projection:ex(n.parent)}function ah(n,{forwardMotionProps:e=!1}={},t,r){t&&m2(t);const s=Np(n)?L2:M2;function i(a,l){let u;const h={...O.useContext(Sp),...a,layoutId:$2(a)},{isStatic:d}=h,m=w2(a),g=s(a,d);if(!d&&ip){q2();const w=G2(h);u=w.MeasureLayout,m.visualElement=B2(n,g,h,r,w.ProjectionNode)}return f.jsxs(pu.Provider,{value:m,children:[u&&m.visualElement?f.jsx(u,{visualElement:m.visualElement,...h}):null,D2(n,a,F2(g,m.visualElement,l),g,d,e)]})}i.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=O.forwardRef(i);return o[j2]=n,o}function $2({layoutId:n}){const e=O.useContext(rp).id;return e&&n!==void 0?e+"-"+n:n}function q2(n,e){O.useContext(zT).strict}function G2(n){const{drag:e,layout:t}=Zi;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function H2(n,e){if(typeof Proxy>"u")return ah;const t=new Map,r=(i,o)=>ah(i,o,n,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(t.has(o)||t.set(o,ah(o,void 0,n,e)),t.get(o))})}function tx({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function W2({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function K2(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function lh(n){return n===void 0||n===1}function Td({scale:n,scaleX:e,scaleY:t}){return!lh(n)||!lh(e)||!lh(t)}function Is(n){return Td(n)||nx(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function nx(n){return Qy(n.x)||Qy(n.y)}function Qy(n){return n&&n!=="0%"}function Ic(n,e,t){const r=n-t,s=e*r;return t+s}function Yy(n,e,t,r,s){return s!==void 0&&(n=Ic(n,s,r)),Ic(n,t,r)+e}function xd(n,e=0,t=1,r,s){n.min=Yy(n.min,e,t,r,s),n.max=Yy(n.max,e,t,r,s)}function rx(n,{x:e,y:t}){xd(n.x,e.translate,e.scale,e.originPoint),xd(n.y,t.translate,t.scale,t.originPoint)}const Xy=.999999999999,Jy=1.0000000000001;function Q2(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=t[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&bi(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,rx(n,o)),r&&Is(i.latestValues)&&bi(n,i.latestValues))}e.x<Jy&&e.x>Xy&&(e.x=1),e.y<Jy&&e.y>Xy&&(e.y=1)}function wi(n,e){n.min=n.min+e,n.max=n.max+e}function Zy(n,e,t,r,s=.5){const i=De(n.min,n.max,s);xd(n,e,t,i,r)}function bi(n,e){Zy(n.x,e.x,e.scaleX,e.scale,e.originX),Zy(n.y,e.y,e.scaleY,e.scale,e.originY)}function sx(n,e){return tx(K2(n.getBoundingClientRect(),e))}function Y2(n,e,t){const r=sx(n,t),{scroll:s}=e;return s&&(wi(r.x,s.offset.x),wi(r.y,s.offset.y)),r}const e_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ti=()=>({x:e_(),y:e_()}),t_=()=>({min:0,max:0}),rt=()=>({x:t_(),y:t_()}),Ed={current:null},ix={current:!1};function X2(){if(ix.current=!0,!!ip)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ed.current=n.matches;n.addEventListener("change",e),e()}else Ed.current=!1}const J2=new WeakMap;function Z2(n,e,t){for(const r in e){const s=e[r],i=t[r];if(St(s))n.addValue(r,s);else if(St(i))n.addValue(r,Ji(s,{owner:n}));else if(i!==s)if(n.hasValue(r)){const o=n.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=n.getStaticValue(r);n.addValue(r,Ji(o!==void 0?o:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const n_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class eL{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ut.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ke.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=gu(t),this.isVariantNode=qT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in d){const g=d[m];l[m]!==void 0&&St(g)&&g.set(l[m])}}mount(e){var t;this.current=e,J2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),ix.current||X2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ed.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),es(this.notifyUpdate),es(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=mo.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ke.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zi){const t=Zi[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<n_.length;r++){const s=n_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Z2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Ji(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Xb(r)||Zb(r))?r=parseFloat(r):!l2(r)&&ts.test(t)&&(r=OT(e,t)),this.setBaseTarget(e,St(r)?r.get():r)),St(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var i;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const o=Dp(this.props,t,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(t&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!St(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new up),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Ip.render(this.render)}}class ox extends eL{constructor(){super(...arguments),this.KeyframeResolver=YM}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;St(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function ax(n,{style:e,vars:t},r,s){const i=n.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in t)i.setProperty(o,t[o])}function tL(n){return window.getComputedStyle(n)}class nL extends ox{constructor(){super(...arguments),this.type="html",this.renderInstance=ax}readValueFromInstance(e,t){var r;if(mo.has(t))return(r=this.projection)!=null&&r.isProjecting?pd(t):mM(e,t);{const s=tL(e),i=(fp(t)?s.getPropertyValue(t):s[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return sx(e,t)}build(e,t,r){Cp(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Op(e,t,r)}}const lx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rL(n,e,t,r){ax(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(lx.has(s)?s:Vp(s),e.attrs[s])}class sL extends ox{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(mo.has(t)){const r=DT(t);return r&&r.default||0}return t=lx.has(t)?t:Vp(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return XT(e,t,r)}build(e,t,r){WT(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,s){rL(e,t,r,s)}mount(e){this.isSVGTag=QT(e.tagName),super.mount(e)}}const iL=(n,e)=>Np(n)?new sL(e):new nL(e,{allowProjection:n!==O.Fragment});function ki(n,e,t){const r=n.getProps();return Dp(r,e,t!==void 0?t:r.custom,n)}const Id=n=>Array.isArray(n);function oL(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ji(t))}function aL(n){return Id(n)?n[n.length-1]||0:n}function lL(n,e){const t=ki(n,e);let{transitionEnd:r={},transition:s={},...i}=t||{};i={...i,...r};for(const o in i){const a=aL(i[o]);oL(n,o,a)}}function cL(n){return!!(St(n)&&n.add)}function Ad(n,e){const t=n.getValue("willChange");if(cL(t))return t.add(e);if(!t&&yr.WillChange){const r=new yr.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function cx(n){return n.props[JT]}const uL=n=>n!==null;function hL(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(uL),i=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[i]}const dL={type:"spring",stiffness:500,damping:25,restSpeed:10},fL=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),pL={type:"keyframes",duration:.8},mL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gL=(n,{keyframes:e})=>e.length>2?pL:mo.has(n)?n.startsWith("scale")?fL(e[1]):dL:mL;function yL({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}const Mp=(n,e,t,r={},s,i)=>o=>{const a=xp(r,n)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-zn(l);const h={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:n,motionValue:e,element:i?void 0:s};yL(a)||Object.assign(h,gL(n,h)),h.duration&&(h.duration=zn(h.duration)),h.repeatDelay&&(h.repeatDelay=zn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(vd(h),h.delay===0&&(d=!0)),(yr.instantAnimations||yr.skipAnimations)&&(d=!0,vd(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,d&&!i&&e.get()!==void 0){const m=hL(h.keyframes,a);if(m!==void 0){ke.update(()=>{h.onUpdate(m),h.onComplete()});return}}return a.isSync?new bp(h):new jM(h)};function _L({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function ux(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:i=n.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],u=s&&n.animationState&&n.animationState.getState()[s];for(const h in a){const d=n.getValue(h,n.latestValues[h]??null),m=a[h];if(m===void 0||u&&_L(u,h))continue;const g={delay:t,...xp(i||{},h)},w=d.get();if(w!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===w&&!g.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const x=cx(n);if(x){const A=window.MotionHandoffAnimation(x,h,ke);A!==null&&(g.startTime=A,_=!0)}}Ad(n,h),d.start(Mp(h,d,m,n.shouldReduceMotion&&CT.has(h)?{type:!1}:g,n,_));const v=d.animation;v&&l.push(v)}return o&&Promise.all(l).then(()=>{ke.update(()=>{o&&lL(n,o)})}),l}function hx(n,e,t,r=0,s=1){const i=Array.from(n).sort((u,h)=>u.sortNodePosition(h)).indexOf(e),o=n.size,a=(o-1)*r;return typeof t=="function"?t(i,o):s===1?i*r:a-i*r}function Sd(n,e,t={}){var l;const r=ki(n,e,t.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const i=r?()=>Promise.all(ux(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:m}=s;return vL(n,e,u,h,d,m,t)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,h]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>h())}else return Promise.all([i(),o(t.delay)])}function vL(n,e,t=0,r=0,s=0,i=1,o){const a=[];for(const l of n.variantChildren)l.notify("AnimationStart",e),a.push(Sd(l,e,{...o,delay:t+(typeof r=="function"?0:r)+hx(n.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function wL(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Sd(n,i,t));r=Promise.all(s)}else if(typeof e=="string")r=Sd(n,e,t);else{const s=typeof e=="function"?ki(n,e,t.custom):e;r=Promise.all(ux(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function dx(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const bL=Rp.length;function fx(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?fx(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<bL;t++){const r=Rp[t],s=n.props[r];(_a(s)||s===!1)&&(e[r]=s)}return e}const TL=[...Pp].reverse(),xL=Pp.length;function EL(n){return e=>Promise.all(e.map(({animation:t,options:r})=>wL(n,t,r)))}function IL(n){let e=EL(n),t=r_(),r=!0;const s=l=>(u,h)=>{var m;const d=ki(n,h,l==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);if(d){const{transition:g,transitionEnd:w,..._}=d;u={...u,..._,...w}}return u};function i(l){e=l(n)}function o(l){const{props:u}=n,h=fx(n.parent)||{},d=[],m=new Set;let g={},w=1/0;for(let v=0;v<xL;v++){const x=TL[v],A=t[x],S=u[x]!==void 0?u[x]:h[x],D=_a(S),R=x===l?A.isActive:null;R===!1&&(w=v);let V=S===h[x]&&S!==u[x]&&D;if(V&&r&&n.manuallyAnimateOnMount&&(V=!1),A.protectedKeys={...g},!A.isActive&&R===null||!S&&!A.prevProp||mu(S)||typeof S=="boolean")continue;const E=AL(A.prevProp,S);let b=E||x===l&&A.isActive&&!V&&D||v>w&&D,T=!1;const C=Array.isArray(S)?S:[S];let k=C.reduce(s(x),{});R===!1&&(k={});const{prevResolvedValues:N={}}=A,P={...N,...k},z=G=>{b=!0,m.has(G)&&(T=!0,m.delete(G)),A.needsAnimating[G]=!0;const Y=n.getValue(G);Y&&(Y.liveStyle=!1)};for(const G in P){const Y=k[G],J=N[G];if(g.hasOwnProperty(G))continue;let le=!1;Id(Y)&&Id(J)?le=!dx(Y,J):le=Y!==J,le?Y!=null?z(G):m.add(G):Y!==void 0&&m.has(G)?z(G):A.protectedKeys[G]=!0}A.prevProp=S,A.prevResolvedValues=k,A.isActive&&(g={...g,...k}),r&&n.blockInitialAnimation&&(b=!1);const Q=V&&E;b&&(!Q||T)&&d.push(...C.map(G=>{const Y={type:x};if(typeof G=="string"&&r&&!Q&&n.manuallyAnimateOnMount&&n.parent){const{parent:J}=n,le=ki(J,G);if(J.enteringChildren&&le){const{delayChildren:ee}=le.transition||{};Y.delay=hx(J.enteringChildren,n,ee)}}return{animation:G,options:Y}}))}if(m.size){const v={};if(typeof u.initial!="boolean"){const x=ki(n,Array.isArray(u.initial)?u.initial[0]:u.initial);x&&x.transition&&(v.transition=x.transition)}m.forEach(x=>{const A=n.getBaseTarget(x),S=n.getValue(x);S&&(S.liveStyle=!0),v[x]=A??null}),d.push({animation:v})}let _=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(d):Promise.resolve()}function a(l,u){var d;if(t[l].isActive===u)return Promise.resolve();(d=n.variantChildren)==null||d.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(l,u)}),t[l].isActive=u;const h=o(l);for(const m in t)t[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>t,reset:()=>{t=r_()}}}function AL(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!dx(e,n):!1}function vs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function r_(){return{animate:vs(!0),whileInView:vs(),whileHover:vs(),whileTap:vs(),whileDrag:vs(),whileFocus:vs(),exit:vs()}}class as{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SL extends as{constructor(e){super(e),e.animationState||(e.animationState=IL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let PL=0;class RL extends as{constructor(){super(...arguments),this.id=PL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const CL={animation:{Feature:SL},exit:{Feature:RL}};function wa(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function Ka(n){return{point:{x:n.pageX,y:n.pageY}}}const kL=n=>e=>Ap(e)&&n(e,Ka(e));function Jo(n,e,t,r){return wa(n,e,kL(t),r)}const px=1e-4,NL=1-px,DL=1+px,mx=.01,OL=0-mx,VL=0+mx;function Vt(n){return n.max-n.min}function ML(n,e,t){return Math.abs(n-e)<=t}function s_(n,e,t,r=.5){n.origin=r,n.originPoint=De(e.min,e.max,n.origin),n.scale=Vt(t)/Vt(e),n.translate=De(t.min,t.max,n.origin)-n.originPoint,(n.scale>=NL&&n.scale<=DL||isNaN(n.scale))&&(n.scale=1),(n.translate>=OL&&n.translate<=VL||isNaN(n.translate))&&(n.translate=0)}function Zo(n,e,t,r){s_(n.x,e.x,t.x,r?r.originX:void 0),s_(n.y,e.y,t.y,r?r.originY:void 0)}function i_(n,e,t){n.min=t.min+e.min,n.max=n.min+Vt(e)}function LL(n,e,t){i_(n.x,e.x,t.x),i_(n.y,e.y,t.y)}function o_(n,e,t){n.min=e.min-t.min,n.max=n.min+Vt(e)}function Ac(n,e,t){o_(n.x,e.x,t.x),o_(n.y,e.y,t.y)}function an(n){return[n("x"),n("y")]}const gx=({current:n})=>n?n.ownerDocument.defaultView:null,a_=(n,e)=>Math.abs(n-e);function jL(n,e){const t=a_(n.x,e.x),r=a_(n.y,e.y);return Math.sqrt(t**2+r**2)}class yx{constructor(e,t,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=uh(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,w=jL(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!w)return;const{point:_}=m,{timestamp:v}=dt;this.history.push({..._,timestamp:v});const{onStart:x,onMove:A}=this.handlers;g||(x&&x(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=ch(g,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:w,onSessionEnd:_,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=uh(m.type==="pointercancel"?this.lastMoveEventInfo:ch(g,this.transformPagePoint),this.history);this.startEvent&&w&&w(m,x),_&&_(m,x)},!Ap(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Ka(e),l=ch(a,this.transformPagePoint),{point:u}=l,{timestamp:h}=dt;this.history=[{...u,timestamp:h}];const{onSessionStart:d}=t;d&&d(e,uh(l,this.history)),this.removeListeners=Ga(Jo(this.contextWindow,"pointermove",this.handlePointerMove),Jo(this.contextWindow,"pointerup",this.handlePointerUp),Jo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),es(this.updatePoint)}}function ch(n,e){return e?{point:e(n.point)}:n}function l_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function uh({point:n},e){return{point:n,delta:l_(n,_x(e)),offset:l_(n,FL(e)),velocity:UL(e,.1)}}function FL(n){return n[0]}function _x(n){return n[n.length-1]}function UL(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=_x(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>zn(e)));)t--;if(!r)return{x:0,y:0};const i=un(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function BL(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?De(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?De(t,n,r.max):Math.min(n,t)),n}function c_(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function zL(n,{top:e,left:t,bottom:r,right:s}){return{x:c_(n.x,t,s),y:c_(n.y,e,r)}}function u_(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function $L(n,e){return{x:u_(n.x,e.x),y:u_(n.y,e.y)}}function qL(n,e){let t=.5;const r=Vt(n),s=Vt(e);return s>r?t=ma(e.min,e.max-r,n.min):r>s&&(t=ma(n.min,n.max-s,e.min)),gr(0,1,t)}function GL(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Pd=.35;function HL(n=Pd){return n===!1?n=0:n===!0&&(n=Pd),{x:h_(n,"left","right"),y:h_(n,"top","bottom")}}function h_(n,e,t){return{min:d_(n,e),max:d_(n,t)}}function d_(n,e){return typeof n=="number"?n:n[e]||0}const WL=new WeakMap;class KL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ka(d).point)},o=(d,m)=>{const{drag:g,dragPropagation:w,onDragStart:_}=this.getProps();if(g&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=e2(g),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),an(x=>{let A=this.getAxisMotionValue(x).get()||0;if($n.test(A)){const{projection:S}=this.visualElement;if(S&&S.layout){const D=S.layout.layoutBox[x];D&&(A=Vt(D)*(parseFloat(A)/100))}}this.originPoint[x]=A}),_&&ke.postRender(()=>_(d,m)),Ad(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:w,onDirectionLock:_,onDrag:v}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:x}=m;if(w&&this.currentDirection===null){this.currentDirection=QL(x),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",m.point,x),this.updateAxis("y",m.point,x),this.visualElement.render(),v&&v(d,m)},l=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>an(d=>{var m;return this.getAnimationState(d)==="paused"&&((m=this.getAxisMotionValue(d).animation)==null?void 0:m.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new yx(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:gx(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,s=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ke.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Vl(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=BL(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&vi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=zL(r.layoutBox,e):this.constraints=!1,this.elastic=HL(t),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&an(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=GL(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!vi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Y2(r,s.root,this.visualElement.getTransformPagePoint());let o=$L(s.layout.layoutBox,i);if(t){const a=t(W2(o));this.hasMutatedConstraints=!!a,a&&(o=tx(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=an(h=>{if(!Vl(h,t,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(h,w)});return Promise.all(u).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Ad(this.visualElement,e),r.start(Mp(e,r,0,t,this.visualElement,!1))}stopAnimation(){an(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){an(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){an(t=>{const{drag:r}=this.getProps();if(!Vl(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(t);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[t];i.set(e[t]-De(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!vi(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};an(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=qL({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),an(o=>{if(!Vl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(De(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;WL.set(this.visualElement,this);const e=this.visualElement.current,t=Jo(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();vi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ke.read(r);const o=wa(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(an(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),t(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Pd,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Vl(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function QL(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class YL extends as{constructor(e){super(e),this.removeGroupControls=pn,this.removeListeners=pn,this.controls=new KL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pn}unmount(){this.removeGroupControls(),this.removeListeners()}}const f_=n=>(e,t)=>{n&&ke.postRender(()=>n(e,t))};class XL extends as{constructor(){super(...arguments),this.removePointerDownListener=pn}onPointerDown(e){this.session=new yx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:f_(e),onStart:f_(t),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ke.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Jo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function p_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Oo={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(te.test(n))n=parseFloat(n);else return n;const t=p_(n,e.target.x),r=p_(n,e.target.y);return`${t}% ${r}%`}},JL={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=ts.parse(n);if(s.length>5)return r;const i=ts.createTransformer(n),o=typeof s[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=De(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let hh=!1;class ZL extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;b2(ej),i&&(t.group&&t.group.add(i),r&&r.register&&s&&r.register(i),hh&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Jl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,hh=!0,s||e.layoutDependency!==t||t===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ke.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ip.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;hh=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function vx(n){const[e,t]=BT(),r=O.useContext(rp);return f.jsx(ZL,{...n,layoutGroup:r,switchLayoutGroup:O.useContext(ZT),isPresent:e,safeToRemove:t})}const ej={borderRadius:{...Oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oo,borderTopRightRadius:Oo,borderBottomLeftRadius:Oo,borderBottomRightRadius:Oo,boxShadow:JL};function tj(n,e,t){const r=St(n)?n:Ji(n);return r.start(Mp("",r,e,t)),r.animation}const nj=(n,e)=>n.depth-e.depth;class rj{constructor(){this.children=[],this.isDirty=!1}add(e){op(this.children,e),this.isDirty=!0}remove(e){ap(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nj),this.isDirty=!1,this.children.forEach(e)}}function sj(n,e){const t=Ut.now(),r=({timestamp:s})=>{const i=s-t;i>=e&&(es(r),n(i-e))};return ke.setup(r,!0),()=>es(r)}const wx=["TopLeft","TopRight","BottomLeft","BottomRight"],ij=wx.length,m_=n=>typeof n=="string"?parseFloat(n):n,g_=n=>typeof n=="number"||te.test(n);function oj(n,e,t,r,s,i){s?(n.opacity=De(0,t.opacity??1,aj(r)),n.opacityExit=De(e.opacity??1,0,lj(r))):i&&(n.opacity=De(e.opacity??1,t.opacity??1,r));for(let o=0;o<ij;o++){const a=`border${wx[o]}Radius`;let l=y_(e,a),u=y_(t,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||g_(l)===g_(u)?(n[a]=Math.max(De(m_(l),m_(u),r),0),($n.test(u)||$n.test(l))&&(n[a]+="%")):n[a]=u}(e.rotate||t.rotate)&&(n.rotate=De(e.rotate||0,t.rotate||0,r))}function y_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const aj=bx(0,.5,aT),lj=bx(.5,.95,pn);function bx(n,e,t){return r=>r<n?0:r>e?1:t(ma(n,e,r))}function __(n,e){n.min=e.min,n.max=e.max}function _n(n,e){__(n.x,e.x),__(n.y,e.y)}function v_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function w_(n,e,t,r,s){return n-=e,n=Ic(n,1/t,r),s!==void 0&&(n=Ic(n,1/s,r)),n}function cj(n,e=0,t=1,r=.5,s,i=n,o=n){if($n.test(e)&&(e=parseFloat(e),e=De(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=De(i.min,i.max,r);n===i&&(a-=e),n.min=w_(n.min,e,t,a,s),n.max=w_(n.max,e,t,a,s)}function b_(n,e,[t,r,s],i,o){cj(n,e[t],e[r],e[s],e.scale,i,o)}const uj=["x","scaleX","originX"],hj=["y","scaleY","originY"];function T_(n,e,t,r){b_(n.x,e,uj,t?t.x:void 0,r?r.x:void 0),b_(n.y,e,hj,t?t.y:void 0,r?r.y:void 0)}function x_(n){return n.translate===0&&n.scale===1}function Tx(n){return x_(n.x)&&x_(n.y)}function E_(n,e){return n.min===e.min&&n.max===e.max}function dj(n,e){return E_(n.x,e.x)&&E_(n.y,e.y)}function I_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function xx(n,e){return I_(n.x,e.x)&&I_(n.y,e.y)}function A_(n){return Vt(n.x)/Vt(n.y)}function S_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class fj{constructor(){this.members=[]}add(e){op(this.members,e),e.scheduleRender()}remove(e){if(ap(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pj(n,e,t){let r="";const s=n.x.translate/e.x,i=n.y.translate/e.y,o=(t==null?void 0:t.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:m,skewX:g,skewY:w}=t;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const dh=["","X","Y","Z"],mj=1e3;let gj=0;function fh(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function Ex(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=cx(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:i}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ke,!(s||i))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&Ex(r)}function Ix({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=gj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vj),this.nodes.forEach(xj),this.nodes.forEach(Ej),this.nodes.forEach(wj)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new rj)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new up),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=UT(o)&&!o2(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),n){let h,d=0;const m=()=>this.root.updateBlockedByResize=!1;ke.read(()=>{d=window.innerWidth}),n(o,()=>{const g=window.innerWidth;g!==d&&(d=g,this.root.updateBlockedByResize=!0,h&&h(),h=sj(m,250),Jl.hasAnimatedSinceResize&&(Jl.hasAnimatedSinceResize=!1,this.nodes.forEach(C_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||u.getDefaultTransition()||Rj,{onLayoutAnimationStart:_,onLayoutAnimationComplete:v}=u.getProps(),x=!this.targetLayout||!xx(this.targetLayout,g),A=!d&&m;if(this.options.layoutRoot||this.resumeFrom||A||d&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...xp(w,"layout"),onPlay:_,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(h,A)}else d||C_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),es(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ij),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ex(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(P_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(R_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Tj),this.nodes.forEach(yj),this.nodes.forEach(_j)):this.nodes.forEach(R_),this.clearAllSnapshots();const a=Ut.now();dt.delta=gr(0,1e3/60,a-dt.timestamp),dt.timestamp=a,dt.isProcessing=!0,th.update.process(dt),th.preRender.process(dt),th.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ip.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bj),this.sharedNodes.forEach(Aj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vt(this.snapshot.measuredBox.x)&&!Vt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Tx(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Is(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Cj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return rt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(kj))){const{scroll:h}=this.root;h&&(wi(a.x,h.offset.x),wi(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=rt();if(_n(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:m}=h;h!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&_n(a,o),wi(a.x,d.offset.x),wi(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=rt();_n(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&bi(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Is(h.latestValues)&&bi(l,h.latestValues)}return Is(this.latestValues)&&bi(l,this.latestValues),l}removeTransform(o){const a=rt();_n(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Is(u.latestValues))continue;Td(u.latestValues)&&u.updateSnapshot();const h=rt(),d=u.measurePageBox();_n(h,d),T_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Is(this.latestValues)&&T_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!this.layout||!(h||d))return;this.resolvedRelativeTargetAt=dt.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_n(this.target,this.layout.layoutBox),rx(this.target,this.targetDelta)):_n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Td(this.parent.latestValues)||nx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ac(this.relativeTargetOrigin,a,l),_n(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;_n(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;Q2(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=rt());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(v_(this.prevProjectionDelta.x,this.projectionDelta.x),v_(this.prevProjectionDelta.y,this.projectionDelta.y)),Zo(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!S_(this.projectionDelta.x,this.prevProjectionDelta.x)||!S_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ti(),this.projectionDelta=Ti(),this.projectionDeltaWithTransform=Ti()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},d=Ti();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=rt(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,_=g!==w,v=this.getStack(),x=!v||v.members.length<=1,A=!!(_&&!x&&this.options.crossfade===!0&&!this.path.some(Pj));this.animationProgress=0;let S;this.mixTargetDelta=D=>{const R=D/1e3;k_(d.x,o.x,R),k_(d.y,o.y,R),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ac(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sj(this.relativeTarget,this.relativeTargetOrigin,m,R),S&&dj(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=rt()),_n(S,this.relativeTarget)),_&&(this.animationValues=h,oj(h,u,this.latestValues,R,A,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(es(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{Jl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ji(0)),this.currentAnimation=tj(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&Ax(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||rt();const d=Vt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const m=Vt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}_n(a,l),bi(a,h),Zo(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new fj),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&fh("z",o,u,this.animationValues);for(let h=0;h<dh.length;h++)fh(`rotate${dh[h]}`,o,u,this.animationValues),fh(`skew${dh[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Xl(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Xl(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Is(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=pj(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),o.transform=d;const{x:m,y:g}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,u.animationValues?o.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in va){if(h[w]===void 0)continue;const{correct:_,applyTo:v,isCSSVariable:x}=va[w],A=d==="none"?h[w]:_(h[w],u);if(v){const S=v.length;for(let D=0;D<S;D++)o[v[D]]=A}else x?this.options.visualElement.renderState.vars[w]=A:o[w]=A}this.options.layoutId&&(o.pointerEvents=u===this?Xl(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(P_),this.root.sharedNodes.clear()}}}function yj(n){n.updateLayout()}function _j(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:i}=n.options,o=e.source!==n.layout.source;i==="size"?an(d=>{const m=o?e.measuredBox[d]:e.layoutBox[d],g=Vt(m);m.min=r[d].min,m.max=m.min+g}):Ax(i,e.layoutBox,r)&&an(d=>{const m=o?e.measuredBox[d]:e.layoutBox[d],g=Vt(r[d]);m.max=m.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+g)});const a=Ti();Zo(a,r,e.layoutBox);const l=Ti();o?Zo(l,n.applyTransform(s,!0),e.measuredBox):Zo(l,r,e.layoutBox);const u=!Tx(a);let h=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:g}=d;if(m&&g){const w=rt();Ac(w,e.layoutBox,m.layoutBox);const _=rt();Ac(_,r,g.layoutBox),xx(w,_)||(h=!0),d.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=w,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function vj(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function wj(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function bj(n){n.clearSnapshot()}function P_(n){n.clearMeasurements()}function R_(n){n.isLayoutDirty=!1}function Tj(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function C_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function xj(n){n.resolveTargetDelta()}function Ej(n){n.calcProjection()}function Ij(n){n.resetSkewAndRotation()}function Aj(n){n.removeLeadSnapshot()}function k_(n,e,t){n.translate=De(e.translate,0,t),n.scale=De(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function N_(n,e,t,r){n.min=De(e.min,t.min,r),n.max=De(e.max,t.max,r)}function Sj(n,e,t,r){N_(n.x,e.x,t.x,r),N_(n.y,e.y,t.y,r)}function Pj(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Rj={duration:.45,ease:[.4,0,.1,1]},D_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),O_=D_("applewebkit/")&&!D_("chrome/")?Math.round:pn;function V_(n){n.min=O_(n.min),n.max=O_(n.max)}function Cj(n){V_(n.x),V_(n.y)}function Ax(n,e,t){return n==="position"||n==="preserve-aspect"&&!ML(A_(e),A_(t),.2)}function kj(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const Nj=Ix({attachResizeListener:(n,e)=>wa(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ph={current:void 0},Sx=Ix({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ph.current){const n=new Nj({});n.mount(window),n.setOptions({layoutScroll:!0}),ph.current=n}return ph.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Dj={pan:{Feature:XL},drag:{Feature:YL,ProjectionNode:Sx,MeasureLayout:vx}};function M_(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,i=r[s];i&&ke.postRender(()=>i(e,Ka(e)))}class Oj extends as{mount(){const{current:e}=this.node;e&&(this.unmount=t2(e,(t,r)=>(M_(this.node,r,"Start"),s=>M_(this.node,s,"End"))))}unmount(){}}class Vj extends as{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ga(wa(this.node.current,"focus",()=>this.onFocus()),wa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function L_(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),i=r[s];i&&ke.postRender(()=>i(e,Ka(e)))}class Mj extends as{mount(){const{current:e}=this.node;e&&(this.unmount=i2(e,(t,r)=>(L_(this.node,r,"Start"),(s,{success:i})=>L_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rd=new WeakMap,mh=new WeakMap,Lj=n=>{const e=Rd.get(n.target);e&&e(n)},jj=n=>{n.forEach(Lj)};function Fj({root:n,...e}){const t=n||document;mh.has(t)||mh.set(t,{});const r=mh.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(jj,{root:n,...e})),r[s]}function Uj(n,e,t){const r=Fj(e);return Rd.set(n,t),r.observe(n),()=>{Rd.delete(n),r.unobserve(n)}}const Bj={some:0,all:1};class zj extends as{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:i}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Bj[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),m=u?h:d;m&&m(l)};return Uj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some($j(e,t))&&this.startObserver()}unmount(){}}function $j({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const qj={inView:{Feature:zj},tap:{Feature:Mj},focus:{Feature:Vj},hover:{Feature:Oj}},Gj={layout:{ProjectionNode:Sx,MeasureLayout:vx}},Hj={...CL,...qj,...Dj,...Gj},He=H2(Hj,iL),Wj=(n,e)=>{O.useEffect(()=>{const t=r=>{!n.current||n.current.contains(r.target)||e()};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[n,e])},j_="/assets/lock-BoB7JFu-.png";function Kj(){const[n,e]=O.useState(!1),t=O.useRef(null),r=O.useRef(null),s=O.useId();return O.useEffect(()=>{const i=()=>{window.location.hash==="#privacy-lock"&&setTimeout(()=>{e(!0)},300)};return i(),window.addEventListener("hashchange",i),()=>window.removeEventListener("hashchange",i)},[]),O.useEffect(()=>{window.location.hash==="#privacy-lock"&&r.current&&r.current.scrollIntoView({behavior:"smooth",block:"center"})},[]),O.useEffect(()=>{function i(o){o.key==="Escape"&&(e(!1),window.location.hash==="#privacy-lock"&&window.history.replaceState(null,"",window.location.pathname+window.location.search))}return n?document.body.style.overflow="hidden":document.body.style.overflow="auto",window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[n]),Wj(t,()=>e(!1)),f.jsxs(f.Fragment,{children:[f.jsx(bd,{children:n&&f.jsx(He.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm h-full w-full z-[90]"})}),f.jsx(bd,{children:n?f.jsxs("div",{className:"fixed inset-0 grid place-items-center z-[100] p-4",children:[f.jsx(He.button,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.05}},className:"flex absolute top-4 right-4 items-center justify-center bg-white/10 backdrop-blur-md rounded-full h-10 w-10 hover:bg-white/20 transition-colors z-[110]",onClick:()=>{e(!1),window.location.hash==="#privacy-lock"&&window.history.replaceState(null,"",window.location.pathname+window.location.search)},children:f.jsx(Qj,{})},`button-close-${s}`),f.jsxs(He.div,{layoutId:`privacy-card-${s}`,ref:t,className:"w-full max-w-2xl h-fit max-h-[90vh] flex flex-col glass-card rounded-3xl overflow-hidden p-8 md:p-12",children:[f.jsx(He.div,{layoutId:`privacy-icon-${s}`,className:"mx-auto mb-6",children:f.jsx("div",{className:"w-32 h-32 glass-card-light rounded-2xl flex items-center justify-center",children:f.jsx("img",{src:j_,alt:"Privacy Lock",className:"w-20 h-20 object-contain"})})}),f.jsxs("div",{className:"overflow-auto [scrollbar-width:none] [-ms-overflow-style:none] [-webkit-overflow-scrolling:touch]",children:[f.jsx(He.h2,{layoutId:`privacy-title-${s}`,className:"text-4xl font-bold mb-6 gradient-text-blue text-center",children:"Your Privacy, Our Priority"}),f.jsxs(He.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},exit:{opacity:0},className:"text-gray-300 leading-relaxed space-y-4 text-lg",children:[f.jsx("p",{children:"At Offerloop.ai, your data is yours  always. We never sell or share your information."}),f.jsx("p",{children:"Authentication is handled securely through Google sign-in, and all data is encrypted in transit and at rest."}),f.jsx("p",{children:"You can export or delete your information at any time, giving you complete control and peace of mind."}),f.jsxs("div",{className:"mt-8 p-6 bg-blue-500/10 border border-blue-500/30 rounded-xl",children:[f.jsx("h3",{className:"text-xl font-semibold text-blue-400 mb-3",children:"Our Commitments:"}),f.jsxs("ul",{className:"space-y-2 text-gray-300",children:[f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-blue-400 mt-1",children:""}),f.jsx("span",{children:"End-to-end encryption for all your data"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-blue-400 mt-1",children:""}),f.jsx("span",{children:"No third-party data sharing or selling"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-blue-400 mt-1",children:""}),f.jsx("span",{children:"Full data export and deletion capabilities"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-blue-400 mt-1",children:""}),f.jsx("span",{children:"Secure Google OAuth authentication"})]}),f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-blue-400 mt-1",children:""}),f.jsx("span",{children:"GDPR and CCPA compliant"})]})]})]})]})]})]})]}):null}),f.jsxs(He.div,{ref:r,layoutId:`privacy-card-${s}`,onClick:()=>e(!0),className:"inline-flex items-center gap-3 cursor-pointer group mb-4",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1,transition:{type:"spring",stiffness:260,damping:20}},children:[f.jsxs(He.div,{className:"relative",animate:{rotate:[0,-6,6,-6,6,0],transition:{repeat:1/0,repeatDelay:10,duration:.8,ease:"easeInOut"}},children:[f.jsx(He.div,{layoutId:`privacy-icon-${s}`,className:"w-16 h-16 glass-card rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg shadow-blue-500/10",whileHover:{boxShadow:"0 0 25px rgba(59, 130, 246, 0.25)",scale:1.06},children:f.jsx("img",{src:j_,alt:"Privacy Lock",className:"w-10 h-10 object-contain"})}),f.jsx(He.div,{className:"absolute inset-0 rounded-2xl border border-blue-400/30",animate:{scale:[1,1.12,1],opacity:[.35,0,.35]},transition:{repeat:1/0,duration:3,ease:"easeInOut"}})]}),f.jsx(He.div,{className:"absolute bottom-full right-0 mb-2 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",initial:{y:10,opacity:0},whileHover:{y:0,opacity:1},children:f.jsx("div",{className:"glass-card px-3 py-2 rounded-lg text-sm text-blue-300",children:"Your Privacy"})})]})]})}const Qj=()=>f.jsxs(He.svg,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.05}},xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-white",children:[f.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),f.jsx("path",{d:"M18 6l-12 12"}),f.jsx("path",{d:"M6 6l12 12"})]}),Yj="/assets/ScoutWavingWhite-B4g8Rs7v.mp4",Xj="/assets/Dashboard-Db19xZ6m.mov",Jj="/assets/Contact%20Search-BKTEP_hy.mov",Zj="/assets/FirmSearch-DETb1uh9.mov",eF="/assets/Interview%20Prep-6EuSuMRq.mov",tF="/assets/CoffeeChat-C4fAuim1.mov";function nr(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Px(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Zt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},eo={duration:.5,overwrite:!1,delay:0},Lp,gt,Ce,hn=1e8,Ee=1/hn,Cd=Math.PI*2,nF=Cd/4,rF=0,Rx=Math.sqrt,sF=Math.cos,iF=Math.sin,at=function(e){return typeof e=="string"},Ue=function(e){return typeof e=="function"},_r=function(e){return typeof e=="number"},jp=function(e){return typeof e>"u"},Hn=function(e){return typeof e=="object"},zt=function(e){return e!==!1},Fp=function(){return typeof window<"u"},Ml=function(e){return Ue(e)||at(e)},Cx=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Pt=Array.isArray,kd=/(?:-?\.?\d|\.)+/gi,kx=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,xi=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,gh=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Nx=/[+-]=-?[.\d]+/,Dx=/[^,'"\[\]\s]+/gi,oF=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ne,kn,Nd,Up,en={},Sc={},Ox,Vx=function(e){return(Sc=to(e,en))&&Ht},Bp=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},ba=function(e,t){return!t&&console.warn(e)},Mx=function(e,t){return e&&(en[e]=t)&&Sc&&(Sc[e]=t)||en},Ta=function(){return 0},aF={suppressEvents:!0,isStart:!0,kill:!1},Zl={suppressEvents:!0,kill:!1},lF={suppressEvents:!0},zp={},Kr=[],Dd={},Lx,Kt={},yh={},F_=30,ec=[],$p="",qp=function(e){var t=e[0],r,s;if(Hn(t)||Ue(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(s=ec.length;s--&&!ec[s].targetTest(t););r=ec[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new aE(e[s],r)))||e.splice(s,1);return e},$s=function(e){return e._gsap||qp(dn(e))[0]._gsap},jx=function(e,t,r){return(r=e[t])&&Ue(r)?e[t]():jp(r)&&e.getAttribute&&e.getAttribute(t)||r},$t=function(e,t){return(e=e.split(",")).forEach(t)||e},Ke=function(e){return Math.round(e*1e5)/1e5||0},Ze=function(e){return Math.round(e*1e7)/1e7||0},Ni=function(e,t){var r=t.charAt(0),s=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+s:r==="-"?e-s:r==="*"?e*s:e/s},cF=function(e,t){for(var r=t.length,s=0;e.indexOf(t[s])<0&&++s<r;);return s<r},Pc=function(){var e=Kr.length,t=Kr.slice(0),r,s;for(Dd={},Kr.length=0,r=0;r<e;r++)s=t[r],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},Gp=function(e){return!!(e._initted||e._startAt||e.add)},Fx=function(e,t,r,s){Kr.length&&!gt&&Pc(),e.render(t,r,!!(gt&&t<0&&Gp(e))),Kr.length&&!gt&&Pc()},Ux=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Dx).length<2?t:at(e)?e.trim():e},Bx=function(e){return e},tn=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},uF=function(e){return function(t,r){for(var s in r)s in t||s==="duration"&&e||s==="ease"||(t[s]=r[s])}},to=function(e,t){for(var r in t)e[r]=t[r];return e},U_=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Hn(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},Rc=function(e,t){var r={},s;for(s in e)s in t||(r[s]=e[s]);return r},ea=function(e){var t=e.parent||Ne,r=e.keyframes?uF(Pt(e.keyframes)):tn;if(zt(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},hF=function(e,t){for(var r=e.length,s=r===t.length;s&&r--&&e[r]===t[r];);return r<0},zx=function(e,t,r,s,i){var o=e[s],a;if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[s]=t,t._prev=o,t.parent=t._dp=e,t},yu=function(e,t,r,s){r===void 0&&(r="_first"),s===void 0&&(s="_last");var i=t._prev,o=t._next;i?i._next=o:e[r]===t&&(e[r]=o),o?o._prev=i:e[s]===t&&(e[s]=i),t._next=t._prev=t.parent=null},ns=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},qs=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},dF=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Od=function(e,t,r,s){return e._startAt&&(gt?e._startAt.revert(Zl):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,s))},fF=function n(e){return!e||e._ts&&n(e.parent)},B_=function(e){return e._repeat?no(e._tTime,e=e.duration()+e._rDelay)*e:0},no=function(e,t){var r=Math.floor(e=Ze(e/t));return e&&r===e?r-1:r},Cc=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},_u=function(e){return e._end=Ze(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ee)||0))},vu=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Ze(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),_u(e),r._dirty||qs(r,e)),e},$x=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=Cc(e.rawTime(),t),(!t._dur||Qa(0,t.totalDuration(),r)-t._tTime>Ee)&&t.render(r,!0)),qs(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Ee}},Vn=function(e,t,r,s){return t.parent&&ns(t),t._start=Ze((_r(r)?r:r||e!==Ne?ln(e,r,t):e._time)+t._delay),t._end=Ze(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),zx(e,t,"_first","_last",e._sort?"_start":0),Vd(t)||(e._recent=t),s||$x(e,t),e._ts<0&&vu(e,e._tTime),e},qx=function(e,t){return(en.ScrollTrigger||Bp("scrollTrigger",t))&&en.ScrollTrigger.create(t,e)},Gx=function(e,t,r,s,i){if(Wp(e,t,i),!e._initted)return 1;if(!r&&e._pt&&!gt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Lx!==Qt.frame)return Kr.push(e),e._lazy=[i,s],1},pF=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},Vd=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},mF=function(e,t,r,s){var i=e.ratio,o=t<0||!t&&(!e._start&&pF(e)&&!(!e._initted&&Vd(e))||(e._ts<0||e._dp._ts<0)&&!Vd(e))?0:1,a=e._rDelay,l=0,u,h,d;if(a&&e._repeat&&(l=Qa(0,e._tDur,t),h=no(l,a),e._yoyo&&h&1&&(o=1-o),h!==no(e._tTime,a)&&(i=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==i||gt||s||e._zTime===Ee||!t&&e._zTime){if(!e._initted&&Gx(e,t,s,r,l))return;for(d=e._zTime,e._zTime=t||(r?Ee:0),r||(r=t&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;t<0&&Od(e,t,r,!0),e._onUpdate&&!r&&Jt(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Jt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&ns(e,1),!r&&!gt&&(Jt(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},gF=function(e,t,r){var s;if(r>t)for(s=e._first;s&&s._start<=r;){if(s.data==="isPause"&&s._start>t)return s;s=s._next}else for(s=e._last;s&&s._start>=r;){if(s.data==="isPause"&&s._start<t)return s;s=s._prev}},ro=function(e,t,r,s){var i=e._repeat,o=Ze(t)||0,a=e._tTime/e._tDur;return a&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Ze(o*(i+1)+e._rDelay*i):o,a>0&&!s&&vu(e,e._tTime=e._tDur*a),e.parent&&_u(e),r||qs(e.parent,e),e},z_=function(e){return e instanceof Ot?qs(e):ro(e,e._dur)},yF={_start:0,endTime:Ta,totalDuration:Ta},ln=function n(e,t,r){var s=e.labels,i=e._recent||yF,o=e.duration()>=hn?i.endTime(!1):e._dur,a,l,u;return at(t)&&(isNaN(t)||t in s)?(l=t.charAt(0),u=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(a<0?i:r).totalDuration()/100:1)):a<0?(t in s||(s[t]=o),s[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),u&&r&&(l=l/100*(Pt(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},ta=function(e,t,r){var s=_r(t[1]),i=(s?2:1)+(e<2?0:1),o=t[i],a,l;if(s&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=zt(l.vars.inherit)&&l.parent;o.immediateRender=zt(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[i-1]}return new Je(t[0],o,t[i+1])},ls=function(e,t){return e||e===0?t(e):t},Qa=function(e,t,r){return r<e?e:r>t?t:r},At=function(e,t){return!at(e)||!(t=oF.exec(e))?"":t[1]},_F=function(e,t,r){return ls(r,function(s){return Qa(e,t,s)})},Md=[].slice,Hx=function(e,t){return e&&Hn(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Hn(e[0]))&&!e.nodeType&&e!==kn},vF=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(s){var i;return at(s)&&!t||Hx(s,1)?(i=r).push.apply(i,dn(s)):r.push(s)})||r},dn=function(e,t,r){return Ce&&!t&&Ce.selector?Ce.selector(e):at(e)&&!r&&(Nd||!so())?Md.call((t||Up).querySelectorAll(e),0):Pt(e)?vF(e,r):Hx(e)?Md.call(e,0):e?[e]:[]},Ld=function(e){return e=dn(e)[0]||ba("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return dn(t,r.querySelectorAll?r:r===e?ba("Invalid scope")||Up.createElement("div"):e)}},Wx=function(e){return e.sort(function(){return .5-Math.random()})},Kx=function(e){if(Ue(e))return e;var t=Hn(e)?e:{each:e},r=Gs(t.ease),s=t.from||0,i=parseFloat(t.base)||0,o={},a=s>0&&s<1,l=isNaN(s)||a,u=t.axis,h=s,d=s;return at(s)?h=d={center:.5,edges:.5,end:1}[s]||0:!a&&l&&(h=s[0],d=s[1]),function(m,g,w){var _=(w||t).length,v=o[_],x,A,S,D,R,V,E,b,T;if(!v){if(T=t.grid==="auto"?0:(t.grid||[1,hn])[1],!T){for(E=-hn;E<(E=w[T++].getBoundingClientRect().left)&&T<_;);T<_&&T--}for(v=o[_]=[],x=l?Math.min(T,_)*h-.5:s%T,A=T===hn?0:l?_*d/T-.5:s/T|0,E=0,b=hn,V=0;V<_;V++)S=V%T-x,D=A-(V/T|0),v[V]=R=u?Math.abs(u==="y"?D:S):Rx(S*S+D*D),R>E&&(E=R),R<b&&(b=R);s==="random"&&Wx(v),v.max=E-b,v.min=b,v.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(T>_?_-1:u?u==="y"?_/T:T:Math.max(T,_/T))||0)*(s==="edges"?-1:1),v.b=_<0?i-_:i,v.u=At(t.amount||t.each)||0,r=r&&_<0?sE(r):r}return _=(v[m]-v.min)/v.max||0,Ze(v.b+(r?r(_):_)*v.v)+v.u}},jd=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var s=Ze(Math.round(parseFloat(r)/e)*e*t);return(s-s%1)/t+(_r(r)?0:At(r))}},Qx=function(e,t){var r=Pt(e),s,i;return!r&&Hn(e)&&(s=r=e.radius||hn,e.values?(e=dn(e.values),(i=!_r(e[0]))&&(s*=s)):e=jd(e.increment)),ls(t,r?Ue(e)?function(o){return i=e(o),Math.abs(i-o)<=s?i:o}:function(o){for(var a=parseFloat(i?o.x:o),l=parseFloat(i?o.y:0),u=hn,h=0,d=e.length,m,g;d--;)i?(m=e[d].x-a,g=e[d].y-l,m=m*m+g*g):m=Math.abs(e[d]-a),m<u&&(u=m,h=d);return h=!s||u<=s?e[h]:o,i||h===o||_r(o)?h:h+At(o)}:jd(e))},Yx=function(e,t,r,s){return ls(Pt(e)?!t:r===!0?!!(r=0):!s,function(){return Pt(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(s=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*s)/s})},wF=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduce(function(i,o){return o(i)},s)}},bF=function(e,t){return function(r){return e(parseFloat(r))+(t||At(r))}},TF=function(e,t,r){return Jx(e,t,0,1,r)},Xx=function(e,t,r){return ls(r,function(s){return e[~~t(s)]})},xF=function n(e,t,r){var s=t-e;return Pt(e)?Xx(e,n(0,e.length),t):ls(r,function(i){return(s+(i-e)%s)%s+e})},EF=function n(e,t,r){var s=t-e,i=s*2;return Pt(e)?Xx(e,n(0,e.length-1),t):ls(r,function(o){return o=(i+(o-e)%i)%i||0,e+(o>s?i-o:o)})},xa=function(e){for(var t=0,r="",s,i,o,a;~(s=e.indexOf("random(",t));)o=e.indexOf(")",s),a=e.charAt(s+7)==="[",i=e.substr(s+7,o-s-7).match(a?Dx:kd),r+=e.substr(t,s-t)+Yx(a?i:+i[0],a?0:+i[1],+i[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},Jx=function(e,t,r,s,i){var o=t-e,a=s-r;return ls(i,function(l){return r+((l-e)/o*a||0)})},IF=function n(e,t,r,s){var i=isNaN(e+t)?0:function(g){return(1-g)*e+g*t};if(!i){var o=at(e),a={},l,u,h,d,m;if(r===!0&&(s=1)&&(r=null),o)e={p:e},t={p:t};else if(Pt(e)&&!Pt(t)){for(h=[],d=e.length,m=d-2,u=1;u<d;u++)h.push(n(e[u-1],e[u]));d--,i=function(w){w*=d;var _=Math.min(m,~~w);return h[_](w-_)},r=t}else s||(e=to(Pt(e)?[]:{},e));if(!h){for(l in t)Hp.call(a,e,l,"get",t[l]);i=function(w){return Yp(w,a)||(o?e.p:e)}}}return ls(r,i)},$_=function(e,t,r){var s=e.labels,i=hn,o,a,l;for(o in s)a=s[o]-t,a<0==!!r&&a&&i>(a=Math.abs(a))&&(l=o,i=a);return l},Jt=function(e,t,r){var s=e.vars,i=s[t],o=Ce,a=e._ctx,l,u,h;if(i)return l=s[t+"Params"],u=s.callbackScope||e,r&&Kr.length&&Pc(),a&&(Ce=a),h=l?i.apply(u,l):i.call(u),Ce=o,h},Bo=function(e){return ns(e),e.scrollTrigger&&e.scrollTrigger.kill(!!gt),e.progress()<1&&Jt(e,"onInterrupt"),e},Ei,Zx=[],eE=function(e){if(e)if(e=!e.name&&e.default||e,Fp()||e.headless){var t=e.name,r=Ue(e),s=t&&!r&&e.init?function(){this._props=[]}:e,i={init:Ta,render:Yp,add:Hp,kill:BF,modifier:UF,rawVars:0},o={targetTest:0,get:0,getSetter:Qp,aliases:{},register:0};if(so(),e!==s){if(Kt[t])return;tn(s,tn(Rc(e,i),o)),to(s.prototype,to(i,Rc(e,o))),Kt[s.prop=t]=s,e.targetTest&&(ec.push(s),zp[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Mx(t,s),e.register&&e.register(Ht,s,qt)}else Zx.push(e)},xe=255,zo={aqua:[0,xe,xe],lime:[0,xe,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xe],navy:[0,0,128],white:[xe,xe,xe],olive:[128,128,0],yellow:[xe,xe,0],orange:[xe,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xe,0,0],pink:[xe,192,203],cyan:[0,xe,xe],transparent:[xe,xe,xe,0]},_h=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*xe+.5|0},tE=function(e,t,r){var s=e?_r(e)?[e>>16,e>>8&xe,e&xe]:0:zo.black,i,o,a,l,u,h,d,m,g,w;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),zo[e])s=zo[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+i+i+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&xe,s&xe,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&xe,e&xe]}else if(e.substr(0,3)==="hsl"){if(s=w=e.match(kd),!t)l=+s[0]%360/360,u=+s[1]/100,h=+s[2]/100,o=h<=.5?h*(u+1):h+u-h*u,i=h*2-o,s.length>3&&(s[3]*=1),s[0]=_h(l+1/3,i,o),s[1]=_h(l,i,o),s[2]=_h(l-1/3,i,o);else if(~e.indexOf("="))return s=e.match(kx),r&&s.length<4&&(s[3]=1),s}else s=e.match(kd)||zo.transparent;s=s.map(Number)}return t&&!w&&(i=s[0]/xe,o=s[1]/xe,a=s[2]/xe,d=Math.max(i,o,a),m=Math.min(i,o,a),h=(d+m)/2,d===m?l=u=0:(g=d-m,u=h>.5?g/(2-d-m):g/(d+m),l=d===i?(o-a)/g+(o<a?6:0):d===o?(a-i)/g+2:(i-o)/g+4,l*=60),s[0]=~~(l+.5),s[1]=~~(u*100+.5),s[2]=~~(h*100+.5)),r&&s.length<4&&(s[3]=1),s},nE=function(e){var t=[],r=[],s=-1;return e.split(Qr).forEach(function(i){var o=i.match(xi)||[];t.push.apply(t,o),r.push(s+=o.length+1)}),t.c=r,t},q_=function(e,t,r){var s="",i=(e+s).match(Qr),o=t?"hsla(":"rgba(",a=0,l,u,h,d;if(!i)return e;if(i=i.map(function(m){return(m=tE(m,t,1))&&o+(t?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),r&&(h=nE(e),l=r.c,l.join(s)!==h.c.join(s)))for(u=e.replace(Qr,"1").split(xi),d=u.length-1;a<d;a++)s+=u[a]+(~l.indexOf(a)?i.shift()||o+"0,0,0,0)":(h.length?h:i.length?i:r).shift());if(!u)for(u=e.split(Qr),d=u.length-1;a<d;a++)s+=u[a]+i[a];return s+u[d]},Qr=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in zo)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),AF=/hsl[a]?\(/,rE=function(e){var t=e.join(" "),r;if(Qr.lastIndex=0,Qr.test(t))return r=AF.test(t),e[1]=q_(e[1],r),e[0]=q_(e[0],r,nE(e[1])),!0},Ea,Qt=function(){var n=Date.now,e=500,t=33,r=n(),s=r,i=1e3/240,o=i,a=[],l,u,h,d,m,g,w=function _(v){var x=n()-s,A=v===!0,S,D,R,V;if((x>e||x<0)&&(r+=x-t),s+=x,R=s-r,S=R-o,(S>0||A)&&(V=++d.frame,m=R-d.time*1e3,d.time=R=R/1e3,o+=S+(S>=i?4:i-S),D=1),A||(l=u(_)),D)for(g=0;g<a.length;g++)a[g](R,m,V,v)};return d={time:0,frame:0,tick:function(){w(!0)},deltaRatio:function(v){return m/(1e3/(v||60))},wake:function(){Ox&&(!Nd&&Fp()&&(kn=Nd=window,Up=kn.document||{},en.gsap=Ht,(kn.gsapVersions||(kn.gsapVersions=[])).push(Ht.version),Vx(Sc||kn.GreenSockGlobals||!kn.gsap&&kn||{}),Zx.forEach(eE)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&d.sleep(),u=h||function(v){return setTimeout(v,o-d.time*1e3+1|0)},Ea=1,w(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(l),Ea=0,u=Ta},lagSmoothing:function(v,x){e=v||1/0,t=Math.min(x||33,e)},fps:function(v){i=1e3/(v||240),o=d.time*1e3+i},add:function(v,x,A){var S=x?function(D,R,V,E){v(D,R,V,E),d.remove(S)}:v;return d.remove(v),a[A?"unshift":"push"](S),so(),S},remove:function(v,x){~(x=a.indexOf(v))&&a.splice(x,1)&&g>=x&&g--},_listeners:a},d}(),so=function(){return!Ea&&Qt.wake()},pe={},SF=/^[\d.\-M][\d.\-,\s]/,PF=/["']/g,RF=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),s=r[0],i=1,o=r.length,a,l,u;i<o;i++)l=r[i],a=i!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),t[s]=isNaN(u)?u.replace(PF,"").trim():+u,s=l.substr(a+1).trim();return t},CF=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),s=e.indexOf("(",t);return e.substring(t,~s&&s<r?e.indexOf(")",r+1):r)},kF=function(e){var t=(e+"").split("("),r=pe[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[RF(t[1])]:CF(e).split(",").map(Ux)):pe._CE&&SF.test(e)?pe._CE("",e):r},sE=function(e){return function(t){return 1-e(1-t)}},iE=function n(e,t){for(var r=e._first,s;r;)r instanceof Ot?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(s=r._ease,r._ease=r._yEase,r._yEase=s,r._yoyo=t)),r=r._next},Gs=function(e,t){return e&&(Ue(e)?e:pe[e]||kF(e))||t},ii=function(e,t,r,s){r===void 0&&(r=function(l){return 1-t(1-l)}),s===void 0&&(s=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var i={easeIn:t,easeOut:r,easeInOut:s},o;return $t(e,function(a){pe[a]=en[a]=i,pe[o=a.toLowerCase()]=r;for(var l in i)pe[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=pe[a+"."+l]=i[l]}),i},oE=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},vh=function n(e,t,r){var s=t>=1?t:1,i=(r||(e?.3:.45))/(t<1?t:1),o=i/Cd*(Math.asin(1/s)||0),a=function(h){return h===1?1:s*Math.pow(2,-10*h)*iF((h-o)*i)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:oE(a);return i=Cd/i,l.config=function(u,h){return n(e,u,h)},l},wh=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},s=e==="out"?r:e==="in"?function(i){return 1-r(1-i)}:oE(r);return s.config=function(i){return n(e,i)},s};$t("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;ii(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});pe.Linear.easeNone=pe.none=pe.Linear.easeIn;ii("Elastic",vh("in"),vh("out"),vh());(function(n,e){var t=1/e,r=2*t,s=2.5*t,i=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<s?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};ii("Bounce",function(o){return 1-i(1-o)},i)})(7.5625,2.75);ii("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});ii("Circ",function(n){return-(Rx(1-n*n)-1)});ii("Sine",function(n){return n===1?1:-sF(n*nF)+1});ii("Back",wh("in"),wh("out"),wh());pe.SteppedEase=pe.steps=en.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,s=e+(t?0:1),i=t?1:0,o=1-Ee;return function(a){return((s*Qa(0,o,a)|0)+i)*r}}};eo.ease=pe["quad.out"];$t("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return $p+=n+","+n+"Params,"});var aE=function(e,t){this.id=rF++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:jx,this.set=t?t.getSetter:Qp},Ia=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,ro(this,+t.duration,1,1),this.data=t.data,Ce&&(this._ctx=Ce,Ce.data.push(this)),Ea||Qt.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,ro(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,s){if(so(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(vu(this,r),!i._dp||i.parent||$x(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Vn(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Ee||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),Fx(this,r,s)),this},e.time=function(r,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+B_(this))%(this._dur+this._rDelay)||(r?this._dur:0),s):this._time},e.totalProgress=function(r,s){return arguments.length?this.totalTime(this.totalDuration()*r,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+B_(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,s){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*i,s):this._repeat?no(this._tTime,i)+1:1},e.timeScale=function(r,s){if(!arguments.length)return this._rts===-Ee?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?Cc(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Ee?0:this._rts,this.totalTime(Qa(-Math.abs(this._delay),this.totalDuration(),i),s!==!1),_u(this),dF(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(so(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ee&&(this._tTime-=Ee)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Vn(s,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(zt(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var s=this.parent||this._dp;return s?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Cc(s.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=lF);var s=gt;return gt=r,Gp(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),gt=s,this},e.globalTime=function(r){for(var s=this,i=arguments.length?r:s.rawTime();s;)i=s._start+i/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(r):i},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,z_(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var s=this._time;return this._rDelay=r,z_(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,s){return this.totalTime(ln(this,r),zt(s))},e.restart=function(r,s){return this.play().totalTime(r?-this._delay:0,zt(s)),this._dur||(this._zTime=-Ee),this},e.play=function(r,s){return r!=null&&this.seek(r,s),this.reversed(!1).paused(!1)},e.reverse=function(r,s){return r!=null&&this.seek(r||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(r,s){return r!=null&&this.seek(r,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Ee:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ee,this},e.isActive=function(){var r=this.parent||this._dp,s=this._start,i;return!!(!r||this._ts&&this._initted&&r.isActive()&&(i=r.rawTime(!0))>=s&&i<this.endTime(!0)-Ee)},e.eventCallback=function(r,s,i){var o=this.vars;return arguments.length>1?(s?(o[r]=s,i&&(o[r+"Params"]=i),r==="onUpdate"&&(this._onUpdate=s)):delete o[r],this):o[r]},e.then=function(r){var s=this;return new Promise(function(i){var o=Ue(r)?r:Bx,a=function(){var u=s.then;s.then=null,Ue(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=u),i(o),s.then=u};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?a():s._prom=a})},e.kill=function(){Bo(this)},n}();tn(Ia.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ee,_prom:0,_ps:!1,_rts:1});var Ot=function(n){Px(e,n);function e(r,s){var i;return r===void 0&&(r={}),i=n.call(this,r)||this,i.labels={},i.smoothChildTiming=!!r.smoothChildTiming,i.autoRemoveChildren=!!r.autoRemoveChildren,i._sort=zt(r.sortChildren),Ne&&Vn(r.parent||Ne,nr(i),s),r.reversed&&i.reverse(),r.paused&&i.paused(!0),r.scrollTrigger&&qx(nr(i),r.scrollTrigger),i}var t=e.prototype;return t.to=function(s,i,o){return ta(0,arguments,this),this},t.from=function(s,i,o){return ta(1,arguments,this),this},t.fromTo=function(s,i,o,a){return ta(2,arguments,this),this},t.set=function(s,i,o){return i.duration=0,i.parent=this,ea(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new Je(s,i,ln(this,o),1),this},t.call=function(s,i,o){return Vn(this,Je.delayedCall(0,s,i),o)},t.staggerTo=function(s,i,o,a,l,u,h){return o.duration=i,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=h,o.parent=this,new Je(s,o,ln(this,l)),this},t.staggerFrom=function(s,i,o,a,l,u,h){return o.runBackwards=1,ea(o).immediateRender=zt(o.immediateRender),this.staggerTo(s,i,o,a,l,u,h)},t.staggerFromTo=function(s,i,o,a,l,u,h,d){return a.startAt=o,ea(a).immediateRender=zt(a.immediateRender),this.staggerTo(s,i,a,l,u,h,d)},t.render=function(s,i,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,h=s<=0?0:Ze(s),d=this._zTime<0!=s<0&&(this._initted||!u),m,g,w,_,v,x,A,S,D,R,V,E;if(this!==Ne&&h>l&&s>=0&&(h=l),h!==this._tTime||o||d){if(a!==this._time&&u&&(h+=this._time-a,s+=this._time-a),m=h,D=this._start,S=this._ts,x=!S,d&&(u||(a=this._zTime),(s||!i)&&(this._zTime=s)),this._repeat){if(V=this._yoyo,v=u+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(v*100+s,i,o);if(m=Ze(h%v),h===l?(_=this._repeat,m=u):(R=Ze(h/v),_=~~R,_&&_===R&&(m=u,_--),m>u&&(m=u)),R=no(this._tTime,v),!a&&this._tTime&&R!==_&&this._tTime-R*v-this._dur<=0&&(R=_),V&&_&1&&(m=u-m,E=1),_!==R&&!this._lock){var b=V&&R&1,T=b===(V&&_&1);if(_<R&&(b=!b),a=b?0:h%u?u:h,this._lock=1,this.render(a||(E?0:Ze(_*v)),i,!u)._lock=0,this._tTime=h,!i&&this.parent&&Jt(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),a&&a!==this._time||x!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,T&&(this._lock=2,a=b?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!x)return this;iE(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(A=gF(this,Ze(a),Ze(m)),A&&(h-=m-(m=A._start))),this._tTime=h,this._time=m,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,a=0),!a&&h&&!i&&!R&&(Jt(this,"onStart"),this._tTime!==h))return this;if(m>=a&&s>=0)for(g=this._first;g;){if(w=g._next,(g._act||m>=g._start)&&g._ts&&A!==g){if(g.parent!==this)return this.render(s,i,o);if(g.render(g._ts>0?(m-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(m-g._start)*g._ts,i,o),m!==this._time||!this._ts&&!x){A=0,w&&(h+=this._zTime=-Ee);break}}g=w}else{g=this._last;for(var C=s<0?s:m;g;){if(w=g._prev,(g._act||C<=g._end)&&g._ts&&A!==g){if(g.parent!==this)return this.render(s,i,o);if(g.render(g._ts>0?(C-g._start)*g._ts:(g._dirty?g.totalDuration():g._tDur)+(C-g._start)*g._ts,i,o||gt&&Gp(g)),m!==this._time||!this._ts&&!x){A=0,w&&(h+=this._zTime=C?-Ee:Ee);break}}g=w}}if(A&&!i&&(this.pause(),A.render(m>=a?0:-Ee)._zTime=m>=a?1:-1,this._ts))return this._start=D,_u(this),this.render(s,i,o);this._onUpdate&&!i&&Jt(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(D===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((s||!u)&&(h===l&&this._ts>0||!h&&this._ts<0)&&ns(this,1),!i&&!(s<0&&!a)&&(h||a||!l)&&(Jt(this,h===l&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(s,i){var o=this;if(_r(i)||(i=ln(this,i,s)),!(s instanceof Ia)){if(Pt(s))return s.forEach(function(a){return o.add(a,i)}),this;if(at(s))return this.addLabel(s,i);if(Ue(s))s=Je.delayedCall(0,s);else return this}return this!==s?Vn(this,s,i):this},t.getChildren=function(s,i,o,a){s===void 0&&(s=!0),i===void 0&&(i=!0),o===void 0&&(o=!0),a===void 0&&(a=-hn);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof Je?i&&l.push(u):(o&&l.push(u),s&&l.push.apply(l,u.getChildren(!0,i,o)))),u=u._next;return l},t.getById=function(s){for(var i=this.getChildren(1,1,1),o=i.length;o--;)if(i[o].vars.id===s)return i[o]},t.remove=function(s){return at(s)?this.removeLabel(s):Ue(s)?this.killTweensOf(s):(s.parent===this&&yu(this,s),s===this._recent&&(this._recent=this._last),qs(this))},t.totalTime=function(s,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ze(Qt.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),n.prototype.totalTime.call(this,s,i),this._forcing=0,this):this._tTime},t.addLabel=function(s,i){return this.labels[s]=ln(this,i),this},t.removeLabel=function(s){return delete this.labels[s],this},t.addPause=function(s,i,o){var a=Je.delayedCall(0,i||Ta,o);return a.data="isPause",this._hasPause=1,Vn(this,a,ln(this,s))},t.removePause=function(s){var i=this._first;for(s=ln(this,s);i;)i._start===s&&i.data==="isPause"&&ns(i),i=i._next},t.killTweensOf=function(s,i,o){for(var a=this.getTweensOf(s,o),l=a.length;l--;)zr!==a[l]&&a[l].kill(s,i);return this},t.getTweensOf=function(s,i){for(var o=[],a=dn(s),l=this._first,u=_r(i),h;l;)l instanceof Je?cF(l._targets,a)&&(u?(!zr||l._initted&&l._ts)&&l.globalTime(0)<=i&&l.globalTime(l.totalDuration())>i:!i||l.isActive())&&o.push(l):(h=l.getTweensOf(a,i)).length&&o.push.apply(o,h),l=l._next;return o},t.tweenTo=function(s,i){i=i||{};var o=this,a=ln(o,s),l=i,u=l.startAt,h=l.onStart,d=l.onStartParams,m=l.immediateRender,g,w=Je.to(o,tn({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:i.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||Ee,onStart:function(){if(o.pause(),!g){var v=i.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());w._dur!==v&&ro(w,v,0,1).render(w._time,!0,!0),g=1}h&&h.apply(w,d||[])}},i));return m?w.render(0):w},t.tweenFromTo=function(s,i,o){return this.tweenTo(i,tn({startAt:{time:ln(this,s)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(s){return s===void 0&&(s=this._time),$_(this,ln(this,s))},t.previousLabel=function(s){return s===void 0&&(s=this._time),$_(this,ln(this,s),1)},t.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Ee)},t.shiftChildren=function(s,i,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,u;a;)a._start>=o&&(a._start+=s,a._end+=s),a=a._next;if(i)for(u in l)l[u]>=o&&(l[u]+=s);return qs(this)},t.invalidate=function(s){var i=this._first;for(this._lock=0;i;)i.invalidate(s),i=i._next;return n.prototype.invalidate.call(this,s)},t.clear=function(s){s===void 0&&(s=!0);for(var i=this._first,o;i;)o=i._next,this.remove(i),i=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),qs(this)},t.totalDuration=function(s){var i=0,o=this,a=o._last,l=hn,u,h,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(d=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Vn(o,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(i-=h,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),l=0),a._end>i&&a._ts&&(i=a._end),a=u;ro(o,o===Ne&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(Ne._ts&&(Fx(Ne,Cc(s,Ne)),Lx=Qt.frame),Qt.frame>=F_){F_+=Zt.autoSleep||120;var i=Ne._first;if((!i||!i._ts)&&Zt.autoSleep&&Qt._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Qt.sleep()}}},e}(Ia);tn(Ot.prototype,{_lock:0,_hasPause:0,_forcing:0});var NF=function(e,t,r,s,i,o,a){var l=new qt(this._pt,e,t,0,1,fE,null,i),u=0,h=0,d,m,g,w,_,v,x,A;for(l.b=r,l.e=s,r+="",s+="",(x=~s.indexOf("random("))&&(s=xa(s)),o&&(A=[r,s],o(A,e,t),r=A[0],s=A[1]),m=r.match(gh)||[];d=gh.exec(s);)w=d[0],_=s.substring(u,d.index),g?g=(g+1)%5:_.substr(-5)==="rgba("&&(g=1),w!==m[h++]&&(v=parseFloat(m[h-1])||0,l._pt={_next:l._pt,p:_||h===1?_:",",s:v,c:w.charAt(1)==="="?Ni(v,w)-v:parseFloat(w)-v,m:g&&g<4?Math.round:0},u=gh.lastIndex);return l.c=u<s.length?s.substring(u,s.length):"",l.fp=a,(Nx.test(s)||x)&&(l.e=0),this._pt=l,l},Hp=function(e,t,r,s,i,o,a,l,u,h){Ue(s)&&(s=s(i||0,e,o));var d=e[t],m=r!=="get"?r:Ue(d)?u?e[t.indexOf("set")||!Ue(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():d,g=Ue(d)?u?LF:hE:Kp,w;if(at(s)&&(~s.indexOf("random(")&&(s=xa(s)),s.charAt(1)==="="&&(w=Ni(m,s)+(At(m)||0),(w||w===0)&&(s=w))),!h||m!==s||Fd)return!isNaN(m*s)&&s!==""?(w=new qt(this._pt,e,t,+m||0,s-(m||0),typeof d=="boolean"?FF:dE,0,g),u&&(w.fp=u),a&&w.modifier(a,this,e),this._pt=w):(!d&&!(t in e)&&Bp(t,s),NF.call(this,e,t,m,s,g,l||Zt.stringFilter,u))},DF=function(e,t,r,s,i){if(Ue(e)&&(e=na(e,i,t,r,s)),!Hn(e)||e.style&&e.nodeType||Pt(e)||Cx(e))return at(e)?na(e,i,t,r,s):e;var o={},a;for(a in e)o[a]=na(e[a],i,t,r,s);return o},lE=function(e,t,r,s,i,o){var a,l,u,h;if(Kt[e]&&(a=new Kt[e]).init(i,a.rawVars?t[e]:DF(t[e],s,i,o,r),r,s,o)!==!1&&(r._pt=l=new qt(r._pt,i,e,0,1,a.render,a,0,a.priority),r!==Ei))for(u=r._ptLookup[r._targets.indexOf(i)],h=a._props.length;h--;)u[a._props[h]]=l;return a},zr,Fd,Wp=function n(e,t,r){var s=e.vars,i=s.ease,o=s.startAt,a=s.immediateRender,l=s.lazy,u=s.onUpdate,h=s.runBackwards,d=s.yoyoEase,m=s.keyframes,g=s.autoRevert,w=e._dur,_=e._startAt,v=e._targets,x=e.parent,A=x&&x.data==="nested"?x.vars.targets:v,S=e._overwrite==="auto"&&!Lp,D=e.timeline,R,V,E,b,T,C,k,N,P,z,Q,W,G;if(D&&(!m||!i)&&(i="none"),e._ease=Gs(i,eo.ease),e._yEase=d?sE(Gs(d===!0?i:d,eo.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!D&&!!s.runBackwards,!D||m&&!s.stagger){if(N=v[0]?$s(v[0]).harness:0,W=N&&s[N.prop],R=Rc(s,zp),_&&(_._zTime<0&&_.progress(1),t<0&&h&&a&&!g?_.render(-1,!0):_.revert(h&&w?Zl:aF),_._lazy=0),o){if(ns(e._startAt=Je.set(v,tn({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!_&&zt(l),startAt:null,delay:0,onUpdate:u&&function(){return Jt(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(gt||!a&&!g)&&e._startAt.revert(Zl),a&&w&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(h&&w&&!_){if(t&&(a=!1),E=tn({overwrite:!1,data:"isFromStart",lazy:a&&!_&&zt(l),immediateRender:a,stagger:0,parent:x},R),W&&(E[N.prop]=W),ns(e._startAt=Je.set(v,E)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(gt?e._startAt.revert(Zl):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,Ee,Ee);else if(!t)return}for(e._pt=e._ptCache=0,l=w&&zt(l)||l&&!w,V=0;V<v.length;V++){if(T=v[V],k=T._gsap||qp(v)[V]._gsap,e._ptLookup[V]=z={},Dd[k.id]&&Kr.length&&Pc(),Q=A===v?V:A.indexOf(T),N&&(P=new N).init(T,W||R,e,Q,A)!==!1&&(e._pt=b=new qt(e._pt,T,P.name,0,1,P.render,P,0,P.priority),P._props.forEach(function(Y){z[Y]=b}),P.priority&&(C=1)),!N||W)for(E in R)Kt[E]&&(P=lE(E,R,e,Q,T,A))?P.priority&&(C=1):z[E]=b=Hp.call(e,T,E,"get",R[E],Q,A,0,s.stringFilter);e._op&&e._op[V]&&e.kill(T,e._op[V]),S&&e._pt&&(zr=e,Ne.killTweensOf(T,z,e.globalTime(t)),G=!e.parent,zr=0),e._pt&&l&&(Dd[k.id]=1)}C&&pE(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!G,m&&t<=0&&D.render(hn,!0,!0)},OF=function(e,t,r,s,i,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],h,d,m,g;if(!u)for(u=e._ptCache[t]=[],m=e._ptLookup,g=e._targets.length;g--;){if(h=m[g][t],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==t&&h.fp!==t;)h=h._next;if(!h)return Fd=1,e.vars[t]="+=0",Wp(e,a),Fd=0,l?ba(t+" not eligible for reset"):1;u.push(h)}for(g=u.length;g--;)d=u[g],h=d._pt||d,h.s=(s||s===0)&&!i?s:h.s+(s||0)+o*h.c,h.c=r-h.s,d.e&&(d.e=Ke(r)+At(d.e)),d.b&&(d.b=h.s+At(d.b))},VF=function(e,t){var r=e[0]?$s(e[0]).harness:0,s=r&&r.aliases,i,o,a,l;if(!s)return t;i=to({},t);for(o in s)if(o in i)for(l=s[o].split(","),a=l.length;a--;)i[l[a]]=i[o];return i},MF=function(e,t,r,s){var i=t.ease||s||"power1.inOut",o,a;if(Pt(t))a=r[e]||(r[e]=[]),t.forEach(function(l,u){return a.push({t:u/(t.length-1)*100,v:l,e:i})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:i})},na=function(e,t,r,s,i){return Ue(e)?e.call(t,r,s,i):at(e)&&~e.indexOf("random(")?xa(e):e},cE=$p+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",uE={};$t(cE+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return uE[n]=1});var Je=function(n){Px(e,n);function e(r,s,i,o){var a;typeof s=="number"&&(i.duration=s,s=i,i=null),a=n.call(this,o?s:ea(s))||this;var l=a.vars,u=l.duration,h=l.delay,d=l.immediateRender,m=l.stagger,g=l.overwrite,w=l.keyframes,_=l.defaults,v=l.scrollTrigger,x=l.yoyoEase,A=s.parent||Ne,S=(Pt(r)||Cx(r)?_r(r[0]):"length"in s)?[r]:dn(r),D,R,V,E,b,T,C,k;if(a._targets=S.length?qp(S):ba("GSAP target "+r+" not found. https://gsap.com",!Zt.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=g,w||m||Ml(u)||Ml(h)){if(s=a.vars,D=a.timeline=new Ot({data:"nested",defaults:_||{},targets:A&&A.data==="nested"?A.vars.targets:S}),D.kill(),D.parent=D._dp=nr(a),D._start=0,m||Ml(u)||Ml(h)){if(E=S.length,C=m&&Kx(m),Hn(m))for(b in m)~cE.indexOf(b)&&(k||(k={}),k[b]=m[b]);for(R=0;R<E;R++)V=Rc(s,uE),V.stagger=0,x&&(V.yoyoEase=x),k&&to(V,k),T=S[R],V.duration=+na(u,nr(a),R,T,S),V.delay=(+na(h,nr(a),R,T,S)||0)-a._delay,!m&&E===1&&V.delay&&(a._delay=h=V.delay,a._start+=h,V.delay=0),D.to(T,V,C?C(R,T,S):0),D._ease=pe.none;D.duration()?u=h=0:a.timeline=0}else if(w){ea(tn(D.vars.defaults,{ease:"none"})),D._ease=Gs(w.ease||s.ease||"none");var N=0,P,z,Q;if(Pt(w))w.forEach(function(W){return D.to(S,W,">")}),D.duration();else{V={};for(b in w)b==="ease"||b==="easeEach"||MF(b,w[b],V,w.easeEach);for(b in V)for(P=V[b].sort(function(W,G){return W.t-G.t}),N=0,R=0;R<P.length;R++)z=P[R],Q={ease:z.e,duration:(z.t-(R?P[R-1].t:0))/100*u},Q[b]=z.v,D.to(S,Q,N),N+=Q.duration;D.duration()<u&&D.to({},{duration:u-D.duration()})}}u||a.duration(u=D.duration())}else a.timeline=0;return g===!0&&!Lp&&(zr=nr(a),Ne.killTweensOf(S),zr=0),Vn(A,nr(a),i),s.reversed&&a.reverse(),s.paused&&a.paused(!0),(d||!u&&!w&&a._start===Ze(A._time)&&zt(d)&&fF(nr(a))&&A.data!=="nested")&&(a._tTime=-Ee,a.render(Math.max(0,-h)||0)),v&&qx(nr(a),v),a}var t=e.prototype;return t.render=function(s,i,o){var a=this._time,l=this._tDur,u=this._dur,h=s<0,d=s>l-Ee&&!h?l:s<Ee?0:s,m,g,w,_,v,x,A,S,D;if(!u)mF(this,s,i,o);else if(d!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h||this._lazy){if(m=d,S=this.timeline,this._repeat){if(_=u+this._rDelay,this._repeat<-1&&h)return this.totalTime(_*100+s,i,o);if(m=Ze(d%_),d===l?(w=this._repeat,m=u):(v=Ze(d/_),w=~~v,w&&w===v?(m=u,w--):m>u&&(m=u)),x=this._yoyo&&w&1,x&&(D=this._yEase,m=u-m),v=no(this._tTime,_),m===a&&!o&&this._initted&&w===v)return this._tTime=d,this;w!==v&&(S&&this._yEase&&iE(S,x),this.vars.repeatRefresh&&!x&&!this._lock&&m!==_&&this._initted&&(this._lock=o=1,this.render(Ze(_*w),!0).invalidate()._lock=0))}if(!this._initted){if(Gx(this,h?s:m,o,i,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&w!==v))return this;if(u!==this._dur)return this.render(s,i,o)}if(this._tTime=d,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=A=(D||this._ease)(m/u),this._from&&(this.ratio=A=1-A),!a&&d&&!i&&!v&&(Jt(this,"onStart"),this._tTime!==d))return this;for(g=this._pt;g;)g.r(A,g.d),g=g._next;S&&S.render(s<0?s:S._dur*S._ease(m/this._dur),i,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!i&&(h&&Od(this,s,i,o),Jt(this,"onUpdate")),this._repeat&&w!==v&&this.vars.onRepeat&&!i&&this.parent&&Jt(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(h&&!this._onUpdate&&Od(this,s,!0,!0),(s||!u)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&ns(this,1),!i&&!(h&&!a)&&(d||a||x)&&(Jt(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),n.prototype.invalidate.call(this,s)},t.resetTo=function(s,i,o,a,l){Ea||Qt.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||Wp(this,u),h=this._ease(u/this._dur),OF(this,s,i,o,a,h,u,l)?this.resetTo(s,i,o,a,1):(vu(this,0),this.parent||zx(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(s,i){if(i===void 0&&(i="all"),!s&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?Bo(this):this.scrollTrigger&&this.scrollTrigger.kill(!!gt),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,i,zr&&zr.vars.overwrite!==!0)._first||Bo(this),this.parent&&o!==this.timeline.totalDuration()&&ro(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=s?dn(s):a,u=this._ptLookup,h=this._pt,d,m,g,w,_,v,x;if((!i||i==="all")&&hF(a,l))return i==="all"&&(this._pt=0),Bo(this);for(d=this._op=this._op||[],i!=="all"&&(at(i)&&(_={},$t(i,function(A){return _[A]=1}),i=_),i=VF(a,i)),x=a.length;x--;)if(~l.indexOf(a[x])){m=u[x],i==="all"?(d[x]=i,w=m,g={}):(g=d[x]=d[x]||{},w=i);for(_ in w)v=m&&m[_],v&&((!("kill"in v.d)||v.d.kill(_)===!0)&&yu(this,v,"_pt"),delete m[_]),g!=="all"&&(g[_]=1)}return this._initted&&!this._pt&&h&&Bo(this),this},e.to=function(s,i){return new e(s,i,arguments[2])},e.from=function(s,i){return ta(1,arguments)},e.delayedCall=function(s,i,o,a){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:i,onReverseComplete:i,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(s,i,o){return ta(2,arguments)},e.set=function(s,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(s,i)},e.killTweensOf=function(s,i,o){return Ne.killTweensOf(s,i,o)},e}(Ia);tn(Je.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});$t("staggerTo,staggerFrom,staggerFromTo",function(n){Je[n]=function(){var e=new Ot,t=Md.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var Kp=function(e,t,r){return e[t]=r},hE=function(e,t,r){return e[t](r)},LF=function(e,t,r,s){return e[t](s.fp,r)},jF=function(e,t,r){return e.setAttribute(t,r)},Qp=function(e,t){return Ue(e[t])?hE:jp(e[t])&&e.setAttribute?jF:Kp},dE=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},FF=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},fE=function(e,t){var r=t._pt,s="";if(!e&&t.b)s=t.b;else if(e===1&&t.e)s=t.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+s,r=r._next;s+=t.c}t.set(t.t,t.p,s,t)},Yp=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},UF=function(e,t,r,s){for(var i=this._pt,o;i;)o=i._next,i.p===s&&i.modifier(e,t,r),i=o},BF=function(e){for(var t=this._pt,r,s;t;)s=t._next,t.p===e&&!t.op||t.op===e?yu(this,t,"_pt"):t.dep||(r=1),t=s;return!r},zF=function(e,t,r,s){s.mSet(e,t,s.m.call(s.tween,r,s.mt),s)},pE=function(e){for(var t=e._pt,r,s,i,o;t;){for(r=t._next,s=i;s&&s.pr>t.pr;)s=s._next;(t._prev=s?s._prev:o)?t._prev._next=t:i=t,(t._next=s)?s._prev=t:o=t,t=r}e._pt=i},qt=function(){function n(t,r,s,i,o,a,l,u,h){this.t=r,this.s=i,this.c=o,this.p=s,this.r=a||dE,this.d=l||this,this.set=u||Kp,this.pr=h||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,s,i){this.mSet=this.mSet||this.set,this.set=zF,this.m=r,this.mt=i,this.tween=s},n}();$t($p+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return zp[n]=1});en.TweenMax=en.TweenLite=Je;en.TimelineLite=en.TimelineMax=Ot;Ne=new Ot({sortChildren:!1,defaults:eo,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Zt.stringFilter=rE;var Hs=[],tc={},$F=[],G_=0,qF=0,bh=function(e){return(tc[e]||$F).map(function(t){return t()})},Ud=function(){var e=Date.now(),t=[];e-G_>2&&(bh("matchMediaInit"),Hs.forEach(function(r){var s=r.queries,i=r.conditions,o,a,l,u;for(a in s)o=kn.matchMedia(s[a]).matches,o&&(l=1),o!==i[a]&&(i[a]=o,u=1);u&&(r.revert(),l&&t.push(r))}),bh("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(s){return r.add(null,s)})}),G_=e,bh("matchMedia"))},mE=function(){function n(t,r){this.selector=r&&Ld(r),this.data=[],this._r=[],this.isReverted=!1,this.id=qF++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,s,i){Ue(r)&&(i=s,s=r,r=Ue);var o=this,a=function(){var u=Ce,h=o.selector,d;return u&&u!==o&&u.data.push(o),i&&(o.selector=Ld(i)),Ce=o,d=s.apply(o,arguments),Ue(d)&&o._r.push(d),Ce=u,o.selector=h,o.isReverted=!1,d};return o.last=a,r===Ue?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var s=Ce;Ce=null,r(this),Ce=s},e.getTweens=function(){var r=[];return this.data.forEach(function(s){return s instanceof n?r.push.apply(r,s.getTweens()):s instanceof Je&&!(s.parent&&s.parent.data==="nested")&&r.push(s)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,s){var i=this;if(r?function(){for(var a=i.getTweens(),l=i.data.length,u;l--;)u=i.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(h){return a.splice(a.indexOf(h),1)}));for(a.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,d){return d.g-h.g||-1/0}).forEach(function(h){return h.t.revert(r)}),l=i.data.length;l--;)u=i.data[l],u instanceof Ot?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Je)&&u.revert&&u.revert(r);i._r.forEach(function(h){return h(r,i)}),i.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),s)for(var o=Hs.length;o--;)Hs[o].id===this.id&&Hs.splice(o,1)},e.revert=function(r){this.kill(r||{})},n}(),GF=function(){function n(t){this.contexts=[],this.scope=t,Ce&&Ce.data.push(this)}var e=n.prototype;return e.add=function(r,s,i){Hn(r)||(r={matches:r});var o=new mE(0,i||this.scope),a=o.conditions={},l,u,h;Ce&&!o.selector&&(o.selector=Ce.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=r;for(u in r)u==="all"?h=1:(l=kn.matchMedia(r[u]),l&&(Hs.indexOf(o)<0&&Hs.push(o),(a[u]=l.matches)&&(h=1),l.addListener?l.addListener(Ud):l.addEventListener("change",Ud)));return h&&s(o,function(d){return o.add(null,d)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(s){return s.kill(r,!0)})},n}(),kc={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(s){return eE(s)})},timeline:function(e){return new Ot(e)},getTweensOf:function(e,t){return Ne.getTweensOf(e,t)},getProperty:function(e,t,r,s){at(e)&&(e=dn(e)[0]);var i=$s(e||{}).get,o=r?Bx:Ux;return r==="native"&&(r=""),e&&(t?o((Kt[t]&&Kt[t].get||i)(e,t,r,s)):function(a,l,u){return o((Kt[a]&&Kt[a].get||i)(e,a,l,u))})},quickSetter:function(e,t,r){if(e=dn(e),e.length>1){var s=e.map(function(h){return Ht.quickSetter(h,t,r)}),i=s.length;return function(h){for(var d=i;d--;)s[d](h)}}e=e[0]||{};var o=Kt[t],a=$s(e),l=a.harness&&(a.harness.aliases||{})[t]||t,u=o?function(h){var d=new o;Ei._pt=0,d.init(e,r?h+r:h,Ei,0,[e]),d.render(1,d),Ei._pt&&Yp(1,Ei)}:a.set(e,l);return o?u:function(h){return u(e,l,r?h+r:h,a,1)}},quickTo:function(e,t,r){var s,i=Ht.to(e,tn((s={},s[t]="+=0.1",s.paused=!0,s.stagger=0,s),r||{})),o=function(l,u,h){return i.resetTo(t,l,u,h)};return o.tween=i,o},isTweening:function(e){return Ne.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Gs(e.ease,eo.ease)),U_(eo,e||{})},config:function(e){return U_(Zt,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,s=e.plugins,i=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(a){return a&&!Kt[a]&&!en[a]&&ba(t+" effect requires "+a+" plugin.")}),yh[t]=function(a,l,u){return r(dn(a),tn(l||{},i),u)},o&&(Ot.prototype[t]=function(a,l,u){return this.add(yh[t](a,Hn(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){pe[e]=Gs(t)},parseEase:function(e,t){return arguments.length?Gs(e,t):pe},getById:function(e){return Ne.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Ot(e),s,i;for(r.smoothChildTiming=zt(e.smoothChildTiming),Ne.remove(r),r._dp=0,r._time=r._tTime=Ne._time,s=Ne._first;s;)i=s._next,(t||!(!s._dur&&s instanceof Je&&s.vars.onComplete===s._targets[0]))&&Vn(r,s,s._start-s._delay),s=i;return Vn(Ne,r,0),r},context:function(e,t){return e?new mE(e,t):Ce},matchMedia:function(e){return new GF(e)},matchMediaRefresh:function(){return Hs.forEach(function(e){var t=e.conditions,r,s;for(s in t)t[s]&&(t[s]=!1,r=1);r&&e.revert()})||Ud()},addEventListener:function(e,t){var r=tc[e]||(tc[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=tc[e],s=r&&r.indexOf(t);s>=0&&r.splice(s,1)},utils:{wrap:xF,wrapYoyo:EF,distribute:Kx,random:Yx,snap:Qx,normalize:TF,getUnit:At,clamp:_F,splitColor:tE,toArray:dn,selector:Ld,mapRange:Jx,pipe:wF,unitize:bF,interpolate:IF,shuffle:Wx},install:Vx,effects:yh,ticker:Qt,updateRoot:Ot.updateRoot,plugins:Kt,globalTimeline:Ne,core:{PropTween:qt,globals:Mx,Tween:Je,Timeline:Ot,Animation:Ia,getCache:$s,_removeLinkedListItem:yu,reverting:function(){return gt},context:function(e){return e&&Ce&&(Ce.data.push(e),e._ctx=Ce),Ce},suppressOverwrites:function(e){return Lp=e}}};$t("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return kc[n]=Je[n]});Qt.add(Ot.updateRoot);Ei=kc.to({},{duration:0});var HF=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},WF=function(e,t){var r=e._targets,s,i,o;for(s in t)for(i=r.length;i--;)o=e._ptLookup[i][s],o&&(o=o.d)&&(o._pt&&(o=HF(o,s)),o&&o.modifier&&o.modifier(t[s],e,r[i],s))},Th=function(e,t){return{name:e,headless:1,rawVars:1,init:function(s,i,o){o._onInit=function(a){var l,u;if(at(i)&&(l={},$t(i,function(h){return l[h]=1}),i=l),t){l={};for(u in i)l[u]=t(i[u]);i=l}WF(a,i)}}}},Ht=kc.registerPlugin({name:"attr",init:function(e,t,r,s,i){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],s,i,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)gt?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},Th("roundProps",jd),Th("modifiers"),Th("snap",Qx))||kc;Je.version=Ot.version=Ht.version="3.13.0";Ox=1;Fp()&&so();pe.Power0;pe.Power1;pe.Power2;pe.Power3;pe.Power4;pe.Linear;pe.Quad;pe.Cubic;pe.Quart;pe.Quint;pe.Strong;pe.Elastic;pe.Back;pe.SteppedEase;pe.Bounce;pe.Sine;pe.Expo;pe.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var H_,$r,Di,Xp,ks,W_,Jp,KF=function(){return typeof window<"u"},vr={},As=180/Math.PI,Oi=Math.PI/180,pi=Math.atan2,K_=1e8,Zp=/([A-Z])/g,QF=/(left|right|width|margin|padding|x)/i,YF=/[\s,\(]\S/,Ln={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Bd=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},XF=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},JF=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},ZF=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},gE=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},yE=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},eU=function(e,t,r){return e.style[t]=r},tU=function(e,t,r){return e.style.setProperty(t,r)},nU=function(e,t,r){return e._gsap[t]=r},rU=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},sU=function(e,t,r,s,i){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(i,o)},iU=function(e,t,r,s,i){var o=e._gsap;o[t]=r,o.renderTransform(i,o)},Oe="transform",Gt=Oe+"Origin",oU=function n(e,t){var r=this,s=this.target,i=s.style,o=s._gsap;if(e in vr&&i){if(this.tfm=this.tfm||{},e!=="transform")e=Ln[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=rr(s,a)}):this.tfm[e]=o.x?o[e]:rr(s,e),e===Gt&&(this.tfm.zOrigin=o.zOrigin);else return Ln.transform.split(",").forEach(function(a){return n.call(r,a,t)});if(this.props.indexOf(Oe)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Gt,t,"")),e=Oe}(i||t)&&this.props.push(e,t,i[e])},_E=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},aU=function(){var e=this.props,t=this.target,r=t.style,s=t._gsap,i,o;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?t[e[i]](e[i+2]):t[e[i]]=e[i+2]:e[i+2]?r[e[i]]=e[i+2]:r.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(Zp,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),i=Jp(),(!i||!i.isStart)&&!r[Oe]&&(_E(r),s.zOrigin&&r[Gt]&&(r[Gt]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},vE=function(e,t){var r={target:e,props:[],revert:aU,save:oU};return e._gsap||Ht.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(s){return r.save(s)}),r},wE,zd=function(e,t){var r=$r.createElementNS?$r.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):$r.createElement(e);return r&&r.style?r:$r.createElement(e)},fn=function n(e,t,r){var s=getComputedStyle(e);return s[t]||s.getPropertyValue(t.replace(Zp,"-$1").toLowerCase())||s.getPropertyValue(t)||!r&&n(e,io(t)||t,1)||""},Q_="O,Moz,ms,Ms,Webkit".split(","),io=function(e,t,r){var s=t||ks,i=s.style,o=5;if(e in i&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Q_[o]+e in i););return o<0?null:(o===3?"ms":o>=0?Q_[o]:"")+e},$d=function(){KF()&&window.document&&(H_=window,$r=H_.document,Di=$r.documentElement,ks=zd("div")||{style:{}},zd("div"),Oe=io(Oe),Gt=Oe+"Origin",ks.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",wE=!!io("perspective"),Jp=Ht.core.reverting,Xp=1)},Y_=function(e){var t=e.ownerSVGElement,r=zd("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),i;s.style.display="block",r.appendChild(s),Di.appendChild(r);try{i=s.getBBox()}catch{}return r.removeChild(s),Di.removeChild(r),i},X_=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},bE=function(e){var t,r;try{t=e.getBBox()}catch{t=Y_(e),r=1}return t&&(t.width||t.height)||r||(t=Y_(e)),t&&!t.width&&!t.x&&!t.y?{x:+X_(e,["x","cx","x1"])||0,y:+X_(e,["y","cy","y1"])||0,width:0,height:0}:t},TE=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&bE(e))},Zs=function(e,t){if(t){var r=e.style,s;t in vr&&t!==Gt&&(t=Oe),r.removeProperty?(s=t.substr(0,2),(s==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(s==="--"?t:t.replace(Zp,"-$1").toLowerCase())):r.removeAttribute(t)}},qr=function(e,t,r,s,i,o){var a=new qt(e._pt,t,r,0,1,o?yE:gE);return e._pt=a,a.b=s,a.e=i,e._props.push(r),a},J_={deg:1,rad:1,turn:1},lU={grid:1,flex:1},rs=function n(e,t,r,s){var i=parseFloat(r)||0,o=(r+"").trim().substr((i+"").length)||"px",a=ks.style,l=QF.test(t),u=e.tagName.toLowerCase()==="svg",h=(u?"client":"offset")+(l?"Width":"Height"),d=100,m=s==="px",g=s==="%",w,_,v,x;if(s===o||!i||J_[s]||J_[o])return i;if(o!=="px"&&!m&&(i=n(e,t,r,"px")),x=e.getCTM&&TE(e),(g||o==="%")&&(vr[t]||~t.indexOf("adius")))return w=x?e.getBBox()[l?"width":"height"]:e[h],Ke(g?i/w*d:i/100*w);if(a[l?"width":"height"]=d+(m?o:s),_=s!=="rem"&&~t.indexOf("adius")||s==="em"&&e.appendChild&&!u?e:e.parentNode,x&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===$r||!_.appendChild)&&(_=$r.body),v=_._gsap,v&&g&&v.width&&l&&v.time===Qt.time&&!v.uncache)return Ke(i/v.width*d);if(g&&(t==="height"||t==="width")){var A=e.style[t];e.style[t]=d+s,w=e[h],A?e.style[t]=A:Zs(e,t)}else(g||o==="%")&&!lU[fn(_,"display")]&&(a.position=fn(e,"position")),_===e&&(a.position="static"),_.appendChild(ks),w=ks[h],_.removeChild(ks),a.position="absolute";return l&&g&&(v=$s(_),v.time=Qt.time,v.width=_[h]),Ke(m?w*i/d:w&&i?d/w*i:0)},rr=function(e,t,r,s){var i;return Xp||$d(),t in Ln&&t!=="transform"&&(t=Ln[t],~t.indexOf(",")&&(t=t.split(",")[0])),vr[t]&&t!=="transform"?(i=Sa(e,s),i=t!=="transformOrigin"?i[t]:i.svg?i.origin:Dc(fn(e,Gt))+" "+i.zOrigin+"px"):(i=e.style[t],(!i||i==="auto"||s||~(i+"").indexOf("calc("))&&(i=Nc[t]&&Nc[t](e,t,r)||fn(e,t)||jx(e,t)||(t==="opacity"?1:0))),r&&!~(i+"").trim().indexOf(" ")?rs(e,t,i,r)+r:i},cU=function(e,t,r,s){if(!r||r==="none"){var i=io(t,e,1),o=i&&fn(e,i,1);o&&o!==r?(t=i,r=o):t==="borderColor"&&(r=fn(e,"borderTopColor"))}var a=new qt(this._pt,e.style,t,0,1,fE),l=0,u=0,h,d,m,g,w,_,v,x,A,S,D,R;if(a.b=r,a.e=s,r+="",s+="",s.substring(0,6)==="var(--"&&(s=fn(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(_=e.style[t],e.style[t]=s,s=fn(e,t)||s,_?e.style[t]=_:Zs(e,t)),h=[r,s],rE(h),r=h[0],s=h[1],m=r.match(xi)||[],R=s.match(xi)||[],R.length){for(;d=xi.exec(s);)v=d[0],A=s.substring(l,d.index),w?w=(w+1)%5:(A.substr(-5)==="rgba("||A.substr(-5)==="hsla(")&&(w=1),v!==(_=m[u++]||"")&&(g=parseFloat(_)||0,D=_.substr((g+"").length),v.charAt(1)==="="&&(v=Ni(g,v)+D),x=parseFloat(v),S=v.substr((x+"").length),l=xi.lastIndex-S.length,S||(S=S||Zt.units[t]||D,l===s.length&&(s+=S,a.e+=S)),D!==S&&(g=rs(e,t,_,S)||0),a._pt={_next:a._pt,p:A||u===1?A:",",s:g,c:x-g,m:w&&w<4||t==="zIndex"?Math.round:0});a.c=l<s.length?s.substring(l,s.length):""}else a.r=t==="display"&&s==="none"?yE:gE;return Nx.test(s)&&(a.e=0),this._pt=a,a},Z_={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},uU=function(e){var t=e.split(" "),r=t[0],s=t[1]||"50%";return(r==="top"||r==="bottom"||s==="left"||s==="right")&&(e=r,r=s,s=e),t[0]=Z_[r]||r,t[1]=Z_[s]||s,t.join(" ")},hU=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,s=r.style,i=t.u,o=r._gsap,a,l,u;if(i==="all"||i===!0)s.cssText="",l=1;else for(i=i.split(","),u=i.length;--u>-1;)a=i[u],vr[a]&&(l=1,a=a==="transformOrigin"?Gt:Oe),Zs(r,a);l&&(Zs(r,Oe),o&&(o.svg&&r.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Sa(r,1),o.uncache=1,_E(s)))}},Nc={clearProps:function(e,t,r,s,i){if(i.data!=="isFromStart"){var o=e._pt=new qt(e._pt,t,r,0,0,hU);return o.u=s,o.pr=-10,o.tween=i,e._props.push(r),1}}},Aa=[1,0,0,1,0,0],xE={},EE=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},ev=function(e){var t=fn(e,Oe);return EE(t)?Aa:t.substr(7).match(kx).map(Ke)},em=function(e,t){var r=e._gsap||$s(e),s=e.style,i=ev(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,i=[l.a,l.b,l.c,l.d,l.e,l.f],i.join(",")==="1,0,0,1,0,0"?Aa:i):(i===Aa&&!e.offsetParent&&e!==Di&&!r.svg&&(l=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,a=e.nextElementSibling,Di.appendChild(e)),i=ev(e),l?s.display=l:Zs(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):Di.removeChild(e))),t&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},qd=function(e,t,r,s,i,o){var a=e._gsap,l=i||em(e,!0),u=a.xOrigin||0,h=a.yOrigin||0,d=a.xOffset||0,m=a.yOffset||0,g=l[0],w=l[1],_=l[2],v=l[3],x=l[4],A=l[5],S=t.split(" "),D=parseFloat(S[0])||0,R=parseFloat(S[1])||0,V,E,b,T;r?l!==Aa&&(E=g*v-w*_)&&(b=D*(v/E)+R*(-_/E)+(_*A-v*x)/E,T=D*(-w/E)+R*(g/E)-(g*A-w*x)/E,D=b,R=T):(V=bE(e),D=V.x+(~S[0].indexOf("%")?D/100*V.width:D),R=V.y+(~(S[1]||S[0]).indexOf("%")?R/100*V.height:R)),s||s!==!1&&a.smooth?(x=D-u,A=R-h,a.xOffset=d+(x*g+A*_)-x,a.yOffset=m+(x*w+A*v)-A):a.xOffset=a.yOffset=0,a.xOrigin=D,a.yOrigin=R,a.smooth=!!s,a.origin=t,a.originIsAbsolute=!!r,e.style[Gt]="0px 0px",o&&(qr(o,a,"xOrigin",u,D),qr(o,a,"yOrigin",h,R),qr(o,a,"xOffset",d,a.xOffset),qr(o,a,"yOffset",m,a.yOffset)),e.setAttribute("data-svg-origin",D+" "+R)},Sa=function(e,t){var r=e._gsap||new aE(e);if("x"in r&&!t&&!r.uncache)return r;var s=e.style,i=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=fn(e,Gt)||"0",h,d,m,g,w,_,v,x,A,S,D,R,V,E,b,T,C,k,N,P,z,Q,W,G,Y,J,le,ee,ge,q,ie,ue;return h=d=m=_=v=x=A=S=D=0,g=w=1,r.svg=!!(e.getCTM&&TE(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(s[Oe]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Oe]!=="none"?l[Oe]:"")),s.scale=s.rotate=s.translate="none"),E=em(e,r.svg),r.svg&&(r.uncache?(Y=e.getBBox(),u=r.xOrigin-Y.x+"px "+(r.yOrigin-Y.y)+"px",G=""):G=!t&&e.getAttribute("data-svg-origin"),qd(e,G||u,!!G||r.originIsAbsolute,r.smooth!==!1,E)),R=r.xOrigin||0,V=r.yOrigin||0,E!==Aa&&(k=E[0],N=E[1],P=E[2],z=E[3],h=Q=E[4],d=W=E[5],E.length===6?(g=Math.sqrt(k*k+N*N),w=Math.sqrt(z*z+P*P),_=k||N?pi(N,k)*As:0,A=P||z?pi(P,z)*As+_:0,A&&(w*=Math.abs(Math.cos(A*Oi))),r.svg&&(h-=R-(R*k+V*P),d-=V-(R*N+V*z))):(ue=E[6],q=E[7],le=E[8],ee=E[9],ge=E[10],ie=E[11],h=E[12],d=E[13],m=E[14],b=pi(ue,ge),v=b*As,b&&(T=Math.cos(-b),C=Math.sin(-b),G=Q*T+le*C,Y=W*T+ee*C,J=ue*T+ge*C,le=Q*-C+le*T,ee=W*-C+ee*T,ge=ue*-C+ge*T,ie=q*-C+ie*T,Q=G,W=Y,ue=J),b=pi(-P,ge),x=b*As,b&&(T=Math.cos(-b),C=Math.sin(-b),G=k*T-le*C,Y=N*T-ee*C,J=P*T-ge*C,ie=z*C+ie*T,k=G,N=Y,P=J),b=pi(N,k),_=b*As,b&&(T=Math.cos(b),C=Math.sin(b),G=k*T+N*C,Y=Q*T+W*C,N=N*T-k*C,W=W*T-Q*C,k=G,Q=Y),v&&Math.abs(v)+Math.abs(_)>359.9&&(v=_=0,x=180-x),g=Ke(Math.sqrt(k*k+N*N+P*P)),w=Ke(Math.sqrt(W*W+ue*ue)),b=pi(Q,W),A=Math.abs(b)>2e-4?b*As:0,D=ie?1/(ie<0?-ie:ie):0),r.svg&&(G=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!EE(fn(e,Oe)),G&&e.setAttribute("transform",G))),Math.abs(A)>90&&Math.abs(A)<270&&(i?(g*=-1,A+=_<=0?180:-180,_+=_<=0?180:-180):(w*=-1,A+=A<=0?180:-180)),t=t||r.uncache,r.x=h-((r.xPercent=h&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=d-((r.yPercent=d&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=m+o,r.scaleX=Ke(g),r.scaleY=Ke(w),r.rotation=Ke(_)+a,r.rotationX=Ke(v)+a,r.rotationY=Ke(x)+a,r.skewX=A+a,r.skewY=S+a,r.transformPerspective=D+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!t&&r.zOrigin||0)&&(s[Gt]=Dc(u)),r.xOffset=r.yOffset=0,r.force3D=Zt.force3D,r.renderTransform=r.svg?fU:wE?IE:dU,r.uncache=0,r},Dc=function(e){return(e=e.split(" "))[0]+" "+e[1]},xh=function(e,t,r){var s=At(t);return Ke(parseFloat(t)+parseFloat(rs(e,"x",r+"px",s)))+s},dU=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,IE(e,t)},ws="0deg",Vo="0px",bs=") ",IE=function(e,t){var r=t||this,s=r.xPercent,i=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,h=r.rotationY,d=r.rotationX,m=r.skewX,g=r.skewY,w=r.scaleX,_=r.scaleY,v=r.transformPerspective,x=r.force3D,A=r.target,S=r.zOrigin,D="",R=x==="auto"&&e&&e!==1||x===!0;if(S&&(d!==ws||h!==ws)){var V=parseFloat(h)*Oi,E=Math.sin(V),b=Math.cos(V),T;V=parseFloat(d)*Oi,T=Math.cos(V),o=xh(A,o,E*T*-S),a=xh(A,a,-Math.sin(V)*-S),l=xh(A,l,b*T*-S+S)}v!==Vo&&(D+="perspective("+v+bs),(s||i)&&(D+="translate("+s+"%, "+i+"%) "),(R||o!==Vo||a!==Vo||l!==Vo)&&(D+=l!==Vo||R?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+bs),u!==ws&&(D+="rotate("+u+bs),h!==ws&&(D+="rotateY("+h+bs),d!==ws&&(D+="rotateX("+d+bs),(m!==ws||g!==ws)&&(D+="skew("+m+", "+g+bs),(w!==1||_!==1)&&(D+="scale("+w+", "+_+bs),A.style[Oe]=D||"translate(0, 0)"},fU=function(e,t){var r=t||this,s=r.xPercent,i=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,h=r.skewY,d=r.scaleX,m=r.scaleY,g=r.target,w=r.xOrigin,_=r.yOrigin,v=r.xOffset,x=r.yOffset,A=r.forceCSS,S=parseFloat(o),D=parseFloat(a),R,V,E,b,T;l=parseFloat(l),u=parseFloat(u),h=parseFloat(h),h&&(h=parseFloat(h),u+=h,l+=h),l||u?(l*=Oi,u*=Oi,R=Math.cos(l)*d,V=Math.sin(l)*d,E=Math.sin(l-u)*-m,b=Math.cos(l-u)*m,u&&(h*=Oi,T=Math.tan(u-h),T=Math.sqrt(1+T*T),E*=T,b*=T,h&&(T=Math.tan(h),T=Math.sqrt(1+T*T),R*=T,V*=T)),R=Ke(R),V=Ke(V),E=Ke(E),b=Ke(b)):(R=d,b=m,V=E=0),(S&&!~(o+"").indexOf("px")||D&&!~(a+"").indexOf("px"))&&(S=rs(g,"x",o,"px"),D=rs(g,"y",a,"px")),(w||_||v||x)&&(S=Ke(S+w-(w*R+_*E)+v),D=Ke(D+_-(w*V+_*b)+x)),(s||i)&&(T=g.getBBox(),S=Ke(S+s/100*T.width),D=Ke(D+i/100*T.height)),T="matrix("+R+","+V+","+E+","+b+","+S+","+D+")",g.setAttribute("transform",T),A&&(g.style[Oe]=T)},pU=function(e,t,r,s,i){var o=360,a=at(i),l=parseFloat(i)*(a&&~i.indexOf("rad")?As:1),u=l-s,h=s+u+"deg",d,m;return a&&(d=i.split("_")[1],d==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),d==="cw"&&u<0?u=(u+o*K_)%o-~~(u/o)*o:d==="ccw"&&u>0&&(u=(u-o*K_)%o-~~(u/o)*o)),e._pt=m=new qt(e._pt,t,r,s,u,XF),m.e=h,m.u="deg",e._props.push(r),m},tv=function(e,t){for(var r in t)e[r]=t[r];return e},mU=function(e,t,r){var s=tv({},r._gsap),i="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,h,d,m,g,w;s.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[Oe]=t,a=Sa(r,1),Zs(r,Oe),r.setAttribute("transform",u)):(u=getComputedStyle(r)[Oe],o[Oe]=t,a=Sa(r,1),o[Oe]=u);for(l in vr)u=s[l],h=a[l],u!==h&&i.indexOf(l)<0&&(g=At(u),w=At(h),d=g!==w?rs(r,l,u,w):parseFloat(u),m=parseFloat(h),e._pt=new qt(e._pt,a,l,d,m-d,Bd),e._pt.u=w||0,e._props.push(l));tv(a,s)};$t("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",s="Bottom",i="Left",o=(e<3?[t,r,s,i]:[t+i,t+r,s+r,s+i]).map(function(a){return e<2?n+a:"border"+a+n});Nc[e>1?"border"+n:n]=function(a,l,u,h,d){var m,g;if(arguments.length<4)return m=o.map(function(w){return rr(a,w,u)}),g=m.join(" "),g.split(m[0]).length===5?m[0]:g;m=(h+"").split(" "),g={},o.forEach(function(w,_){return g[w]=m[_]=m[_]||m[(_-1)/2|0]}),a.init(l,g,d)}});var AE={name:"css",register:$d,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,s,i){var o=this._props,a=e.style,l=r.vars.startAt,u,h,d,m,g,w,_,v,x,A,S,D,R,V,E,b;Xp||$d(),this.styles=this.styles||vE(e),b=this.styles.props,this.tween=r;for(_ in t)if(_!=="autoRound"&&(h=t[_],!(Kt[_]&&lE(_,t,r,s,e,i)))){if(g=typeof h,w=Nc[_],g==="function"&&(h=h.call(r,s,e,i),g=typeof h),g==="string"&&~h.indexOf("random(")&&(h=xa(h)),w)w(this,e,_,h,r)&&(E=1);else if(_.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(_)+"").trim(),h+="",Qr.lastIndex=0,Qr.test(u)||(v=At(u),x=At(h)),x?v!==x&&(u=rs(e,_,u,x)+x):v&&(h+=v),this.add(a,"setProperty",u,h,s,i,0,0,_),o.push(_),b.push(_,0,a[_]);else if(g!=="undefined"){if(l&&_ in l?(u=typeof l[_]=="function"?l[_].call(r,s,e,i):l[_],at(u)&&~u.indexOf("random(")&&(u=xa(u)),At(u+"")||u==="auto"||(u+=Zt.units[_]||At(rr(e,_))||""),(u+"").charAt(1)==="="&&(u=rr(e,_))):u=rr(e,_),m=parseFloat(u),A=g==="string"&&h.charAt(1)==="="&&h.substr(0,2),A&&(h=h.substr(2)),d=parseFloat(h),_ in Ln&&(_==="autoAlpha"&&(m===1&&rr(e,"visibility")==="hidden"&&d&&(m=0),b.push("visibility",0,a.visibility),qr(this,a,"visibility",m?"inherit":"hidden",d?"inherit":"hidden",!d)),_!=="scale"&&_!=="transform"&&(_=Ln[_],~_.indexOf(",")&&(_=_.split(",")[0]))),S=_ in vr,S){if(this.styles.save(_),g==="string"&&h.substring(0,6)==="var(--"&&(h=fn(e,h.substring(4,h.indexOf(")"))),d=parseFloat(h)),D||(R=e._gsap,R.renderTransform&&!t.parseTransform||Sa(e,t.parseTransform),V=t.smoothOrigin!==!1&&R.smooth,D=this._pt=new qt(this._pt,a,Oe,0,1,R.renderTransform,R,0,-1),D.dep=1),_==="scale")this._pt=new qt(this._pt,R,"scaleY",R.scaleY,(A?Ni(R.scaleY,A+d):d)-R.scaleY||0,Bd),this._pt.u=0,o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){b.push(Gt,0,a[Gt]),h=uU(h),R.svg?qd(e,h,0,V,0,this):(x=parseFloat(h.split(" ")[2])||0,x!==R.zOrigin&&qr(this,R,"zOrigin",R.zOrigin,x),qr(this,a,_,Dc(u),Dc(h)));continue}else if(_==="svgOrigin"){qd(e,h,1,V,0,this);continue}else if(_ in xE){pU(this,R,_,m,A?Ni(m,A+h):h);continue}else if(_==="smoothOrigin"){qr(this,R,"smooth",R.smooth,h);continue}else if(_==="force3D"){R[_]=h;continue}else if(_==="transform"){mU(this,h,e);continue}}else _ in a||(_=io(_)||_);if(S||(d||d===0)&&(m||m===0)&&!YF.test(h)&&_ in a)v=(u+"").substr((m+"").length),d||(d=0),x=At(h)||(_ in Zt.units?Zt.units[_]:v),v!==x&&(m=rs(e,_,u,x)),this._pt=new qt(this._pt,S?R:a,_,m,(A?Ni(m,A+d):d)-m,!S&&(x==="px"||_==="zIndex")&&t.autoRound!==!1?ZF:Bd),this._pt.u=x||0,v!==x&&x!=="%"&&(this._pt.b=u,this._pt.r=JF);else if(_ in a)cU.call(this,e,_,u,A?A+h:h);else if(_ in e)this.add(e,_,u||e[_],A?A+h:h,s,i);else if(_!=="parseTransform"){Bp(_,h);continue}S||(_ in a?b.push(_,0,a[_]):typeof e[_]=="function"?b.push(_,2,e[_]()):b.push(_,1,u||e[_])),o.push(_)}}E&&pE(this)},render:function(e,t){if(t.tween._time||!Jp())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:rr,aliases:Ln,getSetter:function(e,t,r){var s=Ln[t];return s&&s.indexOf(",")<0&&(t=s),t in vr&&t!==Gt&&(e._gsap.x||rr(e,"x"))?r&&W_===r?t==="scale"?rU:nU:(W_=r||{})&&(t==="scale"?sU:iU):e.style&&!jp(e.style[t])?eU:~t.indexOf("-")?tU:Qp(e,t)},core:{_removeProperty:Zs,_getMatrix:em}};Ht.utils.checkPrefix=io;Ht.core.getStyleSaver=vE;(function(n,e,t,r){var s=$t(n+","+e+","+t,function(i){vr[i]=1});$t(e,function(i){Zt.units[i]="deg",xE[i]=1}),Ln[s[13]]=n+","+e,$t(r,function(i){var o=i.split(":");Ln[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");$t("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Zt.units[n]="px"});Ht.registerPlugin(AE);var Gd=Ht.registerPlugin(AE)||Ht;Gd.core.Tween;const SE=({text:n,as:e="div",typingSpeed:t=50,initialDelay:r=0,pauseDuration:s=2e3,deletingSpeed:i=30,loop:o=!0,className:a="",showCursor:l=!0,hideCursorWhileTyping:u=!1,cursorCharacter:h="|",cursorClassName:d="",cursorBlinkDuration:m=.5,textColors:g=[],variableSpeed:w,onSentenceComplete:_,startOnVisible:v=!1,reverseMode:x=!1,...A})=>{const[S,D]=O.useState(""),[R,V]=O.useState(0),[E,b]=O.useState(!1),[T,C]=O.useState(0),[k,N]=O.useState(!v),P=O.useRef(null),z=O.useRef(null),Q=O.useMemo(()=>Array.isArray(n)?n:[n],[n]),W=O.useCallback(()=>{if(!w)return t;const{min:J,max:le}=w;return Math.random()*(le-J)+J},[w,t]),G=()=>{if(g.length!==0)return g[T%g.length]};O.useEffect(()=>{if(!v||!z.current)return;const J=new IntersectionObserver(le=>{le.forEach(ee=>{ee.isIntersecting&&N(!0)})},{threshold:.1});return J.observe(z.current),()=>J.disconnect()},[v]),O.useEffect(()=>{l&&P.current&&(Gd.set(P.current,{opacity:1}),Gd.to(P.current,{opacity:0,duration:m,repeat:-1,yoyo:!0,ease:"power2.inOut"}))},[l,m]),O.useEffect(()=>{if(!k)return;let J;const le=Q[T],ee=x?le.split("").reverse().join(""):le,ge=()=>{if(E)if(S===""){if(b(!1),T===Q.length-1&&!o)return;_&&_(Q[T],T),C(q=>(q+1)%Q.length),V(0),J=setTimeout(()=>{},s)}else J=setTimeout(()=>{D(q=>q.slice(0,-1))},i);else if(R<ee.length)J=setTimeout(()=>{D(q=>q+ee[R]),V(q=>q+1)},w?W():t);else if(Q.length>=1){if(!o&&T===Q.length-1)return;J=setTimeout(()=>{b(!0)},s)}};return R===0&&!E&&S===""?J=setTimeout(ge,r):ge(),()=>clearTimeout(J)},[R,S,E,t,i,s,Q,T,o,r,k,x,w,_]);const Y=u&&(R<Q[T].length||E);return O.createElement(e,{ref:z,className:`text-type ${a}`,...A},f.jsx("span",{className:"text-type__content",style:{color:G()||"inherit"},children:S}),l&&f.jsx("span",{ref:P,className:`text-type__cursor ${d} ${Y?"text-type__cursor--hidden":""}`,children:h}))};var PE={};function gU(n){if(typeof window>"u")return;const e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=n,document.head.appendChild(e),n}Object.defineProperty(PE,"__esModule",{value:!0});var Le=O;function yU(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Pr=yU(Le);gU(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const _U=Le.forwardRef(function({style:e={},className:t="",autoFill:r=!1,play:s=!0,pauseOnHover:i=!1,pauseOnClick:o=!1,direction:a="left",speed:l=50,delay:u=0,loop:h=0,gradient:d=!1,gradientColor:m="white",gradientWidth:g=200,onFinish:w,onCycleComplete:_,onMount:v,children:x},A){const[S,D]=Le.useState(0),[R,V]=Le.useState(0),[E,b]=Le.useState(1),[T,C]=Le.useState(!1),k=Le.useRef(null),N=A||k,P=Le.useRef(null),z=Le.useCallback(()=>{if(P.current&&N.current){const ee=N.current.getBoundingClientRect(),ge=P.current.getBoundingClientRect();let q=ee.width,ie=ge.width;(a==="up"||a==="down")&&(q=ee.height,ie=ge.height),b(r&&q&&ie&&ie<q?Math.ceil(q/ie):1),D(q),V(ie)}},[r,N,a]);Le.useEffect(()=>{if(T&&(z(),P.current&&N.current)){const ee=new ResizeObserver(()=>z());return ee.observe(N.current),ee.observe(P.current),()=>{ee&&ee.disconnect()}}},[z,N,T]),Le.useEffect(()=>{z()},[z,x]),Le.useEffect(()=>{C(!0)},[]),Le.useEffect(()=>{typeof v=="function"&&v()},[]);const Q=Le.useMemo(()=>r?R*E/l:R<S?S/l:R/l,[r,S,R,E,l]),W=Le.useMemo(()=>Object.assign(Object.assign({},e),{"--pause-on-hover":!s||i?"paused":"running","--pause-on-click":!s||i&&!o||o?"paused":"running","--width":a==="up"||a==="down"?"100vh":"100%","--transform":a==="up"?"rotate(-90deg)":a==="down"?"rotate(90deg)":"none"}),[e,s,i,o,a]),G=Le.useMemo(()=>({"--gradient-color":m,"--gradient-width":typeof g=="number"?`${g}px`:g}),[m,g]),Y=Le.useMemo(()=>({"--play":s?"running":"paused","--direction":a==="left"?"normal":"reverse","--duration":`${Q}s`,"--delay":`${u}s`,"--iteration-count":h?`${h}`:"infinite","--min-width":r?"auto":"100%"}),[s,a,Q,u,h,r]),J=Le.useMemo(()=>({"--transform":a==="up"?"rotate(90deg)":a==="down"?"rotate(-90deg)":"none"}),[a]),le=Le.useCallback(ee=>[...Array(Number.isFinite(ee)&&ee>=0?ee:0)].map((ge,q)=>Pr.default.createElement(Le.Fragment,{key:q},Le.Children.map(x,ie=>Pr.default.createElement("div",{style:J,className:"rfm-child"},ie)))),[J,x]);return T?Pr.default.createElement("div",{ref:N,style:W,className:"rfm-marquee-container "+t},d&&Pr.default.createElement("div",{style:G,className:"rfm-overlay"}),Pr.default.createElement("div",{className:"rfm-marquee",style:Y,onAnimationIteration:_,onAnimationEnd:w},Pr.default.createElement("div",{className:"rfm-initial-child-container",ref:P},Le.Children.map(x,ee=>Pr.default.createElement("div",{style:J,className:"rfm-child"},ee))),le(E-1)),Pr.default.createElement("div",{className:"rfm-marquee",style:Y},le(E))):null});var nv=PE.default=_U;const vU="/assets/DylanRoby-CYqV793u.png",wU="/assets/SaraU-fXPnzMOL.png",bU="/assets/JacksonLeck-BVVOgM9i.png",TU="/assets/5StarReview-D7joiAdx.png",xU="/assets/EliHamou-BfRRiGdI.png",EU="/assets/LucasTurcuato-WEdf80AU.png",rv="/assets/McKinsey-Dzyq_0PZ.png",IU="/assets/Evercore-CBQzTj-e.png",AU="/assets/GoldmanSachs-CiznMPvG.png",SU="/assets/MorganStanley-WP3lBMDr.png",PU="/assets/Blackstone-CgXMTzrJ.png",RU="/assets/PwC-BqBVL8Dk.png",CU="/assets/JPMorgan-B04d4YUY.png",kU="/assets/Barclays-GGkT8jZs.png",NU=()=>{const n={hidden:{opacity:0,y:30},visible:{opacity:1,y:0}};return f.jsx("section",{id:"features",className:"py-32 px-6 overflow-visible relative",style:{marginTop:"-275px"},children:f.jsxs("div",{className:"max-w-7xl mx-auto overflow-visible",children:[f.jsx(He.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0},transition:{duration:.8,delay:.1},className:"mb-32",children:f.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsx("h3",{className:"text-4xl font-bold text-section-heading mb-4",children:"Dashboard"}),f.jsx("p",{className:"text-xl text-section-body leading-relaxed",children:"Your recruiting command center. View all activity: firm searches, contact searches, prep history, and progress. Track outreach in the Outbox with follow-up suggestions and an integrated calendar."})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"aspect-video rounded-2xl overflow-hidden border border-blue-500/20 border-blue-300/60 bg-gradient-to-br from-blue-500/5 to-cyan-500/5 from-blue-50/80 to-cyan-50/80 shadow-lg shadow-blue-100/50",children:f.jsx("video",{src:Xj,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"})}),f.jsx("div",{className:"absolute -bottom-4 -left-4 w-24 h-24 bg-blue-500/10 bg-blue-200/40 rounded-full blur-3xl"})]})]})}),f.jsx(He.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0},transition:{duration:.8,delay:.2},className:"mb-32",children:f.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"aspect-video rounded-2xl overflow-hidden border border-purple-500/20 border-purple-300/60 bg-gradient-to-br from-purple-500/5 to-indigo-500/5 from-purple-50/80 to-indigo-50/80 shadow-lg shadow-purple-100/50",children:f.jsx("video",{src:Jj,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"})}),f.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-blue-500/10 bg-blue-200/40 rounded-full blur-3xl"})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("h3",{className:"text-4xl font-bold text-section-heading mb-4",children:"Contact Search"}),f.jsx("p",{className:"text-xl text-section-body leading-relaxed",children:'Turn "who should I reach out to?" into a real list  in one click.'})]})]})}),f.jsx(He.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0},transition:{duration:.8,delay:.3},className:"mb-32",children:f.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsx("h3",{className:"text-4xl font-bold text-section-heading mb-4",children:"Firm Search"}),f.jsx("p",{className:"text-xl text-section-body leading-relaxed",children:"Find the firms you want to recruit for. Input the industry, size, and any relevant keywords to get back a clean table of companies with all key details."})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"aspect-video rounded-2xl overflow-hidden border border-emerald-500/20 border-emerald-300/60 bg-gradient-to-br from-emerald-500/5 to-teal-500/5 from-emerald-50/80 to-teal-50/80 shadow-lg shadow-emerald-100/50",children:f.jsx("video",{src:Zj,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"})}),f.jsx("div",{className:"absolute -bottom-4 -left-4 w-24 h-24 bg-emerald-500/10 bg-emerald-200/40 rounded-full blur-3xl"})]})]})}),f.jsx(He.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0},transition:{duration:.8,delay:.4},className:"mb-32",children:f.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"aspect-video rounded-2xl overflow-hidden border border-purple-500/20 border-purple-300/60 bg-gradient-to-br from-purple-500/5 to-indigo-500/5 from-purple-50/80 to-indigo-50/80 shadow-lg shadow-purple-100/50",children:f.jsx("video",{src:eF,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"})}),f.jsx("div",{className:"absolute -bottom-4 -right-4 w-24 h-24 bg-purple-500/10 bg-purple-200/40 rounded-full blur-3xl"})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("h3",{className:"text-4xl font-bold text-section-heading mb-4",children:"Interview Prep"}),f.jsx("p",{className:"text-xl text-section-body leading-relaxed",children:"Nail every interview. Input the role and company you're interviewing for and receive a prep sheet with common questions, frameworks, company insights, and talking points."})]})]})}),f.jsx(He.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0},transition:{duration:.8,delay:.5},className:"mb-32",children:f.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsx("h3",{className:"text-4xl font-bold text-section-heading mb-4",children:"Coffee Chat Prep"}),f.jsx("p",{className:"text-xl text-section-body leading-relaxed",children:"Prepare for your coffee chat. Enter the LinkedIn URL of the person you're speaking with and get a 2-page PDF with background, company insights, talking points, and smart questions."})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"aspect-video rounded-2xl overflow-hidden border border-purple-500/20 border-purple-300/50 shadow-lg shadow-purple-100/40",children:f.jsx("video",{src:tF,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"})}),f.jsx("div",{className:"absolute -top-6 -left-6 w-32 h-32 bg-purple-500/10 bg-purple-200/40 rounded-full blur-3xl"})]})]})}),f.jsx("section",{className:"py-24 px-6 overflow-hidden relative",style:{marginTop:"-1px"},children:f.jsxs("div",{className:"max-w-full mx-auto",children:[f.jsxs("div",{className:"text-center mb-16",children:[f.jsxs("h2",{className:"text-display-lg mb-4 text-section-heading",children:["Hear from our ",f.jsx("span",{className:"gradient-text-teal",children:"Real Customers"})]}),f.jsx("p",{className:"text-xl text-section-body",children:"Used by hundreds of students across the country with offers received from top tier firms"})]}),f.jsx("div",{className:"mb-16",children:f.jsx(nv,{gradient:!0,gradientColor:"hsl(var(--background))",gradientWidth:200,speed:50,direction:"right",children:[{src:rv,alt:"McKinsey"},{src:IU,alt:"Evercore"},{src:AU,alt:"Goldman Sachs"},{src:rv,alt:"Bain"},{src:SU,alt:"Morgan Stanley"},{src:PU,alt:"Blackstone"},{src:RU,alt:"PwC"},{src:CU,alt:"J.P. Morgan"},{src:kU,alt:"Barclays"}].map(({src:e,alt:t})=>f.jsx("div",{className:"flex items-center mx-12",children:f.jsx("img",{src:e,alt:t,className:"h-12 md:h-14 w-auto opacity-60 hover:opacity-100 transition-opacity"})},t))})}),f.jsx(nv,{gradient:!0,gradientColor:"hsl(var(--background))",gradientWidth:300,speed:80,pauseOnHover:!0,children:[{name:"Dylan Roby",role:"Evercore, Investment Banking Analyst",img:vU,quote:"Offerloop does the work that I had spent hundreds of hours doing to land my internship in mere minutes."},{name:"Sarah Ucuzoglu",role:"PwC, Financial Advisory Intern",img:wU,quote:"Having the ability to automate the cold reach out process allows for more time spent face to face with a professional."},{name:"Jackson Leck",role:"Blackstone, Private Equity Intern",img:bU,quote:"I would have so many recruiting tabs open... with Offerloop I have one. Everything I need in a single place."},{name:"Eli Hamou",role:"Deloitte, Audit Intern",img:xU,quote:"This platform completely transformed how I approach networking. The time I save allows me to focus on what really matters."},{name:"Lucas Turcuato",role:"Barclays, Investment Banking Analyst",img:EU,quote:"Game changer for recruiting season. I went from stressed to organized in minutes."}].map(({name:e,role:t,img:r,quote:s})=>{const i={light:"rgba(59, 130, 246, 0.08)",border:"rgba(59, 130, 246, 0.25)",class:"testimonial-blue"};return f.jsxs("div",{className:`glass-card rounded-2xl p-8 mx-4 w-[420px] h-[380px] flex flex-col justify-between relative overflow-hidden ${i.class}`,style:{borderColor:i.border},children:[f.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-2xl",style:{background:`linear-gradient(135deg, ${i.light} 0%, transparent 50%)`}}),f.jsxs("div",{className:"relative z-10 flex flex-col h-full",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("img",{src:TU,alt:"5 star rating",className:"w-24 mb-4"}),f.jsxs("p",{className:"text-section-body italic text-lg leading-relaxed",children:['"',s,'"']})]}),f.jsxs("div",{className:"flex items-center gap-4 mt-auto pt-6",children:[f.jsx("img",{src:r,alt:e,className:"w-14 h-14 rounded-full object-cover border",style:{borderColor:i.border}}),f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold text-section-heading",children:e}),f.jsx("div",{className:"text-sm text-section-body",children:t})]})]})]})]},e)})})]})}),f.jsx(He.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0},transition:{duration:.8,delay:.5},className:"max-w-5xl mx-auto",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-8 p-8",children:[f.jsx("div",{className:"flex-shrink-0 w-[28rem] h-[32rem] md:w-[32rem] md:h-[36rem] relative overflow-hidden rounded-2xl",children:f.jsx("video",{src:Yj,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full",style:{objectFit:"cover",objectPosition:"center center",transform:"scale(1.1)",transformOrigin:"center center"},"aria-hidden":"true"})}),f.jsxs("div",{className:"flex-1 space-y-6",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"text-3xl md:text-4xl font-bold mb-3",children:[f.jsx("span",{className:"text-section-heading",children:"Meet "}),f.jsx(He.span,{className:"gradient-text-teal inline-block",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.3},children:"Scout"})]}),f.jsx("p",{className:"text-lg text-section-body leading-relaxed",children:"Your built-in guide when you're stuck  Scout suggests prompts and helps you decide what to type at every step."})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute -left-4 top-6 w-0 h-0 border-t-[12px] border-t-transparent border-r-[12px] border-b-[12px] border-b-transparent",style:{borderRightColor:"rgba(255, 255, 255, 0.95)"}}),f.jsxs("div",{className:"relative p-5 rounded-2xl shadow-lg",style:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid rgba(59, 130, 246, 0.2)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.1)"},children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Scout"})]}),f.jsxs("p",{className:"text-base text-foreground leading-relaxed",children:["Try searching for"," ",f.jsx(SE,{as:"span",text:['"Investment Banking Analyst at Goldman Sachs"','"Software Engineer at Google"','"Consultant at McKinsey"','"Product Manager at Apple"','"Data Scientist at Meta"','"Private Equity Analyst at Blackstone"'],typingSpeed:30,deletingSpeed:20,pauseDuration:2500,loop:!0,showCursor:!0,cursorCharacter:"|",className:"inline",startOnVisible:!0})," ","to get started."]})]})]})]})]})})]})})},DU="/assets/lowercaseoloop-DUd8rHcl.png",OU="/assets/firstimage-7y0o_VyO.jpeg",VU=()=>{const n=O.useRef(null),e=O.useRef(null),t=s=>{if(!n.current||!e.current)return;const i=e.current.getBoundingClientRect(),o=s.clientX-i.left-i.width/2,l=-(s.clientY-i.top-i.height/2)/10,u=o/10;n.current.style.transform=`rotateX(${l}deg) rotateY(${u}deg)`},r=()=>{n.current&&(n.current.style.transform="rotateX(2deg) rotateY(-5deg)")};return f.jsx("div",{ref:e,onMouseMove:t,onMouseLeave:r,style:{perspective:"1000px",display:"flex",justifyContent:"center",padding:"40px 20px"},children:f.jsx("div",{ref:n,style:{width:"100%",maxWidth:"1200px",transformStyle:"preserve-3d",transition:"transform 0.3s ease",cursor:"grab",transform:"rotateX(2deg) rotateY(-5deg)"},children:f.jsx("img",{src:OU,alt:"Offerloop Demo",style:{width:"100%",height:"auto",borderRadius:"15px",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.3)"}})})})},MU=()=>f.jsx("span",{className:"inline-flex items-baseline gap-3 ml-3",children:[0,1,2].map(n=>f.jsx(He.span,{className:"inline-block w-6 h-6 rounded-full bg-black",style:{marginBottom:"0.15em"},animate:{y:[0,-10,0],opacity:[.5,1,.5]},transition:{duration:1.2,repeat:1/0,delay:n*.2,ease:"easeInOut"}},n))}),sv=["Students","Undergraduates","Graduates","Young Professionals","Career Switchers","Anyone figuring out what's next"],LU=()=>{const[n,e]=O.useState(0);return O.useEffect(()=>{const t=setInterval(()=>{e(r=>(r+1)%sv.length)},3e3);return()=>clearInterval(t)},[]),f.jsxs("div",{className:"text-center",style:{overflow:"visible",padding:"0.5rem 0"},children:[f.jsx("h2",{className:"text-5xl md:text-6xl lg:text-7xl font-semibold mb-4 text-section-heading",style:{lineHeight:"1.2",overflow:"visible",padding:"0.25rem 0"},children:"Made for"}),f.jsx("div",{className:"h-24 md:h-28 lg:h-32 flex items-center justify-center -mt-[50px]",style:{overflow:"visible",padding:"0.5rem 0"},children:f.jsx(bd,{mode:"wait",children:f.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.8,ease:"easeInOut"},className:"text-3xl md:text-5xl lg:text-6xl font-bold gradient-text-teal",style:{lineHeight:"1.2",overflow:"visible",padding:"0.25rem 0.5rem"},children:sv[n]},n)})})]})},jU="/assets/Firm_Search-CEatbZv4.png",FU="/assets/Contact_search-B9Cf_N-I.png",UU="/assets/Coffee_Chat-1bNZkQD0.png",BU="/assets/Interview_Prep-sDd7rZ-m.png",zU="/assets/Dashboard-Cppk8oLJ.png",vn=[{number:1,header:"Find the firms you want to recruit for",headerEmphasis:"firms you want",bullets:["Input the industry, size, and any relevant keywords","Get back a clean table of companies with all key details"],image:jU,stepLabel:"Step 1  Find target firms"},{number:2,header:"Find & reach out to the people you need to talk to",headerEmphasis:"people you need",bullets:["Input position, company, university, and location","Get verified contacts with emails and personalized draft emails ready in Gmail"],image:FU,stepLabel:"Step 2  Find key people"},{number:3,header:"Prepare for your coffee chat",headerEmphasis:"coffee chat",bullets:["Enter the LinkedIn URL of the person you're speaking with","Get a 2-page PDF with background, company insights, talking points, and smart questions"],image:UU,stepLabel:"Step 3  Prepare for coffee chats"},{number:4,header:"Nail every interview",headerEmphasis:"every interview",bullets:["Input the role and company you're interviewing for","Receive a prep sheet with common questions, frameworks, company insights, and talking points"],image:BU,stepLabel:"Step 4  Prepare for interviews"},{number:5,header:"Your recruiting command center",headerEmphasis:"command center",bullets:["View all activity: firm searches, contact searches, prep history, and progress","Track outreach in the Outbox with follow-up suggestions and an integrated calendar"],image:zU,stepLabel:"Step 5  Track everything"}],$U=()=>{const[n,e]=O.useState(0),[t,r]=O.useState(!1),[s,i]=O.useState(!1),o=O.useRef(null),a=O.useRef(0),l=()=>{o.current&&(clearInterval(o.current),o.current=null),a.current=n,i(!0),e(h=>(h+1)%vn.length),setTimeout(()=>i(!1),400),t||setTimeout(()=>{!t&&!o.current&&(o.current=setInterval(()=>{a.current=n,i(!0),e(h=>(h+1)%vn.length),setTimeout(()=>i(!1),400)},4e3))},100)},u=()=>{o.current&&(clearInterval(o.current),o.current=null),a.current=n,i(!0),e(h=>(h-1+vn.length)%vn.length),setTimeout(()=>i(!1),400),t||setTimeout(()=>{!t&&!o.current&&(o.current=setInterval(()=>{a.current=n,i(!0),e(h=>(h+1)%vn.length),setTimeout(()=>i(!1),400)},4e3))},100)};return O.useEffect(()=>(o.current&&(clearInterval(o.current),o.current=null),t||(o.current=setInterval(()=>{a.current=n,i(!0),e(h=>(h+1)%vn.length),setTimeout(()=>i(!1),400)},4e3)),()=>{o.current&&(clearInterval(o.current),o.current=null)}),[t]),f.jsxs("div",{className:"w-full max-w-[1150px] mx-auto px-5 pt-4 pb-12 -mt-40",children:[f.jsx("div",{className:"relative w-full",style:{height:"540px"},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:vn.map((h,d)=>{const m=(d-n+vn.length)%vn.length,g=m===0,w=m*12,_=m*12,v=m>3?0:1-m*.15;return f.jsx("div",{className:"glass-card rounded-2xl overflow-hidden",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",transform:`translateX(${w}px) translateY(${_}px) scale(${1-m*.02})`,zIndex:vn.length-m,opacity:v,pointerEvents:g?"auto":"none",transition:s&&g?"opacity 0.4s ease-out, transform 0.4s ease-out":"none"},children:f.jsxs("div",{className:"flex items-center h-full px-12 py-12",children:[f.jsxs("div",{className:"flex-1 min-w-0",style:{marginTop:"-40px"},children:[f.jsx("div",{className:"mb-3 inline-block px-3 py-1 rounded-full text-xs font-medium text-slate-500 bg-slate-100",style:{opacity:g?1:0,transform:g?"translateY(0)":"translateY(-10px)",transition:g?"opacity 0.5s ease-out 0.1s, transform 0.5s ease-out 0.1s":"none"},children:h.stepLabel}),f.jsx("h3",{className:"text-[28px] font-semibold text-section-heading mb-6",style:{opacity:g?1:0,transform:g?"translateY(0)":"translateY(10px)",transition:g?"opacity 0.5s ease-out 0.2s, transform 0.5s ease-out 0.2s":"none"},children:h.header.split(h.headerEmphasis).map((x,A,S)=>f.jsxs(U.Fragment,{children:[x,A<S.length-1&&f.jsx("span",{className:"font-bold text-blue-600",children:h.headerEmphasis})]},A))}),f.jsx("ul",{className:"list-disc pl-5 m-0",children:h.bullets.map((x,A)=>f.jsx("li",{className:"text-base text-section-body mb-2 leading-relaxed",style:{opacity:g?1:0,transform:g?"translateY(0)":"translateY(15px)",transition:g?`opacity 0.5s ease-out ${.3+A*.1}s, transform 0.5s ease-out ${.3+A*.1}s`:"none"},children:x},A))})]}),f.jsx("div",{className:"flex-shrink-0 ml-16 relative",style:{width:"600px",height:"360px"},children:h.image?f.jsxs("div",{className:"w-full h-full relative",children:[f.jsx("div",{className:"absolute inset-0 rounded-xl bg-slate-200",style:{transform:"translate(3px, 3px)",opacity:.3,zIndex:0,filter:"blur(2px)"}}),f.jsx("div",{className:"w-full h-full rounded-xl overflow-hidden bg-slate-100 flex items-center justify-center relative z-10",style:{boxShadow:"0 8px 32px rgba(59, 130, 246, 0.15), 0 4px 16px rgba(0, 0, 0, 0.1)"},children:f.jsx("img",{src:h.image,alt:h.header,className:"max-w-full max-h-full object-contain rounded-xl",style:{opacity:g?1:0,transform:g?"scale(1)":"scale(0.95)",transition:g?"opacity 0.6s ease-out 0.4s, transform 0.6s ease-out 0.4s":"none"}})})]}):f.jsx("div",{className:"w-full h-full bg-slate-100 rounded-xl flex items-center justify-center",children:f.jsxs("span",{className:"text-slate-400 text-sm font-medium",children:["Screenshot ",h.number]})})})]})},`card-${d}`)})}),f.jsxs("div",{className:"flex items-center justify-center gap-3 mt-12",children:[f.jsx("button",{onClick:u,className:"w-10 h-10 rounded-full border border-slate-200 bg-white cursor-pointer flex items-center justify-center text-slate-700 hover:bg-slate-50 transition-all",children:f.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M15 18l-6-6 6-6"})})}),f.jsxs("span",{className:"text-sm text-slate-600 font-medium",children:[n+1," / ",vn.length]}),f.jsx("button",{onClick:l,className:"w-10 h-10 rounded-full border border-slate-200 bg-white cursor-pointer flex items-center justify-center text-slate-700 hover:bg-slate-50 transition-all",children:f.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M9 18l6-6-6-6"})})})]})]})},qU="/assets/ScoutAsleep-B_rIS2Zm.mp4",GU="/assets/scaredscout-Cpl-F8qZ.mp4",HU="/assets/Scoutgirlsad-CU67pytL.mp4",WU="/assets/LinkedIn_logo-BsDCEgbi.png",KU="/assets/Googlelogo-DmFW4DU4.png",QU="/assets/excel_logo-DwGiwXCB.png",YU="/assets/outlook_logo-BFtiwWCg.png",XU="/assets/zoom_logo-CxeDO7-m.png",JU="/assets/applemail-C-fTeu8C.png",ZU="/assets/applenumberslogo-removebg-preview-HyoRrp3x.png",e4="/assets/applecalendarlogo-BrRQ5w6F.png",t4="/assets/Googlecalendar-BtB7ISjH.png",n4="/assets/Gmaillogopng-DvYm0ewK.png",r4="/assets/sheetslogo-CFJjNdBB.png",Eh=({text:n,className:e,...t})=>{const[r,s]=O.useState(0),i=O.useRef(!1),o=O.useRef(null);return O.useEffect(()=>{if(!o.current)return;const a=new IntersectionObserver(l=>{l.forEach(u=>{u.isIntersecting?i.current&&(s(h=>h+1),i.current=!1):i.current=!0})},{threshold:.1});return a.observe(o.current),()=>a.disconnect()},[]),f.jsx("div",{ref:o,children:f.jsx(SE,{text:n,as:"span",className:e,typingSpeed:100,loop:!1,startOnVisible:!0,showCursor:!1,...t},r)})},s4=()=>{console.log(" [INDEX] Component rendering");const n=Kd(),{user:e}=du();console.log(" [INDEX] User state:",{hasUser:!!e,email:(e==null?void 0:e.email)||"none"});const[t,r]=O.useState(0),[s,i]=O.useState(0),o=O.useRef([]);return O.useEffect(()=>{const a=()=>{const l=window.scrollY,u=window.innerHeight;i(l*.3),o.current.forEach((h,d)=>{if(h){const m=h.getBoundingClientRect();m.top<=u*.5&&m.bottom>=u*.5&&r(d)}})};return window.addEventListener("scroll",a,{passive:!0}),()=>window.removeEventListener("scroll",a)},[]),f.jsx("div",{className:"min-h-screen w-full bg-transparent text-foreground",children:f.jsxs("div",{className:"flex-1 flex flex-col",children:[f.jsxs("header",{className:"fixed top-4 left-4 right-4 h-16 flex items-center justify-between px-6 bg-[#ECF4FF] backdrop-blur-md shadow-xl rounded-2xl border border-blue-200/50 z-50",children:[f.jsx("div",{className:"flex items-center gap-4",children:f.jsx("img",{src:DU,alt:"Offerloop",className:"h-10 cursor-pointer",onClick:()=>n("/")})}),f.jsxs("nav",{className:"flex items-center gap-6",children:[f.jsx("button",{onClick:()=>{const a=document.getElementById("features");a&&a.scrollIntoView({behavior:"smooth",block:"start"})},className:"text-sm font-medium text-slate-700 hover:text-blue-600 transition-colors",children:"Features"}),f.jsx("button",{onClick:()=>{const a=document.getElementById("pricing");a&&a.scrollIntoView({behavior:"smooth",block:"start"})},className:"text-sm font-medium text-slate-700 hover:text-blue-600 transition-colors",children:"Pricing"}),f.jsx("button",{onClick:()=>{const a=document.getElementById("about");a&&a.scrollIntoView({behavior:"smooth",block:"start"})},className:"text-sm font-medium text-slate-700 hover:text-blue-600 transition-colors",children:"About Us"}),f.jsx("button",{onClick:()=>{window.location.hash="#privacy-lock";const a=document.getElementById("privacy-lock");a&&a.scrollIntoView({behavior:"smooth",block:"center"})},className:"text-sm font-medium text-slate-700 hover:text-blue-600 transition-colors",children:"Privacy"})]}),f.jsx("div",{className:"flex items-center gap-4",children:e?f.jsx("button",{onClick:()=>n("/home"),className:"btn-secondary-glass px-4 py-2",children:"Go to Dashboard"}):f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>n("/signin?mode=signin"),className:"btn-secondary-glass px-4 py-2",children:"Sign In"}),f.jsx("button",{onClick:()=>n("/signin?mode=signup"),className:"btn-primary-glass px-4 py-2",children:"Sign Up"})]})})]}),f.jsx("div",{className:"h-24"}),f.jsxs("div",{className:"flex-1 relative z-10",children:[f.jsx("section",{ref:a=>{o.current[0]=a},className:"min-h-screen pt-40 pb-24 relative","data-scene":"0",style:{overflow:"clip"},children:f.jsxs("div",{className:"max-w-7xl mx-auto px-12 mb-20",children:[f.jsxs("div",{className:"max-w-5xl",children:[f.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold mb-6",style:{overflow:"visible",lineHeight:"1.1",letterSpacing:"-0.02em"},children:f.jsxs("span",{className:"text-hero-primary tracking-tight",children:["Offerloop is your ",f.jsx("span",{style:{color:"#3B82F6",fontStyle:"italic"},children:"AI co-pilot"})," for competitive recruiting."]})}),f.jsx("p",{className:"text-lg md:text-xl text-hero-subtitle mb-4 max-w-3xl leading-relaxed",children:"Automate research, outreach, and interview prep all in one place."}),f.jsx("p",{className:"text-lg md:text-xl text-hero-subtitle mb-12 max-w-3xl leading-relaxed",children:"Work smarter. Network faster. Land better opportunities."}),f.jsxs("button",{onClick:()=>n("/signin?mode=signup"),className:"btn-primary-glass px-12 py-5 text-lg rounded-2xl pulse-glow inline-flex items-center gap-3",children:["Try it out ",f.jsx(YI,{className:"h-5 w-5"})]})]}),f.jsx(VU,{}),f.jsxs("div",{className:"text-center mt-8 mb-16",style:{marginTop:"100px"},children:[f.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold mb-3 text-section-heading whitespace-nowrap",children:["The Entire Recruiting Process, ",f.jsx("span",{style:{color:"#3B82F6"},children:"Automated"})]}),f.jsxs("p",{className:"text-lg md:text-xl text-section-body max-w-2xl mx-auto",children:["Cuts job search time by ",f.jsx("strong",{className:"text-red-600 text-xl md:text-2xl",children:"90%"})]})]})]})}),f.jsx("section",{className:"py-16 px-6 relative",children:f.jsx($U,{})}),f.jsx("div",{className:"text-center mt-16 mb-8",children:f.jsxs("h2",{className:"text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-section-heading flex items-baseline justify-center",children:["No More",f.jsx(MU,{})]})}),f.jsx("section",{className:"mt-[82px] max-w-5xl mx-auto px-4",children:f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[f.jsx("video",{src:qU,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"rounded-3xl shadow-lg w-full md:w-1/2 h-64 md:h-80 object-cover border-8 border-black"}),f.jsx("div",{className:"w-full md:w-1/2 flex items-center justify-center",children:f.jsx(Eh,{text:"Burnout",className:"gradient-text-teal text-6xl md:text-7xl lg:text-8xl font-bold"})})]}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[f.jsx("div",{className:"w-full md:w-1/2 flex items-center justify-center",children:f.jsx(Eh,{text:"Stress",className:"gradient-text-teal text-6xl md:text-7xl lg:text-8xl font-bold"})}),f.jsx("video",{src:GU,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"rounded-3xl shadow-lg w-full md:w-1/2 h-64 md:h-80 object-cover border-8 border-black"})]}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[f.jsx("div",{className:"w-full md:w-1/2 h-64 md:h-80 overflow-hidden rounded-3xl border-8 border-black",children:f.jsx("video",{src:HU,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover shadow-lg",style:{transform:"scale(1.15)",objectPosition:"center"}})}),f.jsx("div",{className:"w-full md:w-1/2 flex items-center justify-end md:justify-center",children:f.jsx(Eh,{text:"FOMO",className:"gradient-text-teal text-6xl md:text-7xl lg:text-8xl font-bold md:ml-[100px]"})})]})]})}),f.jsx("section",{className:"py-24 px-6 relative overflow-visible",children:f.jsx("div",{className:"max-w-7xl mx-auto",children:f.jsx("div",{className:"text-center mb-16 overflow-visible",children:f.jsx(LU,{})})})}),f.jsx("section",{ref:a=>{o.current[1]=a},id:"features","data-scene":"1",className:"relative",style:{marginTop:"-1px"},children:f.jsx(NU,{})}),f.jsxs("section",{children:[f.jsxs("div",{className:"text-center mt-16 mb-8",children:[f.jsx("h2",{className:"text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-section-heading",children:"Works With"}),f.jsx("p",{className:"text-lg md:text-xl text-section-body max-w-4xl mx-auto mt-6 px-4",children:"Our product seamlessly integrates with your existing workflow: connect with professionals on LinkedIn, manage outreach through Gmail or Outlook, organize data in Google Sheets or Excel, schedule meetings via Apple or Google Calendar, and connect on Zoom."})]}),f.jsxs("div",{className:"max-w-6xl mx-auto px-4 mb-16",children:[f.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 md:gap-12 mb-6",children:[f.jsx("img",{src:WU,alt:"LinkedIn",className:"h-16 md:h-24 lg:h-28 w-auto object-contain opacity-95 hover:opacity-100 transition-opacity"}),f.jsx("img",{src:KU,alt:"Google",className:"h-16 md:h-24 lg:h-28 w-auto object-contain opacity-95 hover:opacity-100 transition-opacity"}),f.jsx("img",{src:QU,alt:"Excel",className:"h-16 md:h-24 lg:h-28 w-auto object-contain opacity-95 hover:opacity-100 transition-opacity"}),f.jsx("img",{src:YU,alt:"Outlook",className:"h-16 md:h-24 lg:h-28 w-auto object-contain opacity-95 hover:opacity-100 transition-opacity"}),f.jsx("img",{src:XU,alt:"Zoom",className:"h-16 md:h-24 lg:h-28 w-auto object-contain opacity-95 hover:opacity-100 transition-opacity"})]}),f.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-8 md:gap-12",children:[f.jsx("img",{src:JU,alt:"Apple Mail",className:"h-16 md:h-24 lg:h-28 w-auto object-contain opacity-95 hover:opacity-100 transition-opacity"}),f.jsx("img",{src:ZU,alt:"Apple Numbers",className:"h-16 md:h-24 lg:h-28 w-auto object-contain opacity-95 hover:opacity-100 transition-opacity"}),f.jsx("img",{src:e4,alt:"Apple Calendar",className:"h-16 md:h-24 lg:h-28 w-auto object-contain opacity-95 hover:opacity-100 transition-opacity"}),f.jsx("img",{src:t4,alt:"Google Calendar",className:"h-16 md:h-24 lg:h-28 w-auto object-contain opacity-95 hover:opacity-100 transition-opacity"}),f.jsx("img",{src:n4,alt:"Gmail",className:"h-16 md:h-24 lg:h-28 w-auto object-contain opacity-95 hover:opacity-100 transition-opacity"}),f.jsx("img",{src:r4,alt:"Google Sheets",className:"h-16 md:h-24 lg:h-28 w-auto object-contain opacity-95 hover:opacity-100 transition-opacity"})]})]})]}),f.jsx("section",{ref:a=>{o.current[4]=a},id:"pricing",className:"py-24 px-6 relative","data-scene":"4",style:{marginTop:"-1px"},children:f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsxs("h2",{className:"text-display-lg text-center mb-16 text-section-heading",children:["Start ",f.jsx("span",{className:"gradient-text-teal",children:"Connecting"})," Today"]}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[f.jsxs("div",{className:"glass-card p-8 rounded-3xl",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-2xl font-bold text-section-heading",children:"Free"}),f.jsx("p",{className:"text-section-body",children:"Try out platform risk free"})]}),f.jsx("div",{className:"space-y-3 mb-8",children:["150 credits (10 emails)","Estimated time saved: 250 minutes","Try out platform risk free","Limited Features"].map(a=>f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Qm,{className:"h-5 w-5 text-blue-400 text-blue-600"}),f.jsx("span",{className:"text-section-body",children:a})]},a))}),f.jsx("button",{onClick:()=>n("/signin?mode=signup"),className:"btn-secondary-glass w-full py-4",children:"Start for free"})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full text-xs font-semibold text-white z-10",children:"RECOMMENDED"}),f.jsxs("div",{className:"glass-card p-8 rounded-3xl border-blue-500/30 border-blue-300/50 glow-teal",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-2xl font-bold text-section-heading",children:"Pro"}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("span",{className:"text-muted-foreground line-through",children:"$34.99"}),f.jsx("span",{className:"text-3xl font-bold text-blue-400 text-blue-600",children:"$8.99"}),f.jsx("span",{className:"text-section-body",children:"/month"})]}),f.jsx("p",{className:"text-section-body",children:"1800 credits"})]}),f.jsx("div",{className:"space-y-3 mb-8",children:["1800 credits (120 emails)","Estimated time saved: 2500 minutes","Everything in free plus:","Directory permanently saves","Priority Support","Advanced features"].map(a=>f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Qm,{className:"h-5 w-5 text-blue-400 text-blue-600"}),f.jsx("span",{className:"text-section-body",children:a})]},a))}),f.jsx("button",{onClick:()=>n("/signin?mode=signup"),className:"btn-primary-glass w-full py-4",children:"Start now"})]})]})]})]})}),f.jsx("section",{ref:a=>{o.current[5]=a},id:"about",className:"py-24 px-6 relative","data-scene":"5",style:{marginTop:"-1px"},children:f.jsx("div",{className:"max-w-7xl mx-auto",children:f.jsxs("div",{className:"grid md:grid-cols-2 gap-16",children:[f.jsxs("div",{className:"glass-card p-10 rounded-3xl",children:[f.jsxs("h2",{className:"text-4xl font-bold mb-6 text-section-heading",children:["Our ",f.jsx("span",{className:"gradient-text-teal",children:"Mission"})]}),f.jsx("p",{className:"text-lg text-section-body leading-relaxed mb-6",children:"To make it easier for students and young professionals to connect, stand out and land better opportunities."}),f.jsx("p",{className:"text-section-body leading-relaxed",children:"By cutting down the time to send emails and prep for calls by 90%, we save our users hundreds of hours of work and stress, giving them back time to focus on what matters: learning, growing and enjoying your best years."})]}),f.jsxs("div",{className:"glass-card p-10 rounded-3xl",children:[f.jsx("h3",{className:"text-3xl font-bold mb-6 text-section-heading",children:"Our Story"}),f.jsxs("div",{className:"space-y-4 text-section-body leading-relaxed",children:[f.jsx("p",{children:"Offerloop is a platform built by students, for students and young professionals, with one goal: to make it easier to connect with professionals, stand out, and land great opportunities."}),f.jsx("p",{children:"At USC, we saw countless students spending hours filling out spreadsheets and sending emails. Networking is essential  but the process is slow, stressful, and exhausting."}),f.jsx("p",{children:"We built Offerloop to fix that. Our platform automates outreach and organizes your recruiting workflow, helping you spend less time on tedious work and more time building real connections."})]}),f.jsx("button",{onClick:()=>n("/signin?mode=signup"),className:"btn-primary-glass mt-8 px-6 py-3",children:"Get started today "})]})]})})}),f.jsx("footer",{className:"py-16 px-6 border-t border-white/5 border-slate-300/20",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-12",children:[f.jsxs("div",{className:"md:col-span-2",id:"privacy-lock",children:[f.jsx(Kj,{}),f.jsx("div",{className:"flex items-center gap-2 mb-6",children:f.jsxs("span",{className:"text-2xl font-bold text-section-heading",children:["offer",f.jsx("span",{className:"gradient-text-teal",children:"loop"})]})}),f.jsx("p",{className:"text-section-body mb-6 max-w-md",children:"Fundamentally changing how you recruit by taking the tedious, repetitive work out of the process. Connect with professionals and build the career you're excited about."}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-section-heading mb-3",children:"Follow Us"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsx("a",{href:"https://twitter.com/offerloop",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 glass-card-light rounded-lg flex items-center justify-center hover:bg-blue-500/10 hover:border-blue-400/30 transition-all group",children:f.jsx(iA,{className:"h-4 w-4 text-section-body group-hover:text-blue-400 transition-colors"})}),f.jsx("a",{href:"https://linkedin.com/company/offerloop-ai",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 glass-card-light rounded-lg flex items-center justify-center hover:bg-blue-500/10 hover:border-blue-400/30 transition-all group",children:f.jsx(tA,{className:"h-4 w-4 text-section-body group-hover:text-blue-400 transition-colors"})}),f.jsx("a",{href:"https://instagram.com/offerloop.ai",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 glass-card-light rounded-lg flex items-center justify-center hover:bg-blue-500/10 hover:border-blue-400/30 transition-all group",children:f.jsx(ZI,{className:"h-4 w-4 text-section-body group-hover:text-blue-400 transition-colors"})})]})]})]}),f.jsxs("div",{className:"pt-16",children:[f.jsx("h3",{className:"font-semibold text-section-heading mb-4",children:"Company"}),f.jsx("ul",{className:"space-y-2",children:f.jsx("li",{children:f.jsx(Ro,{to:"/about",className:"text-section-body hover:text-blue-400 transition-colors text-sm link-slide",children:"About Us"})})})]}),f.jsxs("div",{className:"pt-16",children:[f.jsx("h3",{className:"font-semibold text-section-heading mb-4",children:"Support"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx(Ro,{to:"/contact-us",className:"text-section-body hover:text-blue-400 transition-colors text-sm link-slide",children:"Contact Us"})}),f.jsx("li",{children:f.jsx(Ro,{to:"/contact-us",className:"text-section-body hover:text-blue-400 transition-colors text-sm link-slide",children:"Help Center"})}),f.jsx("li",{children:f.jsx(Ro,{to:"/privacy",className:"text-section-body hover:text-blue-400 transition-colors text-sm link-slide",children:"Privacy Policy"})}),f.jsx("li",{children:f.jsx(Ro,{to:"/terms-of-service",className:"text-section-body hover:text-blue-400 transition-colors text-sm link-slide",children:"Terms of Service"})})]})]})]}),f.jsx("p",{className:"text-center text-muted-foreground text-sm",children:" 2025 offerloop. All rights reserved. Connecting talent with opportunity through intelligent recruiting solutions."})]})})]})]})})},i4=({children:n,className:e=""})=>f.jsx("div",{className:`min-h-screen text-foreground bg-transparent transition-colors duration-300 ${e}`,children:f.jsx("div",{className:"relative z-10",children:n})}),o4=({children:n,className:e="",glow:t=!1,variant:r="default"})=>{const s=r==="light"?"glass-card-light":"glass-card",i=t?"glow-teal":"";return f.jsx("div",{className:`${s} ${i} ${e}`,children:n})},a4=({className:n="",onClick:e,size:t="md"})=>{const r=Kd(),s={sm:"text-base",md:"text-xl",lg:"text-2xl",xl:"text-3xl"},i=()=>{e?e():r("/")};return f.jsx("div",{className:`flex items-center gap-2 cursor-pointer ${n}`,onClick:i,children:f.jsxs("span",{className:`font-bold ${s[t]}`,children:["offer",f.jsx("span",{className:"gradient-text-teal",children:"loop"})]})})},l4=()=>{const n=Kd(),e=Qd(),{toast:t}=bv(),{user:r,isLoading:s,signIn:i}=du(),o=O.useMemo(()=>new URLSearchParams(e.search).get("mode")==="signup"?"signup":"signin",[e.search]),[a,l]=O.useState(o),[u,h]=O.useState(!1),d=O.useRef(!1),m="https://www.offerloop.ai/api",g=x=>{n(x,{replace:!0}),setTimeout(()=>{const A=window.location.pathname;A!==x&&(console.warn("[signin] router nav didn't apply, forcing hard redirect",{at:A,dest:x}),window.location.replace(x))},600)},w=async()=>{try{const A=qh().currentUser;if(!A)return console.log(" No Firebase user yet, can't check Gmail"),!1;const S=await A.getIdToken();console.log(" Checking Gmail status for:",A.email);const R=await(await fetch(`${m}/api/google/gmail/status`,{headers:{Authorization:`Bearer ${S}`}})).json();return console.log(" Gmail status response:",R),!R.connected}catch(x){return console.error("Error checking Gmail status:",x),!0}},_=async(x=!1)=>{console.log(" initiateGmailOAuth CALLED",{autoClose:x});try{const S=qh().currentUser;if(console.log(" Firebase user check:",{hasUser:!!S,email:S==null?void 0:S.email,uid:S==null?void 0:S.uid}),!S){console.error(" No Firebase user when trying to start Gmail OAuth");return}console.log(" Getting ID token...");const D=await S.getIdToken();console.log(" Token obtained:",{hasToken:!!D,tokenLength:D==null?void 0:D.length,tokenPrefix:(D==null?void 0:D.substring(0,20))+"..."}),console.log(" Starting Gmail OAuth for:",S.email),console.log(" Calling OAuth start endpoint...");const R=`${m}/api/google/oauth/start?t=${Date.now()}`;console.log(" Full OAuth start URL:",R),console.log(" Token present:",!!D,"Token length:",D==null?void 0:D.length),console.log(" About to make fetch request...");let V;try{V=await fetch(R,{method:"GET",headers:{Authorization:`Bearer ${D}`,"Cache-Control":"no-cache","Content-Type":"application/json"},credentials:"include",mode:"cors"}),console.log(" Fetch completed! Status:",V.status)}catch(b){throw console.error(" Fetch error (network/CORS issue):",b),console.error(" Error details:",{name:b.name,message:b.message,stack:b.stack}),new Error(`Network error: ${b.message}. This might be a CORS issue.`)}if(console.log(" Response status:",V.status,V.statusText),console.log(" Response headers:",Object.fromEntries(V.headers.entries())),!V.ok){const b=await V.text();throw console.error(" OAuth start failed. Response body:",b),new Error(`OAuth start failed: ${V.status} ${V.statusText}. Body: ${b}`)}const E=await V.json();if(console.log(" OAuth start response received, authUrl present:",!!E.authUrl),console.log(" State token from response:",E.state),!E.authUrl)throw console.error(" No authUrl in OAuth start response:",E),new Error("OAuth start failed: No authUrl in response");if(E.authUrl){const b=r!=null&&r.needsOnboarding?"/onboarding":"/home";if(localStorage.setItem("post_gmail_destination",b),x){const T=`gmail-oauth-${Date.now()}`;console.log(" Opening Gmail OAuth in popup (auto-close)...",T);const C=window.open(E.authUrl,T,"width=600,height=700,scrollbars=yes,resizable=yes");if(!C){console.error(" Popup blocked - cannot open OAuth");return}const k=setInterval(()=>{C!=null&&C.closed&&(clearInterval(k),setTimeout(async()=>{await w()||(console.log(" Gmail OAuth completed successfully"),t({title:"Gmail Connected! ",description:"Drafts will now appear in your Gmail account."}))},1e3))},500)}else console.log(" Redirecting to Gmail OAuth IMMEDIATELY..."),console.log(" OAuth URL:",E.authUrl),console.log(" Will return to:",b),window.location.replace(E.authUrl)}else console.error(" No authUrl in response:",E)}catch(A){if(console.error("Error starting Gmail OAuth:",A),!x){const S=r!=null&&r.needsOnboarding?"/onboarding":"/home";g(S)}}};O.useEffect(()=>l(o),[o]),O.useEffect(()=>{if(e.pathname!=="/signin"||d.current)return;const x=async()=>{if(s||!r)return;d.current=!0;const A=new URLSearchParams(e.search);if(A.get("signout")==="true"){console.log(" Coming from sign-out, skipping auto-navigation");return}if(A.get("connected")==="gmail"||A.get("gmail_error")){console.log(" OAuth just completed, skipping auto-check");return}const R=A.get("gmail_error");if(R==="wrong_account")console.warn(" Gmail OAuth returned wrong_account error"),t({variant:"destructive",title:"Wrong Gmail account",description:`Please connect the Gmail account that matches your login: ${r.email}`});else if(R==="not_test_user"){console.warn(" Gmail OAuth - user not in test users list"),t({variant:"destructive",title:"Gmail Access Restricted",description:`Your email (${r.email}) needs to be added to the test users list. Please contact support or add it in Google Cloud Console > OAuth consent screen > Test users.`,duration:1e4});return}if(A.get("connected")==="gmail"){console.log(" Returned from Gmail OAuth!");const T=localStorage.getItem("post_gmail_destination")||"/home";localStorage.removeItem("post_gmail_destination"),t({title:"Gmail Connected! ",description:"You can now create drafts directly in Gmail."}),g(T);return}if(A.has("connected")||A.has("gmail_error"))return;console.log(" User signed in, navigating to app");const b=r.needsOnboarding?"/onboarding":"/home";console.log(" Navigating to:",b),g(b)};if(!s&&r){const A=setTimeout(x,1e3);return()=>clearTimeout(A)}},[r,s,e.search,e.pathname,t]),O.useEffect(()=>{r||(d.current=!1)},[r]);const v=async()=>{if(console.log(" handleGoogleAuth CALLED",{submitting:u,isLoading:s}),u||s){console.log(" Already submitting or loading, returning early");return}h(!0);try{console.log(" Initiating Google Sign-In...");const x=await i({prompt:"consent"});console.log(" Firebase sign-in completed, next step:",x),console.log(" User type check:",{isNewUser:x==="onboarding",next:x}),console.log(" Checking Gmail connection status...");const S=await w();if(console.log(" Gmail connection check result:",S),S){console.log(" Gmail not connected, starting OAuth flow IMMEDIATELY..."),console.log(" About to call initiateGmailOAuth(false)..."),await _(!1),console.log(" initiateGmailOAuth completed (should have redirected)");return}console.log(" Gmail already connected, navigating to app");const D=x==="onboarding"?"/onboarding":"/home";console.log("[signin] signIn returned:",x,"",D,"(Gmail already connected)"),g(D)}catch(x){console.error("[signin] failed:",x),h(!1),t({variant:"destructive",title:"Sign-in failed",description:(x==null?void 0:x.message)||"Please try again."})}};return f.jsx(i4,{children:f.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[f.jsxs("button",{onClick:()=>n("/"),className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-primary transition-colors mb-6",children:[f.jsx(KI,{className:"h-4 w-4"}),"Back to Home"]}),f.jsxs(o4,{className:"mt-10 p-8 rounded-2xl",children:[f.jsxs("div",{className:"mb-8 text-center",children:[f.jsx(a4,{size:"lg",className:"justify-center mb-4"}),f.jsx("h1",{className:"text-display-lg text-foreground mb-2",children:a==="signup"?"Create your account":"Welcome back"}),f.jsx("p",{className:"text-muted-foreground",children:a==="signup"?"Get started with Offerloop in seconds":"Sign in to continue to your account"})]}),f.jsxs("div",{className:"flex gap-4 mb-6",children:[f.jsx("button",{className:`px-4 py-2 rounded-xl border transition-all ${a==="signin"?"bg-primary/10 border-primary/50 text-foreground font-medium":"border-border text-muted-foreground hover:border-primary/30 hover:text-foreground"}`,onClick:()=>l("signin"),disabled:u,children:"Sign in"}),f.jsx("button",{className:`px-4 py-2 rounded-xl border transition-all ${a==="signup"?"bg-primary/10 border-primary/50 text-foreground font-medium":"border-border text-muted-foreground hover:border-primary/30 hover:text-foreground"}`,onClick:()=>l("signup"),disabled:u,children:"Create account"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:v,disabled:u||s,className:"btn-primary-glass w-full inline-flex items-center justify-center gap-2 px-4 py-3 font-medium disabled:opacity-60",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"h-5 w-5","aria-hidden":"true",children:[f.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303C33.96 32.99 29.453 36 24 36c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.06 0 5.84 1.154 7.949 3.042l5.657-5.657C34.869 6.057 29.706 4 24 4 12.954 4 4 12.954 4 24s8.954 20 20 20c10.493 0 19.128-8.08 19.128-20 0-1.341-.138-2.651-.4-3.917z"}),f.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.817C14.39 16.564 18.879 14 24 14c3.06 0 5.84 1.154 7.949 3.042l5.657-5.657C34.869 6.057 29.706 4 24 4c-7.668 0-14.266 4.343-17.694 10.691z"}),f.jsx("path",{fill:"#4CAF50",d:"M24 44c5.453 0 10.01-1.787 13.49-4.852l-6.23-5.253C29.207 35.385 26.78 36 24 36c-5.438 0-10.028-3.668-11.66-8.67l-6.5 5.01C8.257 38.926 15.44 44 24 44z"}),f.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303c-1.098 3.24-3.48 5.773-6.043 7.091l6.23 5.253C37.147 38.47 40 32.943 40 26c0-2.055-.222-3.92-.611-5.917z"})]}),a==="signup"?"Continue with Google":"Sign in with Google"]}),f.jsxs("div",{className:"text-xs text-muted-foreground space-y-2",children:[f.jsx("p",{children:a==="signup"?"Step 1: Sign in to Offerloop. Step 2: Connect Gmail to allow draft creation.":"Sign in, then connect Gmail to allow draft creation in your account."}),f.jsxs("p",{className:"text-muted-foreground/80",children:[" We'll never send emails without your permission",f.jsx("br",{})," We only create drafts in your Gmail",f.jsx("br",{})," You review and send all emails yourself"]})]})]})]})]})})},c4=()=>(O.useEffect(()=>{var r,s;const n=new URLSearchParams(window.location.search),e=n.get("code"),t=n.get("error");t?(r=window.opener)==null||r.postMessage({type:"GOOGLE_AUTH_ERROR",error:t},window.location.origin):e&&((s=window.opener)==null||s.postMessage({type:"GOOGLE_AUTH_SUCCESS",code:e},window.location.origin))},[]),f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),f.jsx("p",{children:"Completing authentication..."})]})}));function u4(){return f.jsx("div",{style:{height:"100vh",width:"100vw",overflow:"hidden",margin:0},children:f.jsx("iframe",{src:"https://survey.offerloop.ai/?transparentBackground=1&formEventsForwarding=1",title:"Offerloop Closed Beta (USC)",style:{border:0,width:"100%",height:"100%"},frameBorder:0,marginHeight:0,marginWidth:0})})}const h4=U.lazy(()=>tt(()=>import("./Home-BrkYcwtg.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]))),d4=U.lazy(()=>tt(()=>import("./AboutUs-BXUz5Y1q.js"),__vite__mapDeps([35,1,2,36,22]))),f4=U.lazy(()=>tt(()=>import("./Contact-Hhhl_I-q.js"),__vite__mapDeps([37,1,2,36,38,5,19,17,12,18,23,32,24]))),p4=U.lazy(()=>tt(()=>import("./CoffeeChatLibrary-DVX2u9gd.js"),__vite__mapDeps([39,1,2,4,5,6,7,8,9,10,11,12,13,15,26,20,40,33,34]))),m4=U.lazy(()=>tt(()=>import("./ContactDirectory-CO2GC2yd.js"),__vite__mapDeps([41,1,2,42,5,14,15,29,34,23,8,7,28]))),g4=U.lazy(()=>tt(()=>import("./ContactUs-Ca2EJn8n.js"),__vite__mapDeps([43,1,2,36,23,32,24]))),y4=U.lazy(()=>tt(()=>import("./PrivacyPolicy-D56n5d79.js"),__vite__mapDeps([44,1,2,36]))),_4=U.lazy(()=>tt(()=>import("./TermsOfService-CFK_crrD.js"),__vite__mapDeps([45,1,2,36]))),v4=U.lazy(()=>tt(()=>import("./TermsOfServiceSettings-jellYg-m.js"),__vite__mapDeps([46,1,2,36]))),w4=U.lazy(()=>tt(()=>import("./AccountSettings-DcBnVar6.js"),__vite__mapDeps([47,1,2,5,17,12,18,48,49,30,8,25,6,20,26,34,10]))),b4=U.lazy(()=>tt(()=>import("./Pricing-DJLo6xKL.js"),__vite__mapDeps([50,1,2,11,10])));U.lazy(()=>tt(()=>import("./Dashboard-CyfU9dhQ.js"),__vite__mapDeps([51,1,2,36,38,21,13])));const T4=U.lazy(()=>tt(()=>import("./DashboardPage-BAAjHtfx.js"),__vite__mapDeps([3,1,2,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34]))),x4=U.lazy(()=>tt(()=>import("./NotFound-XXMLaPm-.js"),__vite__mapDeps([52,1,2]))),E4=U.lazy(()=>tt(()=>import("./PaymentSuccess-BZj5Xbi8.js"),__vite__mapDeps([53,1,2,20,54]))),I4=U.lazy(()=>tt(()=>import("./CoffeeChatPrepPage-BpSGcAxn.js"),__vite__mapDeps([55,1,2,4,5,6,7,8,9,10,11,12,13,38,56,25,57,27,28,20,15,58,16,14,26,54,24,40,33,34]))),A4=U.lazy(()=>tt(()=>import("./ContactSearchPage-DEzf4XBs.js"),__vite__mapDeps([59,1,2,4,5,6,7,8,9,10,11,12,13,56,38,42,14,15,29,34,23,28,49,30,20,58,16,27,26]))),S4=U.lazy(()=>tt(()=>import("./InterviewPrepPage--8WXAYMg.js"),__vite__mapDeps([60,1,2,4,5,6,7,8,9,10,11,12,13,56,15,38,25,57,27,28,20,58,16,14,26,54,40]))),P4=U.lazy(()=>tt(()=>import("./FirmSearchPage-Bq2jERcN.js"),__vite__mapDeps([61,1,2,4,5,6,7,8,9,10,11,12,13,56,38,15,33,22,20,34,18,27,28]))),R4=U.lazy(()=>tt(()=>import("./OnboardingFlow-C6AdVQYP.js"),__vite__mapDeps([62,1,2,7,9,17,12,18,48,30,49,8,25,33,20,5,26])).then(n=>({default:n.OnboardingFlow}))),C4=new uP({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,refetchOnWindowFocus:!1,retry:1}}}),nt=()=>f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(dV,{})}),RE=(...n)=>{},on=({children:n})=>{const{user:e,isLoading:t}=du(),r=Qd(),i=new URLSearchParams(r.search).get("signedOut")==="true";if(RE(" [PROTECTED ROUTE] Route check:",{path:r.pathname,search:r.search,isLoading:t,hasUser:!!e,userEmail:(e==null?void 0:e.email)||"none",needsOnboarding:(e==null?void 0:e.needsOnboarding)||!1,isSignedOut:i}),t)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(i)return f.jsx(or,{to:"/?signedOut=true",replace:!0});if(!e){const o=encodeURIComponent(r.pathname+r.search+r.hash);return f.jsx(or,{to:`/signin?mode=signin&returnTo=${o}`,replace:!0})}if(e.needsOnboarding){if(r.pathname==="/onboarding")return f.jsx(f.Fragment,{children:n});const o=encodeURIComponent(r.pathname+r.search+r.hash);return f.jsx(or,{to:`/onboarding?returnTo=${o}`,replace:!0})}return f.jsx(f.Fragment,{children:n})},Ll=({children:n})=>{const{user:e,isLoading:t}=du(),r=Qd(),i=new URLSearchParams(r.search).get("signedOut")==="true";return RE(" [PUBLIC ROUTE] Route check:",{path:r.pathname,search:r.search,isSignedOut:i,isLoading:t,hasUser:!!e,userEmail:(e==null?void 0:e.email)||"none",needsOnboarding:(e==null?void 0:e.needsOnboarding)||!1}),t?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):i?f.jsx(f.Fragment,{children:n}):e?(e.needsOnboarding,e.needsOnboarding?f.jsx(or,{to:"/onboarding",replace:!0}):f.jsx(or,{to:"/home",replace:!0})):f.jsx(f.Fragment,{children:n})},k4=()=>f.jsxs(gI,{children:[f.jsx(Te,{path:"/",element:f.jsx(Ll,{children:f.jsx(s4,{})})}),f.jsx(Te,{path:"/usc-beta",element:f.jsx(u4,{})}),f.jsx(Te,{path:"/signin",element:f.jsx(Ll,{children:f.jsx(l4,{})})}),f.jsx(Te,{path:"/signup",element:f.jsx(or,{to:"/signin?mode=signup",replace:!0})}),f.jsx(Te,{path:"/auth/callback",element:f.jsx(Ll,{children:f.jsx(c4,{})})}),f.jsx(Te,{path:"/onboarding",element:f.jsx(on,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(R4,{onComplete:()=>{}})})})}),f.jsx(Te,{path:"/onboarding/*",element:f.jsx(or,{to:"/onboarding",replace:!0})}),f.jsx(Te,{path:"/home",element:f.jsx(on,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(h4,{})})})}),f.jsx(Te,{path:"/dashboard",element:f.jsx(on,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(T4,{})})})}),f.jsx(Te,{path:"/contact-directory",element:f.jsx(on,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(m4,{})})})}),f.jsx(Te,{path:"/coffee-chat-library",element:f.jsx(on,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(p4,{})})})}),f.jsx(Te,{path:"/account-settings",element:f.jsx(on,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(w4,{})})})}),f.jsx(Te,{path:"/pricing",element:f.jsx(on,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(b4,{})})})}),f.jsx(Te,{path:"/payment-success",element:f.jsx(on,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(E4,{})})})}),f.jsx(Te,{path:"/coffee-chat-prep",element:f.jsx(on,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(I4,{})})})}),f.jsx(Te,{path:"/contact-search",element:f.jsx(on,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(A4,{})})})}),f.jsx(Te,{path:"/interview-prep",element:f.jsx(on,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(S4,{})})})}),f.jsx(Te,{path:"/firm-search",element:f.jsx(on,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(P4,{})})})}),f.jsx(Te,{path:"/about",element:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(d4,{})})}),f.jsx(Te,{path:"/contact",element:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(f4,{})})}),f.jsx(Te,{path:"/contact-us",element:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(g4,{})})}),f.jsx(Te,{path:"/privacy",element:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(y4,{})})}),f.jsx(Te,{path:"/privacy-policy",element:f.jsx(or,{to:"/privacy",replace:!0})}),f.jsx(Te,{path:"/terms-of-service",element:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(_4,{})})}),f.jsx(Te,{path:"/terms",element:f.jsx(or,{to:"/terms-of-service",replace:!0})}),f.jsx(Te,{path:"/terms-of-service-settings",element:f.jsx(Ll,{children:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(v4,{})})})}),f.jsx(Te,{path:"*",element:f.jsx(O.Suspense,{fallback:f.jsx(nt,{}),children:f.jsx(x4,{})})})]}),N4=()=>f.jsx(dP,{client:C4,children:f.jsx(LS,{children:f.jsx(lV,{children:f.jsxs("div",{className:"relative min-h-screen",children:[f.jsx(hV,{}),f.jsxs("div",{className:"relative z-10",children:[f.jsx($A,{}),f.jsx(yS,{}),f.jsx(uV,{children:f.jsx(mI,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsx(k4,{})})})]})]})})})});wv(document.getElementById("root")).render(f.jsx(N4,{}));export{KI as A,ad as B,Qm as C,W4 as D,Q4 as E,X4 as F,o4 as G,Yu as H,ZI as I,Y4 as J,K4 as K,tA as L,Z4 as M,$v as N,LS as O,i4 as P,j4 as Q,F4 as R,jS as S,st as T,sn as U,M4 as V,sB as W,aA as X,tt as _,du as a,wr as b,ss as c,fi as d,Es as e,eB as f,Qu as g,tB as h,Xu as i,nB as j,MC as k,xs as l,qh as m,a4 as n,z4 as o,zv as p,He as q,rB as r,aV as s,xI as t,bv as u,YI as v,cV as w,dV as x,J4 as y,H4 as z};
