import{r as c,j as t,u as ne,a0 as de,ap as ce,a1 as me,z as $,aq as ue,aI as pe,at as fe}from"./vendor-react-Bye97upB.js";import{a as q,u as xe,f as ge,B as C}from"./index-DlXH6OO2.js";import{I as _}from"./input-BsyuEDo1.js";import{A as he,a as be,b as ye,c as je,d as Ne,e as we,f as ve,g as ke}from"./alert-dialog-KUAtmkvf.js";import{f as I}from"./firebaseApi-DU162AUl.js";import{a as V}from"./api-Cs6ol7d5.js";const Se=()=>{const{user:h}=q(),[r,v]=c.useState(!1),[o,d]=c.useState(!1);c.useEffect(()=>{h&&!r&&!o&&m()},[h,r,o]);const m=async()=>{if(h){d(!0);try{const x=`firebase_migration_${h.uid}`;if(localStorage.getItem(x)){v(!0),d(!1);return}console.log("Starting Firebase migration for user:",h.uid);const j=localStorage.getItem("professionalInfo");if(j)try{const u=JSON.parse(j);await I.saveProfessionalInfo(h.uid,u),console.log("Migrated professional info to Firestore")}catch(u){console.error("Failed to migrate professional info:",u)}const k=Object.keys(localStorage).filter(u=>u.startsWith("contacts_"));for(const u of k)try{const N=localStorage.getItem(u);if(N){const y=JSON.parse(N);Array.isArray(y)&&y.length>0&&(await I.bulkCreateContacts(h.uid,y),console.log(`Migrated ${y.length} contacts from ${u}`))}}catch(N){console.error(`Failed to migrate contacts from ${u}:`,N)}localStorage.setItem(x,"true"),v(!0),console.log("Firebase migration completed successfully")}catch(x){console.error("Firebase migration failed:",x)}finally{d(!1)}}};return{migrationComplete:r,migrationInProgress:o,isLoading:o,migrateLocalStorageData:m}},Ce=({contactId:h,contactEmail:r,gmailThreadId:v,hasUnreadReply:o=!1,notificationsMuted:d=!1,onStateChange:m})=>{const{toast:x}=xe(),[j,k]=c.useState(!1),u=async g=>{if(g.stopPropagation(),!v){x({title:"No Gmail Thread",description:"No email has been sent to this contact yet.",variant:"destructive"});return}k(!0);try{if(o){const b=await V.generateReplyDraft(h);if("error"in b)throw new Error(b.error);window.open(b.gmailUrl,"_blank"),x({title:"Reply Draft Created",description:"Opening Gmail with your draft reply..."}),m==null||m()}else window.open(`https://mail.google.com/mail/u/0/#inbox/${v}`,"_blank")}catch(b){x({title:"Error",description:b instanceof Error?b.message:"Failed to open Gmail thread",variant:"destructive"})}finally{k(!1)}},N=async g=>{g.stopPropagation();try{const b=await V.muteContactNotifications(h,!d);if("error"in b)throw new Error(b.error);x({title:d?"Notifications Enabled":"Notifications Muted",description:d?`You'll receive notifications for ${r}`:`Notifications muted for ${r}`}),m==null||m()}catch{x({title:"Error",description:"Failed to toggle notifications",variant:"destructive"})}},y=()=>d?"Notifications muted":o?"Reply received — open thread":"View sent thread",S=()=>d?"/bell_mute.jpg":o?"/bell_notification.jpg":"/bell.jpg",i=()=>{const g="h-5 w-5 cursor-pointer transition-all duration-200 object-contain";return d?`${g} opacity-60 hover:opacity-80`:o?`${g} animate-pulse`:`${g} hover:opacity-80`};return t.jsxs("div",{className:"relative group",children:[t.jsx("div",{className:"relative flex items-center justify-center",onClick:d?N:u,onContextMenu:g=>{g.preventDefault(),N(g)},children:t.jsx("img",{src:S(),alt:y(),className:i(),title:y(),style:o?{filter:"drop-shadow(0 0 4px rgba(34, 212, 197, 0.6))"}:void 0})}),t.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 text-xs text-white bg-gray-800 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 shadow-lg",children:[y(),t.jsxs("span",{className:"block text-[10px] text-gray-400 mt-0.5",children:["Right-click to ",d?"unmute":"mute"]})]})]})},K=[{value:"Not Contacted",color:"#A0A0A0",label:"Not Contacted"},{value:"Contacted",color:"#4285F4",label:"Contacted"},{value:"Followed Up",color:"#FB8C00",label:"Followed Up"},{value:"Responded",color:"#34A853",label:"Responded"},{value:"Call Scheduled",color:"#9C27B0",label:"Call Scheduled"},{value:"Rejected",color:"#EA4335",label:"Rejected"},{value:"Hired",color:"#FFD700",label:"Hired"}],$e=()=>{const h=ne(),{user:r}=q(),{isLoading:v}=Se(),[o,d]=c.useState([]),[m,x]=c.useState([]),[j,k]=c.useState(""),[u,N]=c.useState(!0),[y,S]=c.useState(null),[i,g]=c.useState(null),[b,R]=c.useState(!1),[E,M]=c.useState(null),[Y,G]=c.useState(!1),[X,Z]=c.useState({}),[H,O]=c.useState(!1),P=()=>r?`contacts_${r.uid}`:"contacts_anonymous",ee=e=>({id:e.id,firstName:e.firstName||e.first_name||"",lastName:e.lastName||e.last_name||"",linkedinUrl:e.linkedinUrl||e.linkedin_url||"",email:e.email||"",company:e.company||"",jobTitle:e.jobTitle||e.job_title||"",college:e.college||"",location:e.location||"",firstContactDate:e.firstContactDate||e.first_contact_date||"",status:e.status||"Not Contacted",lastContactDate:e.lastContactDate||e.last_contact_date||"",emailSubject:e.emailSubject||e.email_subject||"",emailBody:e.emailBody||e.email_body||"",gmailDraftId:e.gmailDraftId||e.gmail_draft_id||"",gmailDraftUrl:e.gmailDraftUrl||e.gmail_draft_url||"",createdAt:e.createdAt||e.created_at,updatedAt:e.updatedAt||e.updated_at,gmailThreadId:e.gmailThreadId||e.gmail_thread_id,gmailMessageId:e.gmailMessageId||e.gmail_message_id,hasUnreadReply:e.hasUnreadReply||e.has_unread_reply||!1,notificationsMuted:e.notificationsMuted||e.notifications_muted||!1,draftCreatedAt:e.draftCreatedAt,lastChecked:e.lastChecked,mutedAt:e.mutedAt}),F=async()=>{try{if(N(!0),S(null),r){const a=(await I.getContacts(r.uid)).map(ee);d(a)}else{const e=localStorage.getItem(P());if(e)try{const a=JSON.parse(e);d(Array.isArray(a)?a:[])}catch(a){console.error("Error parsing stored contacts:",a),d([])}else d([])}}catch(e){console.error("Error loading contacts:",e),S("Failed to load contacts"),d([])}finally{N(!1)}},te=async e=>{try{r||localStorage.setItem(P(),JSON.stringify(e))}catch(a){console.error("Error saving contacts:",a)}},ae=e=>Object.fromEntries(Object.entries(e).filter(([,a])=>a!==void 0)),J=async e=>{try{const a=new Date().toLocaleDateString("en-US"),n=e.map(s=>ae({firstName:s.FirstName??s.firstName??"",lastName:s.LastName??s.lastName??"",linkedinUrl:s.LinkedIn??s.linkedinUrl??"",email:s.Email??s.email??"",company:s.Company??s.company??"",jobTitle:s.Title??s.jobTitle??"",college:s.College??s.college??"",location:`${s.City??""}${s.City&&s.State?", ":""}${s.State??""}`.trim()||s.location||"",firstContactDate:a,status:"Not Contacted",lastContactDate:a,emailSubject:s.email_subject??s.emailSubject??void 0,emailBody:s.email_body??s.emailBody??void 0,gmailThreadId:s.gmailThreadId??s.gmail_thread_id??void 0,gmailMessageId:s.gmailMessageId??s.gmail_message_id??void 0,hasUnreadReply:!1,notificationsMuted:!1}));if(r)await I.bulkCreateContacts(r.uid,n),await F();else{const s=[...o];n.forEach(l=>{s.some(B=>B.email&&l.email&&B.email.toLowerCase()===l.email.toLowerCase())||s.push({...l,id:`local_${Date.now()}_${Math.random()}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}),d(s),await te(s)}}catch(a){console.error("Error adding contacts:",a),S("Failed to add contacts")}},T=c.useCallback(async()=>{if(!(!o||o.length===0||H||!r)){O(!0);try{const e=o.filter(n=>n.gmailThreadId&&!n.notificationsMuted&&n.id).map(n=>n.id).filter(Boolean);if(e.length===0){O(!1);return}const a=await V.batchCheckReplies(e);"results"in a&&Z(a.results)}catch(e){console.error("Error checking replies:",e)}finally{O(!1)}}},[o,H,r]);c.useEffect(()=>{if(r&&o.length>0){T();const e=setInterval(()=>T(),12e4);return()=>clearInterval(e)}},[r,o.length,T]),c.useEffect(()=>(window.addContactsToDirectory=J,()=>{delete window.addContactsToDirectory}),[J]),c.useEffect(()=>{if(!j.trim()){x(o);return}const e=o.filter(a=>Object.values(a).some(n=>n==null?void 0:n.toString().toLowerCase().includes(j.toLowerCase())));x(e)},[j,o]);const D=async(e,a,n)=>{try{if(d(s=>s.map(l=>{if(l.id===e){const w={...l,[a]:n};return a==="status"&&n!==l.status&&(w.lastContactDate=new Date().toLocaleDateString("en-US")),w}return l})),r&&e&&!e.startsWith("local_")){const s={[a]:n};a==="status"&&(s.lastContactDate=new Date().toLocaleDateString("en-US")),await I.updateContact(r.uid,e,s)}}catch(s){console.error("Error updating contact:",s),S("Failed to update contact")}},L=(e,a)=>{a==="status"||a==="actions"||g({row:e,col:a})},A=()=>{g(null)},se=e=>{const a=e.email;if(!a)return"#";const n=e.emailSubject||`Question about your work at ${e.company||"your company"}`,s=e.emailBody||`Hi ${e.firstName||"there"},

I'd love to connect and learn more about your work.

Best regards`;return`mailto:${encodeURIComponent(a)}?subject=${encodeURIComponent(n)}&body=${encodeURIComponent(s.replace(/\n/g,`\r
`))}`},re=e=>{if(e.gmailDraftUrl)return e.gmailDraftUrl;const a=e.email;if(!a)return"#";const n=e.emailSubject||`Question about your work at ${e.company||"your company"}`,s=e.emailBody||`Hi ${e.firstName||"there"},

I'd love to connect and learn more about your work.

Best regards`;return`https://mail.google.com/mail/?view=cm&to=${encodeURIComponent(a)}&su=${encodeURIComponent(n)}&body=${encodeURIComponent(s)}`},oe=e=>{if(e.gmailDraftUrl){window.open(e.gmailDraftUrl,"_blank");return}M(e),R(!0)},Q=e=>{E&&(e==="apple"?window.open(se(E),"_blank"):window.open(re(E),"_blank"),R(!1),M(null))},z=e=>{if(e.firstName&&e.lastName)return`${e.firstName} ${e.lastName}`;if(e.firstName)return e.firstName;if(e.lastName)return e.lastName;if(e.email)return e.email.split("@")[0];if(e.linkedinUrl){const a=e.linkedinUrl.match(/linkedin\.com\/in\/([^\/\?]+)/);return a?a[1]:"Unknown Contact"}return"Unknown Contact"},le=()=>{if(!o||o.length===0)return;if((r==null?void 0:r.tier)==="free"){G(!0);return}const a=["First Name","Last Name","Email","LinkedIn","Job Title","Company","Location","College","Status","First Contact Date","Last Contact Date","Email Subject","Email Body","Gmail Draft URL"].join(","),n=o.map(p=>{const f=W=>{if(!W)return"";const U=String(W);return U.includes(",")||U.includes('"')||U.includes(`
`)?`"${U.replace(/"/g,'""')}"`:U};return[f(p.firstName),f(p.lastName),f(p.email),f(p.linkedinUrl),f(p.jobTitle),f(p.company),f(p.location),f(p.college),f(p.status),f(p.firstContactDate),f(p.lastContactDate),f(p.emailSubject),f(p.emailBody),f(p.gmailDraftUrl)].join(",")}),s=[a,...n].join(`
`),l=new Blob([s],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),B=URL.createObjectURL(l);w.setAttribute("href",B),w.setAttribute("download",`contact_library_${new Date().toISOString().split("T")[0]}.csv`),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w)},ie=async()=>{if(window.confirm("Are you sure you want to delete all contacts? This action cannot be undone."))try{r?(await I.clearAllContacts(r.uid),d([])):(localStorage.removeItem(P()),d([]))}catch(e){console.error("Error clearing contacts:",e),S("Failed to clear contacts")}};return c.useEffect(()=>{v||F()},[r,v]),v||u?t.jsx("div",{className:"space-y-4",children:t.jsx(ge,{variant:"contacts",count:5})}):t.jsxs("div",{className:"space-y-4",children:[o.length>0&&t.jsxs("div",{className:"flex justify-between items-center bg-card rounded-lg border border-border p-4",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-foreground",children:[o.length," contact",o.length!==1?"s":""," saved"]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Export your contacts to CSV for further analysis"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(C,{onClick:le,disabled:(r==null?void 0:r.tier)==="free",className:`gap-2 ${(r==null?void 0:r.tier)==="free"?"bg-gray-400 hover:bg-gray-400 cursor-not-allowed opacity-60":"bg-blue-600 hover:bg-blue-700"}`,title:(r==null?void 0:r.tier)==="free"?"Upgrade to Pro or Elite to export CSV":"Export contacts to CSV",children:[t.jsx(de,{className:"h-4 w-4"}),"Export CSV"]}),t.jsx(C,{variant:"outline",size:"sm",onClick:F,disabled:u,className:"border-border text-foreground hover:bg-secondary",children:t.jsx(ce,{className:`h-4 w-4 ${u?"animate-spin":""}`})}),t.jsx(C,{variant:"outline",size:"sm",onClick:ie,className:"text-destructive border-destructive hover:bg-destructive/10",children:t.jsx(me,{className:"h-4 w-4"})})]})]}),y&&t.jsx("div",{className:"bg-destructive/10 border border-destructive text-destructive px-6 py-3 rounded-lg",children:y}),o.length===0?t.jsxs("div",{className:"bg-card rounded-lg border border-border p-12 text-center",children:[t.jsx($,{className:"h-10 w-10 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-foreground mb-2",children:"No contacts to display yet"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:'Switch to the "Contact Search" tab to find contacts'})]}):t.jsxs("div",{className:"bg-card backdrop-blur-sm rounded-xl shadow-sm border border-border overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-border bg-muted",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx($,{className:"h-5 w-5 text-blue-400"}),t.jsxs("span",{className:"font-medium text-foreground",children:[m.length," ",m.length===1?"contact":"contacts",j&&` (filtered from ${o.length})`]})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Click on cells to edit contact information"})]})}),t.jsx("div",{className:"px-6 py-4 border-b border-border bg-background",children:t.jsxs("div",{className:"relative w-80",children:[t.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),t.jsx(_,{type:"text",placeholder:"Search contacts...",value:j,onChange:e=>k(e.target.value),className:"pl-10 bg-muted border-border text-foreground placeholder-muted-foreground focus:border-primary focus:ring-primary"})]})}),m.length===0&&o.length>0&&j&&t.jsxs("div",{className:"px-6 py-12 text-center",children:[t.jsx("p",{className:"text-muted-foreground mb-2",children:"No contacts match your search."}),t.jsx("button",{onClick:()=>k(""),className:"text-sm text-blue-600 hover:text-blue-700 underline",children:"Clear search"})]}),m.length>0&&t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-border",children:[t.jsx("thead",{className:"bg-muted",children:t.jsxs("tr",{children:[t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Contact"}),t.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"LinkedIn"}),t.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Email"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Company"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Role"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Location"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),t.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-background divide-y divide-border",children:m.map((e,a)=>{var s;const n=K.find(l=>l.value===e.status);return t.jsxs("tr",{className:"hover:bg-secondary transition-colors",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-500/20 rounded-lg flex items-center justify-center border border-blue-500/30",children:t.jsx(pe,{className:"h-5 w-5 text-blue-400"})}),t.jsx("div",{className:"ml-4 flex-1",children:(i==null?void 0:i.row)===a&&(i==null?void 0:i.col)==="name"?t.jsxs("div",{className:"space-y-1",children:[t.jsx(_,{value:e.firstName,onChange:l=>D(e.id,"firstName",l.target.value),onBlur:A,placeholder:"First name",className:"text-sm h-8 bg-background border-input text-foreground",autoFocus:!0}),t.jsx(_,{value:e.lastName,onChange:l=>D(e.id,"lastName",l.target.value),onBlur:A,placeholder:"Last name",className:"text-sm h-8 bg-background border-input text-foreground"})]}):t.jsx("div",{onClick:()=>L(a,"name"),className:"cursor-text",children:t.jsx("div",{className:"text-sm font-medium text-foreground",children:z(e)})})})]})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.linkedinUrl?t.jsxs("a",{href:e.linkedinUrl.startsWith("http")?e.linkedinUrl:`https://${e.linkedinUrl}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-700 hover:underline text-sm",children:[t.jsx(fe,{className:"h-4 w-4"}),t.jsx("span",{className:"truncate max-w-[200px]",children:e.linkedinUrl.replace(/^https?:\/\//g,"")})]}):t.jsx("span",{className:"text-muted-foreground",children:"—"})}),t.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.email?t.jsx("span",{className:"text-sm text-foreground",children:e.email}):t.jsx("span",{className:"text-muted-foreground",children:"—"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(i==null?void 0:i.row)===a&&(i==null?void 0:i.col)==="company"?t.jsx(_,{value:e.company,onChange:l=>D(e.id,"company",l.target.value),onBlur:A,className:"text-sm h-8 bg-background border-input text-foreground",autoFocus:!0}):t.jsx("div",{onClick:()=>L(a,"company"),className:"cursor-text hover:bg-muted rounded px-2 py-1 text-sm text-foreground",children:e.company||t.jsx("span",{className:"text-muted-foreground",children:"—"})})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(i==null?void 0:i.row)===a&&(i==null?void 0:i.col)==="jobTitle"?t.jsx(_,{value:e.jobTitle,onChange:l=>D(e.id,"jobTitle",l.target.value),onBlur:A,className:"text-sm h-8 bg-background border-input text-foreground",autoFocus:!0}):t.jsx("div",{onClick:()=>L(a,"jobTitle"),className:"cursor-text hover:bg-muted rounded px-2 py-1 text-sm text-foreground",children:e.jobTitle||t.jsx("span",{className:"text-muted-foreground",children:"—"})})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(i==null?void 0:i.row)===a&&(i==null?void 0:i.col)==="location"?t.jsx(_,{value:e.location,onChange:l=>D(e.id,"location",l.target.value),onBlur:A,className:"text-sm h-8 bg-background border-input text-foreground",autoFocus:!0}):t.jsx("div",{onClick:()=>L(a,"location"),className:"cursor-text hover:bg-muted rounded px-2 py-1 text-sm text-foreground",children:e.location||t.jsx("span",{className:"text-muted-foreground",children:"—"})})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("select",{value:e.status,onChange:l=>D(e.id,"status",l.target.value),className:"flex-1 text-xs bg-background border-input text-foreground focus:ring-1 focus:ring-blue-500 cursor-pointer rounded px-2 py-1",style:{color:n==null?void 0:n.color},children:K.map(l=>t.jsx("option",{value:l.value,style:{color:l.color,backgroundColor:"#ffffff"},children:l.label},l.value))}),e.gmailThreadId&&e.id&&t.jsx(Ce,{contactId:e.id,contactEmail:e.email,gmailThreadId:e.gmailThreadId,hasUnreadReply:((s=X[e.id])==null?void 0:s.isUnread)||!1,notificationsMuted:e.notificationsMuted||!1,onStateChange:()=>{F(),T()}})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.email?t.jsx(C,{size:"sm",variant:"ghost",onClick:()=>oe(e),className:"hover:bg-muted text-muted-foreground hover:text-foreground",title:`Email ${z(e)}${e.emailSubject?" (Generated email available)":""}`,children:t.jsx($,{className:`h-4 w-4 ${e.emailSubject,"text-blue-600"}`})}):t.jsx("span",{className:"text-muted-foreground",children:"—"})})]},e.id)})})]})}),m.length>0&&t.jsx("div",{className:"px-6 py-4 border-t border-border bg-muted",children:t.jsxs("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:[t.jsx("p",{className:"text-center flex-1",children:"Click on cells to edit contact information"}),t.jsxs("p",{className:"text-xs",children:[(m||o).filter(e=>e.emailSubject).length," contacts have generated emails"]})]})})]}),b&&E&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-card rounded-lg p-6 max-w-md w-full mx-4 border border-border shadow-lg",children:[t.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Choose Email App"}),t.jsxs("p",{className:"text-muted-foreground mb-6",children:["Send email to ",z(E)]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(C,{onClick:()=>Q("apple"),className:"flex-1 bg-muted hover:bg-muted/80 text-foreground py-6",children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx($,{className:"h-6 w-6"}),t.jsx("span",{children:"Apple Mail"})]})}),t.jsx(C,{onClick:()=>Q("gmail"),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-6",children:t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx($,{className:"h-6 w-6"}),t.jsx("span",{children:"Gmail"})]})})]}),t.jsx(C,{onClick:()=>{R(!1),M(null)},variant:"ghost",className:"w-full mt-4 text-muted-foreground hover:text-foreground",children:"Cancel"})]})}),t.jsx(he,{open:Y,onOpenChange:G,children:t.jsxs(be,{children:[t.jsxs(ye,{children:[t.jsx(je,{children:"Upgrade to Export CSV"}),t.jsx(Ne,{children:"CSV export is available for Pro and Elite tier users. Upgrade your plan to export your contacts to CSV for further analysis."})]}),t.jsxs(we,{children:[t.jsx(ve,{children:"Cancel"}),t.jsx(ke,{onClick:()=>h("/pricing"),className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-600",children:"Upgrade to Pro/Elite"})]})]})})]})};export{$e as S};
