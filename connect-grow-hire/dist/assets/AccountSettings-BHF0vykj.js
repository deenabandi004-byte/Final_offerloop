const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DlXH6OO2.js","assets/vendor-react-Bye97upB.js","assets/vendor-utils-B2rm_Apj.js","assets/vendor-dates-CPvpAlHY.js","assets/vendor-firebase-Bz1e_Tmy.js","assets/vendor-animations-CH_iu5NA.js","assets/index-BSrx6Tbf.css"])))=>i.map(i=>d[i]);
import{a as Be,P as _e,B as f,G as J,c as re,_ as P,d as D,s as We,t as V,b as Y}from"./index-DlXH6OO2.js";import{u as He,r as m,j as e,s as Je,O as Ve,a2 as Ye,K as ne,a1 as ie,a3 as $e,a4 as oe,l as le,a5 as Ke,a6 as ze}from"./vendor-react-Bye97upB.js";import{I as y}from"./input-BsyuEDo1.js";import{L as u,S as ce,a as de,b as ue,c as me,d as he}from"./select-DaEaeXXz.js";import{C as Xe}from"./checkbox-BiiJ_FTz.js";import{C as ge,a as pe,b as fe,c as xe,d as Ne,e as je}from"./command-DaT5oLXh.js";import{P as ye,a as be,b as ve}from"./popover-Cq5kWw5l.js";import{B as Se}from"./badge-2lG78ATG.js";import{A as Ze,a as qe}from"./avatar-B3L_DT4r.js";import{d as E,e as Ce,r as Qe,l as ea,u as we,h as Ie,m as aa}from"./vendor-firebase-Bz1e_Tmy.js";const sa=["January","February","March","April","May","June","July","August","September","October","November","December"],ta=["High School","Associate's","Bachelor's","Master's","PhD","JD","MD","Other"],ra=["Internship","Part-Time","Full-Time"],na=["Accounting","Advertising (Traditional Media)","Advertising Technology (AdTech)","Aerospace & Aviation","Agriculture & Agribusiness","Animation","Apparel & Footwear Retail","Architecture","Artificial Intelligence / Machine Learning","Auditing","Automotive Industry","Banking","Beauty & Cosmetics","Biotech Research","Biotechnology","Blockchain & Web3","Childcare & Early Education","Chemical Engineering","Civil Engineering","Cloud Computing","Commercial Real Estate","Construction Management","Consumer Packaged Goods (CPG)","Corporate Training","Cyber-Physical Systems (IoT)","Cybersecurity","Data Science & Analytics","Defense Contracting","Digital Media & Streaming","E-commerce","EdTech","Educational Technology","Electrical Engineering","Energy (Oil, Gas, Renewables)","Entertainment (Film & TV Production)","Environmental Consulting","Event Planning","Fashion & Apparel","Film & Television Production","Finance (Wealth Management, Private Equity, Hedge Funds)","FinTech","Fitness & Wellness","Food & Beverage Production","Food & Restaurants","Freight & Shipping Services","Gaming & Esports","Government Administration","Graphic Design","Green Technology","Health Insurance","HealthTech","Hedge Funds","Higher Education / Universities","Homeland Security","Hospitals & Clinical Care","Hospitality Management","Human Resources / Recruiting","Humanitarian Aid & Relief","Immigration Services","Industrial Manufacturing","Influencer Marketing","Insurance","Intelligence & National Security","International Development","International Relations","Investment Banking","Journalism","Kâ€“12 Education","Law (Corporate, Criminal, Civil)","Legal Tech","Logistics & Transportation","Luxury Goods","Management Consulting","Manufacturing Automation","Marine & Shipping Industry","Marketing & Advertising","Mechanical Engineering","Medical Devices","Mental Health Services","Military & Defense","Mining & Natural Resources","Music Industry","Nonprofit Management","Nursing","Performing Arts","Pharmaceuticals","Philanthropy","Physical Therapy & Rehabilitation","Photography","Political Campaigns","Policy & Advocacy","Private Equity","Property Management","Public Health","Public Policy","Public Transit Systems","Publishing & Writing","Real Estate Development","Real Estate Finance","Renewable Energy (Solar, Wind, Hydro)","Residential Real Estate","Retail & Consumer Services","Robotics","Social Media Management","Social Work","Software Development","Space Exploration & Commercial Space","Sports Management","Strategy Consulting","Supply Chain & Logistics","Sustainability & Climate Tech","Tax Services","Telecommunications","Telemedicine","Transportation Infrastructure","Travel & Tourism","Urban Planning","UX/UI Design","Venture Capital","Veterinary Services","Virtual & Augmented Reality","Waste Management & Recycling","Wealth Management","Wholesale & Distribution","Wine, Beer & Spirits"],ia=["Akron, OH","Albany, NY","Albuquerque, NM","Alexandria, VA","Allentown, PA","Anaheim, CA","Ann Arbor, MI","Arlington, TX","Arlington, VA","Atlanta, GA","Austin, TX","Bakersfield, CA","Baltimore, MD","Baton Rouge, LA","Birmingham, AL","Boise, ID","Boston, MA","Boulder, CO","Buffalo, NY","Burlington, VT","Chapel Hill, NC","Charleston, SC","Charleston, WV","Charlotte, NC","Chattanooga, TN","Chicago, IL","Cincinnati, OH","Cleveland, OH","College Station, TX","Colorado Springs, CO","Columbia, MO","Columbia, SC","Columbus, OH","Dallas, TX","Dayton, OH","Denver, CO","Des Moines, IA","Detroit, MI","Durham, NC","El Paso, TX","Evansville, IN","Evanston, IL","Fayetteville, AR","Fort Collins, CO","Fort Lauderdale, FL","Fort Worth, TX","Fresno, CA","Gainesville, FL","Grand Rapids, MI","Greensboro, NC","Greenville, SC","Harrisburg, PA","Hartford, CT","Houston, TX","Huntsville, AL","Indianapolis, IN","Irvine, CA","Ithaca, NY","Jacksonville, FL","Jersey City, NJ","Kansas City, MO","Knoxville, TN","Lafayette, IN","Lancaster, PA","Lansing, MI","Las Vegas, NV","Lexington, KY","Lincoln, NE","Little Rock, AR","Long Beach, CA","Los Angeles, CA","Louisville, KY","Madison, WI","Manchester, NH","Memphis, TN","Mesa, AZ","Miami, FL","Milwaukee, WI","Minneapolis, MN","Mobile, AL","Morgantown, WV","Nashville, TN","Naples, FL","Naperville, IL","New Haven, CT","New Orleans, LA","New York, NY","Newark, NJ","Norfolk, VA","Oakland, CA","Oklahoma City, OK","Omaha, NE","Orlando, FL","Pasadena, CA","Peoria, IL","Philadelphia, PA","Phoenix, AZ","Pittsburgh, PA","Plano, TX","Portland, OR","Providence, RI","Provo, UT","Raleigh, NC","Reno, NV","Richmond, VA","Riverside, CA","Rochester, NY","Sacramento, CA","Salt Lake City, UT","San Antonio, TX","San Diego, CA","San Francisco, CA","San Jose, CA","San Luis Obispo, CA","Santa Ana, CA","Santa Barbara, CA","Santa Clara, CA","Sarasota, FL","Savannah, GA","Scottsdale, AZ","Seattle, WA","Shreveport, LA","Springfield, IL","Springfield, MA","Springfield, MO","Stamford, CT","State College, PA","St. Louis, MO","St. Paul, MN","St. Petersburg, FL","Syracuse, NY","Tallahassee, FL","Tampa, FL","Tempe, AZ","Toledo, OH","Topeka, KS","Tucson, AZ","Tulsa, OK","Virginia Beach, VA","Washington, DC","West Palm Beach, FL","White Plains, NY","Wichita, KS","Wilmington, DE","Winston-Salem, NC","Worcester, MA","Ypsilanti, MI","San Bernardino, CA","Glendale, AZ","Alexandria, LA"];function ja(){var ee,ae;console.log("âš™ï¸ [ACCOUNT SETTINGS] Component rendering");const $=He(),{user:i,signOut:K}=Be();console.log("âš™ï¸ [ACCOUNT SETTINGS] User state:",{hasUser:!!i,email:(i==null?void 0:i.email)||"none"});const[c,C]=m.useState({firstName:"",lastName:"",email:"",university:"",phone:""}),[h,w]=m.useState({graduationMonth:"",graduationYear:"",fieldOfStudy:"",currentDegree:""}),[r,N]=m.useState({industriesOfInterest:[],preferredJobRole:"",preferredLocations:[],jobTypes:[]}),[z,X]=m.useState(!1),[Ae,M]=m.useState(!1),[Oe,Te]=m.useState(!1),[Fe,Pe]=m.useState(!1),[I,Z]=m.useState(!1),[q,k]=m.useState(null),[G,B]=m.useState(null),[g,b]=m.useState(null),[v,L]=m.useState(null),[oa,R]=m.useState(null),[la,Le]=m.useState(0),Re=a=>{if(!a||typeof a!="string")return{firstName:"",lastName:""};const s=a.trim().split(" ");return s.length===0?{firstName:"",lastName:""}:s.length===1?{firstName:s[0],lastName:""}:{firstName:s[0],lastName:s.slice(1).join(" ")}},_=async()=>{var a;try{const{auth:s}=await P(async()=>{const{auth:o}=await import("./index-DlXH6OO2.js").then(function(x){return x.j});return{auth:o}},__vite__mapDeps([0,1,2,3,4,5,6])),t=(a=s.currentUser)==null?void 0:a.uid;if(!t)return;const l=E(D,"users",t),d=await Ce(l);if(d.exists()){const o=d.data();L(o.resumeUrl||null),R(o.resumeFileName||null),o.resumeParsed?(localStorage.setItem("resumeData",JSON.stringify({name:o.resumeParsed.name||"",year:o.resumeParsed.year||"",major:o.resumeParsed.major||"",university:o.resumeParsed.university||"",fileName:o.resumeFileName||"Resume.pdf",uploadDate:o.resumeUpdatedAt||new Date().toISOString()})),b(JSON.parse(localStorage.getItem("resumeData")||"{}"))):(b(null),localStorage.removeItem("resumeData"))}else L(null),R(null),b(null)}catch(s){console.error("Failed to load resume from Firestore",s)}},Q=async a=>{var t;const s=(t=a.target.files)==null?void 0:t[0];if(s){if(!s.name.toLowerCase().endsWith(".pdf")){k("Please upload a PDF file");return}Z(!0),k(null);try{const l=new FileReader,o=await new Promise((j,S)=>{l.onload=()=>j(l.result),l.onerror=S,l.readAsDataURL(s)}),x=new FormData;x.append("resume",s);const U=window.location.hostname==="localhost"?"http://localhost:5001":"https://www.offerloop.ai",{auth:A}=await P(async()=>{const{auth:j}=await import("./index-DlXH6OO2.js").then(function(S){return S.j});return{auth:j}},__vite__mapDeps([0,1,2,3,4,5,6])),O=A.currentUser?await A.currentUser.getIdToken():null,T=await fetch(`${U}/api/parse-resume`,{method:"POST",headers:O?{Authorization:`Bearer ${O}`}:{},body:x}),p=await T.json();if(!T.ok)throw new Error(p.error||"Failed to parse resume");if(!p.savedToFirebase)throw new Error("Backend failed to save resume to Firestore");L(p.resumeUrl),R(p.resumeFileName||s.name);const F={name:p.data.name||"",year:p.data.year||"",major:p.data.major||"",university:p.data.university||"",fileName:s.name,uploadDate:new Date().toISOString()};localStorage.setItem("resumeData",JSON.stringify(F)),localStorage.setItem("resumeFile",o.split(",")[1]),b({...F}),B(o.split(",")[1]),a.target.value="",await _(),Le(j=>j+1)}catch(l){const d=l instanceof Error?l.message:"An unexpected error occurred";k(d)}finally{Z(!1)}}},Ue=async()=>{var a;try{const{auth:s}=await P(async()=>{const{auth:d}=await import("./index-DlXH6OO2.js").then(function(o){return o.j});return{auth:d}},__vite__mapDeps([0,1,2,3,4,5,6])),t=(a=s.currentUser)==null?void 0:a.uid;if(!t)throw new Error("Not signed in");if(v)try{const d=Qe(We,v);await ea(d)}catch(d){console.warn("Could not delete file from storage (may already be deleted):",d)}const l=E(D,"users",t);await we(l,{resumeText:null,resumeUrl:null,resumeFileName:null,resumeUpdatedAt:null,resumeParsed:null}),L(null),R(null),b(null),B(null),localStorage.removeItem("resumeData"),localStorage.removeItem("resumeFile"),await _()}catch(s){console.error("Delete resume failed",s),alert("Could not delete resume. Please try again.")}},De=async()=>{if(!(i!=null&&i.uid)){V({title:"Error",description:"You must be signed in to save changes.",variant:"destructive"});return}X(!0),M(!1);try{const a=E(D,"users",i.uid),s={firstName:c.firstName,lastName:c.lastName,name:`${c.firstName} ${c.lastName}`.trim(),university:c.university,phone:c.phone,graduationMonth:h.graduationMonth,graduationYear:h.graduationYear,fieldOfStudy:h.fieldOfStudy,major:h.fieldOfStudy,currentDegree:h.currentDegree,degree:h.currentDegree,industriesOfInterest:r.industriesOfInterest,interests:r.industriesOfInterest,careerInterests:r.industriesOfInterest,preferredJobRole:r.preferredJobRole,preferredJobRolesOrTitles:r.preferredJobRole,preferredLocations:r.preferredLocations,preferredLocation:r.preferredLocations,jobTypes:r.jobTypes,jobTypesInterestedIn:r.jobTypes};Object.keys(s).forEach(t=>{s[t]===void 0&&delete s[t]}),await we(a,s),M(!0),V({title:"Success",description:"Your profile information has been saved."}),setTimeout(()=>M(!1),3e3)}catch(a){console.error("Error saving onboarding data:",a),V({title:"Error",description:"Failed to save changes. Please try again.",variant:"destructive"})}finally{X(!1)}};m.useEffect(()=>{const a=async()=>{var l,d,o,x,U,A,O,T,p,F,j,S;try{const{auth:W}=await P(async()=>{const{auth:n}=await import("./index-DlXH6OO2.js").then(function(H){return H.j});return{auth:n}},__vite__mapDeps([0,1,2,3,4,5,6])),se=(l=W.currentUser)==null?void 0:l.uid;if(!se)return;const ke=E(D,"users",se),te=await Ce(ke);if(te.exists()){const n=te.data();if(n){const{firstName:H,lastName:Ge}=Re(n.name);C({firstName:H||n.firstName||((d=n.profile)==null?void 0:d.firstName)||"",lastName:Ge||n.lastName||((o=n.profile)==null?void 0:o.lastName)||"",email:n.email||(i==null?void 0:i.email)||"",university:n.university||((x=n.academics)==null?void 0:x.university)||n.college||"",phone:n.phone||((U=n.profile)==null?void 0:U.phone)||""}),w({graduationMonth:n.graduationMonth||((A=n.academics)==null?void 0:A.graduationMonth)||"",graduationYear:n.graduationYear||((O=n.academics)==null?void 0:O.graduationYear)||"",fieldOfStudy:n.fieldOfStudy||n.major||((T=n.academics)==null?void 0:T.major)||"",currentDegree:n.currentDegree||n.degree||((p=n.academics)==null?void 0:p.degree)||""}),N({industriesOfInterest:n.industriesOfInterest||n.interests||n.careerInterests||((F=n.location)==null?void 0:F.interests)||[],preferredJobRole:n.preferredJobRole||n.preferredJobRolesOrTitles||"",preferredLocations:n.preferredLocations||n.preferredLocation||((j=n.location)==null?void 0:j.preferredLocation)||[],jobTypes:n.jobTypes||n.jobTypesInterestedIn||((S=n.location)==null?void 0:S.jobTypes)||[]})}}}catch(W){console.error("Error loading user data:",W)}},s=localStorage.getItem("resumeData"),t=localStorage.getItem("resumeFile");if(s)try{b(JSON.parse(s))}catch(l){console.error("Error parsing stored resume data:",l)}t&&B(t),a(),_()},[i==null?void 0:i.email]);const Ee=async()=>{try{const a=window.location.hostname==="localhost"?"http://localhost:5001":"https://www.offerloop.ai",{auth:s}=await P(async()=>{const{auth:o}=await import("./index-DlXH6OO2.js").then(function(x){return x.j});return{auth:o}},__vite__mapDeps([0,1,2,3,4,5,6])),t=s.currentUser?await s.currentUser.getIdToken():null,l=await fetch(`${a}/api/create-portal-session`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}}});if(!l.ok)throw new Error("Failed to create portal session");const{url:d}=await l.json();window.location.href=d}catch(a){console.error("Error creating portal session:",a),alert("Unable to open billing portal. Please try again.")}},Me=async()=>{try{console.log("ðŸ” [SIGN OUT] Starting sign out process..."),console.log("ðŸ” [SIGN OUT] Current user:",(i==null?void 0:i.email)||"none"),console.log("ðŸ” [SIGN OUT] Current path:",window.location.pathname),console.log("ðŸ” [SIGN OUT] Step 0: Updating URL with signedOut flag..."),window.history.replaceState({},"","/?signedOut=true"),$("/?signedOut=true",{replace:!0}),console.log("âœ… [SIGN OUT] Step 0 complete: URL updated synchronously"),console.log("ðŸ” [SIGN OUT] Step 1: Clearing React context..."),await K(),console.log("âœ… [SIGN OUT] Step 1 complete: Context state cleared"),console.log("ðŸ” [SIGN OUT] Step 2: Signing out from Firebase..."),await Ie(Y),console.log("âœ… [SIGN OUT] Step 2 complete: Firebase signOut() called"),console.log("ðŸ” [SIGN OUT] Step 3: Waiting for Firebase auth state to clear..."),await new Promise(a=>{let s=!1;const t=aa(Y,l=>{console.log("ðŸ” [SIGN OUT] Auth state changed:",l?`User: ${l.email}`:"null"),l===null&&!s&&(s=!0,console.log("âœ… [SIGN OUT] Step 3 complete: Firebase auth state confirmed null"),t(),a())});setTimeout(()=>{s||(console.warn("âš ï¸ [SIGN OUT] Step 3 timeout: Auth state clear timeout, proceeding anyway"),s=!0,t(),a())},2e3)}),console.log("ðŸ” [SIGN OUT] Step 4: Clearing Firebase auth from localStorage...");try{const s=Object.keys(localStorage).filter(t=>t.startsWith("firebase:authUser:")||t.startsWith("firebase:host:")||t.includes("firebase"));console.log("ðŸ” [SIGN OUT] Found Firebase keys in localStorage:",s),s.forEach(t=>{localStorage.removeItem(t),console.log("ðŸ” [SIGN OUT] Removed localStorage key:",t)}),console.log("âœ… [SIGN OUT] Step 4 complete: Cleared Firebase auth from localStorage")}catch(a){console.warn("âš ï¸ [SIGN OUT] Step 4 error: Could not clear localStorage:",a)}console.log("ðŸ” [SIGN OUT] Step 5: Performing final page reload..."),window.location.replace("/?signedOut=true")}catch(a){console.error("âŒ [SIGN OUT] Error in sign out process:",a),console.error("âŒ [SIGN OUT] Error details:",{message:a instanceof Error?a.message:String(a),stack:a instanceof Error?a.stack:void 0});try{console.log("ðŸ” [SIGN OUT] Attempting cleanup after error..."),await K(),await Ie(Y),Object.keys(localStorage).forEach(t=>{(t.startsWith("firebase:authUser:")||t.startsWith("firebase:host:")||t.includes("firebase"))&&localStorage.removeItem(t)}),console.log("âœ… [SIGN OUT] Cleanup complete, redirecting...")}catch(s){console.error("âŒ [SIGN OUT] Error during cleanup:",s)}console.log("ðŸ” [SIGN OUT] Redirecting to /?signedOut=true (error path)"),window.location.replace("/?signedOut=true")}};return e.jsxs(_e,{children:[e.jsx("div",{className:"border-b border-white/10 glass-nav",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(f,{variant:"ghost",size:"sm",onClick:()=>$("/"),className:"gap-2 text-gray-300 text-slate-700 hover:text-blue-400",children:[e.jsx(Je,{className:"h-4 w-4"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Account Settings"}),e.jsx("p",{className:"text-sm text-gray-400 text-slate-600",children:"Manage your account and preferences"})]})]}),e.jsx(Ze,{className:"h-12 w-12",children:e.jsx(qe,{className:"bg-blue-500/20 text-blue-400 border border-blue-500/30",children:c.firstName&&c.lastName?`${c.firstName[0]}${c.lastName[0]}`:((ae=(ee=i==null?void 0:i.email)==null?void 0:ee[0])==null?void 0:ae.toUpperCase())||"U"})})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs(J,{className:"p-6 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white text-slate-900",children:"Career & Profile Info"}),e.jsx(f,{onClick:De,disabled:z,className:"gap-2",style:{background:"linear-gradient(135deg, #3B82F6, #60A5FA)"},children:z?e.jsxs(e.Fragment,{children:[e.jsx(Ve,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4"}),"Save changes"]})})]}),Ae&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-700",children:"âœ“ Changes saved successfully!"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-white text-slate-900",children:"Personal Information"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"firstName",className:"text-gray-300 text-slate-700",children:"First Name"}),e.jsx(y,{id:"firstName",value:c.firstName,onChange:a=>C({...c,firstName:a.target.value}),className:"bg-white/5 border border-white/10 focus:border-blue-400/50"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"lastName",children:"Last Name"}),e.jsx(y,{id:"lastName",value:c.lastName,onChange:a=>C({...c,lastName:a.target.value}),className:"bg-white/5 border border-white/10 focus:border-blue-400/50"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"email",children:"Email"}),e.jsx(y,{id:"email",type:"email",value:c.email,readOnly:!0,className:"bg-muted/30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"university",children:"University"}),e.jsx(y,{id:"university",value:c.university,onChange:a=>C({...c,university:a.target.value}),className:"bg-muted/30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"phone",children:"Phone"}),e.jsx(y,{id:"phone",type:"tel",value:c.phone,onChange:a=>C({...c,phone:a.target.value}),className:"bg-muted/30",placeholder:"(555) 123-4567"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-white text-slate-900",children:"Academic Information"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"graduationMonth",children:"Graduation Month"}),e.jsxs(ce,{value:h.graduationMonth,onValueChange:a=>w({...h,graduationMonth:a}),children:[e.jsx(de,{className:"bg-white/5 border border-white/10 focus:border-blue-400/50",children:e.jsx(ue,{placeholder:"Select month"})}),e.jsx(me,{children:sa.map(a=>e.jsx(he,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"graduationYear",children:"Graduation Year"}),e.jsx(y,{id:"graduationYear",type:"number",value:h.graduationYear,onChange:a=>w({...h,graduationYear:a.target.value}),className:"bg-white/5 border border-white/10 focus:border-blue-400/50",placeholder:"2024"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"fieldOfStudy",children:"Field of Study"}),e.jsx(y,{id:"fieldOfStudy",value:h.fieldOfStudy,onChange:a=>w({...h,fieldOfStudy:a.target.value}),className:"bg-muted/30",placeholder:"e.g. Computer Science, Business Administration"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"currentDegree",children:"Current Degree"}),e.jsxs(ce,{value:h.currentDegree,onValueChange:a=>w({...h,currentDegree:a}),children:[e.jsx(de,{className:"bg-muted/30",children:e.jsx(ue,{placeholder:"Select degree"})}),e.jsx(me,{children:ta.map(a=>e.jsx(he,{value:a,children:a},a))})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-white text-slate-900",children:"Professional Profile"}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{className:"text-sm font-medium text-white text-slate-900",children:"Resume"}),g?e.jsx("div",{className:"relative bg-muted/30 rounded-lg border p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(ne,{className:"h-10 w-10 text-primary flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-foreground truncate",children:g.fileName||"Resume.pdf"}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1 mt-2",children:[g.name&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Name:"}),e.jsx("span",{children:g.name})]}),g.university&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"University:"}),e.jsx("span",{children:g.university})]}),g.major&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Major:"}),e.jsx("span",{children:g.major})]}),g.year&&e.jsxs("p",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Year:"}),e.jsx("span",{children:g.year})]}),g.uploadDate&&e.jsxs("p",{className:"text-xs mt-2",children:["Uploaded: ",new Date(g.uploadDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(f,{variant:"outline",size:"sm",onClick:()=>{if(v){const a=`${v}${v.includes("?")?"&":"?"}cb=${Date.now()}`;window.open(a,"_blank");return}if(G)try{const a=atob(G),s=new Array(a.length);for(let o=0;o<a.length;o++)s[o]=a.charCodeAt(o);const t=new Uint8Array(s),l=new Blob([t],{type:"application/pdf"}),d=URL.createObjectURL(l);window.open(d,"_blank"),setTimeout(()=>URL.revokeObjectURL(d),1e3)}catch(a){console.error("Error opening resume:",a),alert("Error opening resume file. Please try re-uploading.")}else alert("Resume file not available. Please upload your resume.")},disabled:!v&&!G,children:"View Full Resume"}),e.jsxs("label",{htmlFor:"resume-replace",className:"cursor-pointer",children:[e.jsx(f,{variant:"outline",size:"sm",asChild:!0,children:e.jsx("span",{children:"Replace Resume"})}),e.jsx("input",{id:"resume-replace",type:"file",accept:".pdf",onChange:Q,className:"hidden",disabled:I})]}),e.jsxs(f,{variant:"destructive",size:"sm",onClick:Ue,children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),"Delete Resume"]})]})]})]})}):e.jsxs("div",{className:"h-48 bg-muted/30 rounded-lg border-2 border-dashed border-muted-foreground/25 flex flex-col items-center justify-center p-6",children:[e.jsx(ne,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-sm text-muted-foreground text-center mb-3",children:I?"Processing resume...":"No resume uploaded"}),q&&e.jsx("p",{className:"text-xs text-destructive mb-3",children:q}),e.jsxs("label",{htmlFor:"resume-upload",className:"cursor-pointer",children:[e.jsx(f,{variant:"outline",size:"sm",disabled:I,asChild:!0,children:e.jsxs("span",{children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),I?"Uploading...":"Upload Resume"]})}),e.jsx("input",{id:"resume-upload",type:"file",accept:".pdf",onChange:Q,className:"hidden",disabled:I})]}),(i==null?void 0:i.tier)==="pro"&&e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"âœ“ Resume analysis available"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(u,{className:"text-sm font-medium text-foreground",children:"Career Interests"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{className:"text-xs font-medium text-muted-foreground",children:"Industries of Interest"}),e.jsxs(ye,{open:Oe,onOpenChange:Te,children:[e.jsx(be,{asChild:!0,children:e.jsxs(f,{variant:"outline",role:"combobox",className:"w-full justify-between bg-muted/30",children:[r.industriesOfInterest.length>0?`${r.industriesOfInterest.length} selected`:"Select industries...",e.jsx(oe,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(ve,{className:"w-full p-0",align:"start",children:e.jsxs(ge,{children:[e.jsx(pe,{placeholder:"Search industries..."}),e.jsxs(fe,{children:[e.jsx(xe,{children:"No industry found."}),e.jsx(Ne,{children:na.map(a=>e.jsxs(je,{value:a,onSelect:()=>{const s=r.industriesOfInterest.includes(a);N({...r,industriesOfInterest:s?r.industriesOfInterest.filter(t=>t!==a):[...r.industriesOfInterest,a]})},children:[e.jsx(le,{className:re("mr-2 h-4 w-4",r.industriesOfInterest.includes(a)?"opacity-100":"opacity-0")}),a]},a))})]})]})})]}),r.industriesOfInterest.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.industriesOfInterest.map(a=>e.jsxs(Se,{variant:"secondary",className:"text-xs",children:[a,e.jsx("button",{onClick:()=>{N({...r,industriesOfInterest:r.industriesOfInterest.filter(s=>s!==a)})},className:"ml-1 hover:text-destructive",children:"Ã—"})]},a))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{className:"text-xs font-medium text-muted-foreground",children:"Preferred Job Roles/Titles"}),e.jsx(y,{value:r.preferredJobRole,onChange:a=>N({...r,preferredJobRole:a.target.value}),className:"bg-muted/30",placeholder:"e.g. Investment Banking Analyst, Software Engineer"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{className:"text-xs font-medium text-muted-foreground",children:"Preferred Locations"}),e.jsxs(ye,{open:Fe,onOpenChange:Pe,children:[e.jsx(be,{asChild:!0,children:e.jsxs(f,{variant:"outline",role:"combobox",className:"w-full justify-between bg-muted/30",children:[r.preferredLocations.length>0?`${r.preferredLocations.length} selected`:"Select locations...",e.jsx(oe,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(ve,{className:"w-full p-0",align:"start",children:e.jsxs(ge,{children:[e.jsx(pe,{placeholder:"Search locations..."}),e.jsxs(fe,{children:[e.jsx(xe,{children:"No location found."}),e.jsx(Ne,{children:ia.map(a=>e.jsxs(je,{value:a,onSelect:()=>{const s=r.preferredLocations.includes(a);N({...r,preferredLocations:s?r.preferredLocations.filter(t=>t!==a):[...r.preferredLocations,a]})},children:[e.jsx(le,{className:re("mr-2 h-4 w-4",r.preferredLocations.includes(a)?"opacity-100":"opacity-0")}),a]},a))})]})]})})]}),r.preferredLocations.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.preferredLocations.map(a=>e.jsxs(Se,{variant:"secondary",className:"text-xs",children:[a,e.jsx("button",{onClick:()=>{N({...r,preferredLocations:r.preferredLocations.filter(s=>s!==a)})},className:"ml-1 hover:text-destructive",children:"Ã—"})]},a))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{className:"text-xs font-medium text-muted-foreground",children:"Job Type(s) Interested in"}),e.jsx("div",{className:"space-y-2",children:ra.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{id:`jobType-${a}`,checked:r.jobTypes.includes(a),onCheckedChange:s=>{N(s?{...r,jobTypes:[...r.jobTypes,a]}:{...r,jobTypes:r.jobTypes.filter(t=>t!==a)})}}),e.jsx(u,{htmlFor:`jobType-${a}`,className:"text-sm font-normal cursor-pointer",children:a})]},a))})]})]})]})]})})]})]})]}),e.jsxs(J,{className:"p-6 rounded-2xl",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6 text-white text-slate-900",children:"Account Management"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground mb-1",children:"Subscription"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your subscription plan and billing settings"}),(i==null?void 0:i.tier)&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1 capitalize",children:["Current: ",i.tier," tier"]})]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:Ee,className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-4 w-4"}),"Manage Subscription"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground mb-1",children:"Sign Out"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign out of your account on this device"})]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:Me,className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4"}),"Sign Out"]})]})]})]}),e.jsxs(J,{className:"p-6 rounded-2xl border-red-500/30",children:[e.jsx("h2",{className:"text-xl font-semibold mb-6 text-red-400",children:"Danger zone"}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-destructive/5 rounded-lg border border-destructive/20",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-destructive mb-1",children:"Delete your account"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This will permanently delete your account and all your data. This action cannot be undone."})]}),e.jsxs(f,{variant:"destructive",size:"sm",className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-4 w-4"}),"Delete account"]})]})})]})]})})]})}export{ja as default};
