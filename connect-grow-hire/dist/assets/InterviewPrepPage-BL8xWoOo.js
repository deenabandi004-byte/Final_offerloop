import{u as Ne,r as d,j as e,ag as ae,K as Pe,aB as ie,aC as D,O as ne,as as Ie,a0 as oe,W as _e,Y as ke,aD as le}from"./vendor-react-DiVfGd0B.js";import{S as Se,A as Ce,a as De}from"./AppSidebar-W5X10pj_.js";import{T as Ee,a as Fe,b as de,c as ce}from"./tabs-LJZmQEhL.js";import{a as Ue,B as W,f as Te,t as m}from"./index-CAu39nmG.js";import{u as Ae,g as Re,c as Le,a as qe,B as Be,U as Me}from"./featureAccess-C8rbbDnk.js";import{a as P}from"./api-iiC4droA.js";import{C as me,a as Ge,b as $e,c as pe}from"./card-BrbriW9G.js";import{I as R}from"./input-BxFVHUGk.js";import{B as ze}from"./badge-DVmLm5PT.js";import{I as v}from"./constants-BVoUACx7.js";import{P as Ye,f as Je,l as Oe}from"./PageHeaderActions-B-_H7UFk.js";import{d as He,a as Q,t as M}from"./analytics-BKO9ZQLz.js";const ls=()=>{var ee,se,te,re;Ne();const{user:w,checkCredits:L}=Ue(),{subscription:c}=Ae(),I=w||{credits:0,tier:"free"},_=(c==null?void 0:c.interviewPrepsUsed)||0,V=(c==null?void 0:c.tier)||I.tier||"free",q=Re(V,"interviewPreps"),G=c?Le(c.tier,"interviewPreps",_):I.tier==="elite",$=(I.credits??0)>=v,g=G&&$;c&&qe(c.tier,"interviewPreps",_);const[f,E]=d.useState(!1),[ue,u]=d.useState(""),[xe,z]=d.useState(null),[l,Y]=d.useState(null),[x,F]=d.useState("idle"),[j,he]=d.useState(""),[p,ge]=d.useState(null),[X,K]=d.useState(!1),[k,J]=d.useState(""),[S,O]=d.useState(""),[B,Z]=d.useState([]),[fe,be]=d.useState(!0),[We,Qe]=d.useState(null);d.useEffect(()=>{(async()=>{try{const r=await P.getInterviewPrepHistory(1e3);if("error"in r)throw new Error(r.error);Z(r.history||[])}catch(r){console.error("Failed to load interview preps:",r),m({title:"Unable to load library",description:r instanceof Error?r.message:"Please try again.",variant:"destructive"})}finally{be(!1)}})()},[]),d.useEffect(()=>{x==="completed"&&setTimeout(()=>{(async()=>{try{const r=await P.getInterviewPrepHistory(1e3);if("error"in r)throw new Error(r.error);Z(r.history||[])}catch(r){console.error("Failed to reload interview preps:",r)}})()},2e3)},[x]);const ve=async()=>{console.log("ðŸŽ¬ handleInterviewPrepSubmit called");const s=j.trim(),r=k.trim()&&S.trim();if(!s&&!r){m({title:"Missing Information",description:"Please enter a job posting URL, or provide company name and job title.",variant:"destructive"});return}if(!w){m({title:"Authentication Required",description:"Please sign in to continue.",variant:"destructive"});return}if(I.credits<v){m({title:"Insufficient Credits",description:`You need ${v} credits to generate an interview prep.`,variant:"destructive"});return}E(!0),F("processing"),u("Analyzing job posting..."),Y(null);try{const i={};j.trim()?i.job_posting_url=j.trim():(i.company_name=k.trim(),i.job_title=S.trim());const y=await P.generateInterviewPrep(i);if("error"in y)throw new Error(y.error);const n=y.id;z(n);let o=0;const T=120;await new Promise((A,N)=>{const b=setInterval(async()=>{o++,console.log(`ðŸ”„ Interview Prep Poll ${o} starting...`);try{const t=await P.getInterviewPrepStatus(n);if(console.log(`Poll ${o}:`,t),"error"in t&&!("status"in t)){clearInterval(b),N(new Error(t.error));return}if("status"in t){const a=t.status;u(a==="parsing_job_posting"?t.progress||"Analyzing job posting...":a==="extracting_requirements"?t.progress||"Extracting role requirements...":a==="scraping_reddit"?t.progress||"Searching Reddit for interview experiences...":a==="processing_content"?t.progress||"Processing insights...":a==="generating_pdf"?t.progress||"Generating your prep guide...":t.progress||"Processing your request..."),t.jobDetails&&ge(t.jobDetails)}if(t.pdfUrl){if(clearInterval(b),console.log("âœ… Interview Prep completed! pdfUrl:",t.pdfUrl),w!=null&&w.uid&&t.jobDetails)try{const a=t.jobDetails,C=a.job_title||S.trim()||"",h=a.company_name||k.trim()||"",ye=Je({roleTitle:C||void 0,company:h||void 0});await Oe(w.uid,"interviewPrep",ye,{prepId:n,roleTitle:C||"",company:h||"",jobPostingUrl:j.trim()||""})}catch(a){console.error("Failed to log interview prep activity:",a)}He("interview_prep","generate",!0,{credits_spent:v}),le.flushSync(()=>{E(!1),F("completed"),u("Interview Prep ready!"),Y(t),z(t.id||n)}),m({title:"Interview Prep Ready!",description:"Your interview prep PDF has been generated successfully.",duration:5e3}),L&&L().then(()=>{console.log("âœ… Interview Prep complete!")}),A(t);return}if(t.status==="failed"||t.status==="parsing_failed"){if(clearInterval(b),t.needsManualInput||t.status==="parsing_failed"){K(!0),E(!1),F("idle"),m({title:"URL Parsing Failed",description:"Please enter the company name and job title manually below.",variant:"default"}),A(t);return}N(new Error(t.error||"Generation failed"));return}if(o>=T){clearInterval(b),setTimeout(async()=>{try{const a=await P.getInterviewPrepStatus(n);"pdfUrl"in a&&a.pdfUrl?(le.flushSync(()=>{E(!1),F("completed"),u("Interview Prep ready!"),Y(a),z(a.id||n)}),m({title:"Interview Prep Ready!",description:"Your interview prep PDF has been generated successfully.",duration:5e3}),L&&L(),A(a)):N(new Error("Generation is taking longer than expected. Please check back in a few minutes."))}catch{N(new Error("Generation timed out. Please try again or check back later."))}},2e3);return}}catch(t){clearInterval(b),N(t)}},3e3)})}catch(i){console.error("Interview prep failed:",i),F("failed"),u("Generation failed"),Q("interview_prep","generate","api_error",i.message),m({title:"Generation Failed",description:i.message||"Please try again.",variant:"destructive"})}finally{E(!1)}},we=async s=>{const r=xe;if(!(!r||!w))try{let n,o,T;m({title:"Preparing PDF",description:"Please wait while we prepare your Interview Prep PDF...",duration:3e3});for(let t=0;t<20;t++){try{const a=await P.downloadInterviewPrepPDF(r);if(n=(a==null?void 0:a.pdfUrl)||void 0,o=(a==null?void 0:a.companyName)||void 0,T=(a==null?void 0:a.jobTitle)||void 0,n&&(await fetch(n,{method:"HEAD"})).ok)break}catch{}await new Promise(a=>setTimeout(a,1e3))}if(!n)throw new Error("PDF isn't ready yet. Please try again in a moment.");const H=t=>t.replace(/[^a-zA-Z0-9\s-]/g,"").replace(/\s+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"").substring(0,50),A=o?H(o):"Company",N=T?H(T):"Role",b=`Oloop_interviewprep_${A}_${N}.pdf`;await new Promise(t=>setTimeout(t,500));try{const t=await fetch(n);if(!t.ok)throw new Error(`Failed to fetch PDF: ${t.status}`);const a=await t.blob(),C=window.URL.createObjectURL(a),h=document.createElement("a");h.href=C,h.download=b,h.style.display="none",document.body.appendChild(h),h.click(),setTimeout(()=>{document.body.removeChild(h),window.URL.revokeObjectURL(C)},100),M("interview_prep","pdf",r),m({title:"PDF Downloaded",description:"Your Interview Prep PDF has been downloaded.",duration:3e3})}catch(t){console.warn("Blob download failed, trying direct link:",t);const a=document.createElement("a");a.href=n,a.download=b,a.target="_blank",a.rel="noopener noreferrer",a.style.display="none",document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a)},100),M("interview_prep","pdf",r),m({title:"PDF Download Started",description:"Your Interview Prep PDF download has started.",duration:3e3})}}catch(i){Q("interview_prep","download","network_error",i instanceof Error?i.message:void 0),m({title:"Download Failed",description:i instanceof Error?i.message:"Could not download the PDF.",variant:"destructive"})}},je=async s=>{try{if(s.pdfUrl){window.open(s.pdfUrl,"_blank","noopener"),M("interview_prep","pdf",s.id);return}const{pdfUrl:r}=await P.downloadInterviewPrepPDF(s.id);if(r)window.open(r,"_blank","noopener"),M("interview_prep","pdf",s.id);else throw new Error("PDF URL not available yet")}catch(r){Q("interview_prep","download","network_error",r instanceof Error?r.message:void 0),m({title:"Download failed",description:"Could not open the PDF. Please try again.",variant:"destructive"})}},U=d.useMemo(()=>{const s=B.filter(i=>i.status==="completed"),r=B.filter(i=>i.status!=="completed");return{completed:s,inProgress:r}},[B]);return e.jsx(Se,{children:e.jsxs("div",{className:"flex min-h-screen w-full bg-transparent text-foreground",children:[e.jsx(Ce,{}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("header",{className:"h-16 flex items-center justify-between border-b border-gray-100/30 px-6 bg-transparent shadow-sm relative z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(De,{className:"text-foreground hover:bg-secondary"}),e.jsx("h1",{className:"text-xl font-semibold",children:"Interview Prep"})]}),e.jsx(Ye,{})]}),e.jsx("main",{className:"p-8 bg-transparent",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs(Ee,{defaultValue:"interview-prep",className:"w-full",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs(Fe,{className:"h-14 tabs-container-gradient border border-border grid grid-cols-2 max-w-lg w-full rounded-xl p-1 bg-white",children:[e.jsxs(de,{value:"interview-prep",className:"h-12 font-medium text-base data-[state=active] data-[state=active]:text-white data-[state=inactive]:text-muted-foreground transition-all",children:[e.jsx(ae,{className:"h-5 w-5 mr-2"}),"Interview Prep"]}),e.jsxs(de,{value:"interview-library",className:"h-12 font-medium text-base data-[state=active] data-[state=active]:text-white data-[state=inactive]:text-muted-foreground transition-all",children:[e.jsx(Pe,{className:"h-5 w-5 mr-2"}),"Interview Library"]})]})}),e.jsx(ce,{value:"interview-prep",className:"mt-6",children:e.jsxs(me,{className:"bg-white border-border relative overflow-hidden",children:[e.jsx(Ge,{className:"border-b border-border",children:e.jsxs($e,{className:"text-xl text-foreground flex items-center gap-2",children:["Interview Prep",e.jsx(Be,{size:"xs",variant:"glow"}),e.jsxs(ze,{variant:"secondary",className:"ml-auto",children:[v," credits"]})]})}),e.jsxs(pe,{className:"p-6",children:[!g&&e.jsx(Me,{hasExhaustedLimit:!G,hasEnoughCredits:$,currentUsage:_,limit:q,tier:V,requiredCredits:v,currentCredits:I.credits??0,featureName:"Interview Preps",nextTier:(c==null?void 0:c.tier)==="free"?"Pro":"Elite",showUpgradeButton:!G||!$}),g&&e.jsx("div",{className:"mb-6 rounded-md border-l-4 border-blue-400 bg-blue-50/70 p-4",children:e.jsx("p",{className:"text-sm text-slate-600",children:q==="unlimited"?`You've used ${_} Interview Preps (unlimited).`:`You've used ${_} of ${q} Interview Preps (${q-_} remaining).`})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2 text-foreground",children:["Job Posting URL ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(R,{value:j,onChange:s=>{he(s.target.value),s.target.value.trim()&&(K(!1),J(""),O(""))},placeholder:"Paste the job posting URL here...",className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-pink-500 hover:border-purple-400 transition-colors",disabled:f||!g}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supports LinkedIn, Indeed, Greenhouse, Lever, Workday, and most career pages. If URL parsing fails, you can enter company and job title manually below."})]}),!X&&!j.trim()&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Or enter manually:"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",children:"Company Name"}),e.jsx(R,{value:k,onChange:s=>J(s.target.value),placeholder:"e.g., Google, Amazon, Meta",className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-pink-500 hover:border-purple-400 transition-colors",disabled:f||!g})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",children:"Job Title"}),e.jsx(R,{value:S,onChange:s=>O(s.target.value),placeholder:"e.g., Software Engineer, Data Scientist",className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-pink-500 hover:border-purple-400 transition-colors",disabled:f||!g})]})]}),p&&e.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 border border-border",children:[e.jsx("p",{className:"text-sm font-semibold text-foreground mb-3",children:"Job Details Preview:"}),e.jsxs("div",{className:"space-y-2 text-sm text-foreground",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Company:"})," ",p.company_name]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Role:"})," ",p.job_title]}),p.level&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Level:"})," ",p.level]}),p.team_division&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Team:"})," ",p.team_division]}),p.required_skills&&p.required_skills.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Key Skills:"})," ",p.required_skills.slice(0,5).join(", "),p.required_skills.length>5&&` +${p.required_skills.length-5} more`]})]})]}),X&&e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ie,{className:"h-5 w-5 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-yellow-800 mb-1",children:"URL Parsing Failed - Manual Input Required"}),e.jsx("p",{className:"text-xs text-yellow-700/80 mb-3",children:"We couldn't parse the job posting URL. Please enter the details manually below."})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2 text-foreground",children:["Company Name ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(R,{value:k,onChange:s=>J(s.target.value),placeholder:"e.g., Google, Amazon, Meta",className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-pink-500 hover:border-purple-400 transition-colors",disabled:f||!g})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2 text-foreground",children:["Job Title ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(R,{value:S,onChange:s=>O(s.target.value),placeholder:"e.g., Software Engineer, Data Scientist, Product Manager",className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-pink-500 hover:border-purple-400 transition-colors",disabled:f||!g})]})]})]}),e.jsxs("div",{className:"bg-muted/30 rounded-xl p-4 border border-border",children:[e.jsx("p",{className:"text-sm text-foreground mb-2",children:e.jsx("span",{className:"font-semibold text-foreground",children:"What you'll receive:"})}),e.jsxs("ul",{className:"space-y-1.5 text-sm text-foreground",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Company-specific interview process overview"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Common questions grouped by category (Behavioral, Technical, System Design, etc.)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Success tips from candidates who passed"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Red flags and things to avoid"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Culture insights and work environment details"})]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-3",children:["Uses ",v," credits. Analyzes the job posting, searches Reddit for role-specific interview insights, and generates a comprehensive 5-6 page prep guide tailored to this specific role."]})]}),e.jsx(W,{onClick:ve,disabled:f||I.credits<v||!j.trim()&&(!k.trim()||!S.trim())||!g,className:"w-full text-white font-semibold py-6 text-base shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"linear-gradient(135deg, #3B82F6, #60A5FA)"},children:f?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-5 w-5 mr-2 animate-spin"}),"Generating Interview Prep..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:"h-5 w-5 mr-2"}),"Generate Interview Prep"]})}),x!=="idle"&&e.jsxs("div",{className:"rounded-lg border border-border bg-muted/50 p-4 shadow-inner text-sm text-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f?e.jsx(ne,{className:"h-4 w-4 animate-spin text-primary"}):x==="completed"?e.jsx(D,{className:"h-4 w-4 text-blue-600"}):x==="failed"?e.jsx(ie,{className:"h-4 w-4 text-destructive"}):null,e.jsx("span",{className:"font-medium",children:x==="completed"?"Ready!":x==="failed"?"Failed":"Processing..."})]}),e.jsx("span",{className:"text-muted-foreground",children:ue||"Processing your request..."})]}),x==="completed"&&l&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-xl border border-green-500/40 bg-green-500/10 p-5 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-green-700 uppercase tracking-wide",children:[((ee=l.jobDetails)==null?void 0:ee.job_title)||((se=l.jobDetails)==null?void 0:se.company_name)||"Interview Prep"," - ",((te=l.jobDetails)==null?void 0:te.company_name)||""]}),e.jsx("span",{className:"text-xs text-blue-600/80",children:"Ready to download"})]}),l.insights&&e.jsxs("div",{className:"space-y-3 text-sm text-foreground",children:[((re=l.insights.interview_process)==null?void 0:re.stages)&&l.insights.interview_process.stages.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Interview Stages: "}),l.insights.interview_process.stages.map(s=>typeof s=="string"?s:(s==null?void 0:s.name)||"Stage").join(", ")]}),l.insights.common_questions&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Question Categories: "}),(()=>{const s=l.insights.common_questions;if(Array.isArray(s))return s.map(r=>r.category).join(", ");if(typeof s=="object"&&s!==null){const r=[],i=s;return i.behavioral&&r.push("Behavioral"),i.technical&&r.push("Technical"),i.company_specific&&r.push("Company-Specific"),r.join(", ")}return""})(),e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Sample questions preview:",e.jsx("ul",{className:"list-disc list-inside mt-1 space-y-1",children:(()=>{var i,y;const s=l.insights.common_questions,r=[];if(Array.isArray(s))s.slice(0,3).forEach(n=>{n.questions&&n.questions.slice(0,2).forEach(o=>{r.push(o)})});else if(typeof s=="object"&&s!==null){const n=s;(i=n.behavioral)!=null&&i.questions&&n.behavioral.questions.slice(0,2).forEach(o=>{r.push(typeof o=="string"?o:o.question||"")}),(y=n.technical)!=null&&y.questions&&r.length<3&&n.technical.questions.slice(0,2).forEach(o=>{r.push(typeof o=="string"?o:o.question||"")})}return r.slice(0,3).map((n,o)=>e.jsx("li",{className:"text-foreground",children:n},o))})()})]})]}),l.insights.sources_count&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Sources: "}),"Analyzed ",l.insights.sources_count," Reddit posts"]})]})]}),e.jsxs(W,{onClick:()=>we(),className:"w-full text-white font-semibold py-6 text-base shadow-lg",style:{background:"linear-gradient(135deg, #3B82F6, #60A5FA)"},children:[e.jsx(oe,{className:"h-5 w-5 mr-2"}),"Download Full PDF"]})]}),x==="failed"&&(l==null?void 0:l.error)&&e.jsx("div",{className:"rounded-lg border border-red-500/40 bg-red-500/10 p-4",children:e.jsx("p",{className:"text-sm text-red-700",children:l.error})})]})})]})]})}),e.jsx(ce,{value:"interview-library",className:"mt-6",children:e.jsx("div",{className:"space-y-6",children:fe?e.jsx(me,{className:"bg-white border-border",children:e.jsx(pe,{className:"p-6",children:e.jsx(Te,{variant:"card",count:3})})}):B.length===0?e.jsxs("div",{className:"rounded-xl border border-border bg-white p-10 text-center space-y-4",children:[e.jsx(ae,{className:"h-10 w-10 mx-auto text-primary"}),e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"No preps yet"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Generate your first interview prep to see it appear here."})]}):e.jsxs("div",{className:"space-y-6",children:[U.inProgress.length>0&&e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase mb-3",children:"In Progress"}),e.jsx("div",{className:"grid gap-4",children:U.inProgress.map(s=>e.jsxs("div",{className:"rounded-lg border border-yellow-500/40 bg-yellow-500/10 px-5 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-foreground font-medium",children:s.companyName}),s.jobTitle&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.jobTitle}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Requested ",s.createdAt?new Date(s.createdAt).toLocaleString():""]})]}),e.jsx("div",{className:"text-xs uppercase text-yellow-600",children:"Processing..."})]},s.id))})]}),U.completed.length>0&&e.jsxs("section",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase",children:["Completed (",U.completed.length,")"]}),e.jsx("div",{className:"grid gap-4",children:U.completed.map(s=>e.jsxs("div",{className:"rounded-xl border border-border bg-white p-5 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-foreground font-medium",children:[e.jsx(_e,{className:"h-4 w-4 text-primary"}),s.companyName]}),s.jobTitle&&e.jsx("div",{className:"text-sm text-foreground",children:s.jobTitle}),e.jsx("div",{className:"flex flex-wrap items-center gap-3 text-xs text-muted-foreground",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ke,{className:"h-3 w-3"}),s.createdAt?new Date(s.createdAt).toLocaleDateString():"â€”"]})})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(W,{size:"sm",variant:"outline",className:"border-primary text-primary hover:bg-primary/10",onClick:()=>je(s),children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"PDF"]})})]},s.id))})]})]})})})]})})})]})]})})};export{ls as default};
