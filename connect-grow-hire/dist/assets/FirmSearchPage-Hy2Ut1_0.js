import{r as a,j as e,af as be,aq as ue,aK as Ke,L as Xe,$ as Oe,aL as Qe,O,a1 as Le,aM as Ge,aN as Je,ao as Ze,u as et,aO as tt,Y as st,aP as ye,aH as we,aQ as je,aR as rt,a0 as at}from"./vendor-react-Bye97upB.js";import{S as nt,A as it,a as ot}from"./AppSidebar-BDehlPBm.js";import{T as lt,a as ct,b as ve,c as Ne}from"./tabs-BKIyP4W7.js";import{B as W,a as Ie,d as dt,t as I,f as ut}from"./index-DlXH6OO2.js";import{C as de,c as Se,b as ht}from"./card-Oe13TMu0.js";import{A as Ce,a as ke,b as Fe,c as Ae,d as Ee,e as $e,f as De,g as Re}from"./alert-dialog-KUAtmkvf.js";import{a as re}from"./api-Cs6ol7d5.js";import{I as Me}from"./input-BsyuEDo1.js";import{d as mt,e as xt}from"./vendor-firebase-Bz1e_Tmy.js";function ft({firms:y,onViewContacts:m,onDelete:$,deletingId:N}){const[w,E]=a.useState("name"),[S,M]=a.useState("desc"),[l,u]=a.useState(""),[j,q]=a.useState(y);a.useEffect(()=>{if(!l.trim()){q(y);return}const n=y.filter(x=>{var r,C,k,D,P,v,h,i,F,R,z;const p=l.toLowerCase();return((r=x.name)==null?void 0:r.toLowerCase().includes(p))||((C=x.industry)==null?void 0:C.toLowerCase().includes(p))||((D=(k=x.location)==null?void 0:k.display)==null?void 0:D.toLowerCase().includes(p))||((v=(P=x.location)==null?void 0:P.city)==null?void 0:v.toLowerCase().includes(p))||((i=(h=x.location)==null?void 0:h.state)==null?void 0:i.toLowerCase().includes(p))||((R=(F=x.location)==null?void 0:F.country)==null?void 0:R.toLowerCase().includes(p))||((z=x.website)==null?void 0:z.toLowerCase().includes(p))});q(n)},[l,y]);const U=[...j].sort((n,x)=>{var C,k,D,P,v,h,i,F;let p,r;switch(w){case"name":p=((C=n.name)==null?void 0:C.toLowerCase())||"",r=((k=x.name)==null?void 0:k.toLowerCase())||"";break;case"location":p=((P=(D=n.location)==null?void 0:D.display)==null?void 0:P.toLowerCase())||"",r=((h=(v=x.location)==null?void 0:v.display)==null?void 0:h.toLowerCase())||"";break;case"industry":p=((i=n.industry)==null?void 0:i.toLowerCase())||"",r=((F=x.industry)==null?void 0:F.toLowerCase())||"";break;default:return 0}return p<r?S==="asc"?-1:1:p>r?S==="asc"?1:-1:0}),g=n=>{w===n?M(S==="asc"?"desc":"asc"):(E(n),M("desc"))},_=({field:n})=>w!==n?null:S==="asc"?e.jsx(Ge,{className:"h-4 w-4 inline-block ml-1"}):e.jsx(Je,{className:"h-4 w-4 inline-block ml-1"}),H=n=>{var x;return n.id||`${n.name}-${(x=n.location)==null?void 0:x.display}`};return e.jsxs("div",{className:"bg-card backdrop-blur-sm rounded-xl shadow-sm border border-border overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-border bg-muted",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{className:"h-5 w-5 text-blue-400"}),e.jsxs("span",{className:"font-medium text-foreground",children:[j.length," ",j.length===1?"firm":"firms",l&&` (filtered from ${y.length})`]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "View Contacts" to find professionals at any firm'})]})}),e.jsx("div",{className:"px-6 py-4 border-b border-border bg-background",children:e.jsxs("div",{className:"relative w-80",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(Me,{type:"text",placeholder:"Search firms...",value:l,onChange:n=>u(n.target.value),className:"pl-10 bg-muted border-border text-foreground placeholder-muted-foreground focus:border-primary focus:ring-primary"})]})}),j.length===0&&y.length>0&&l&&e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-2",children:"No firms match your search."}),e.jsx("button",{onClick:()=>u(""),className:"text-sm text-blue-400 hover:text-blue-300 underline",children:"Clear search"})]}),j.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-border",children:[e.jsx("thead",{className:"bg-muted",children:e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider cursor-pointer hover:bg-secondary transition-colors",onClick:()=>g("name"),children:["Company Name",e.jsx(_,{field:"name"})]}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Website"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-center text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"LinkedIn"}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider cursor-pointer hover:bg-secondary transition-colors",onClick:()=>g("location"),children:["Location",e.jsx(_,{field:"location"})]}),e.jsxs("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider cursor-pointer hover:bg-secondary transition-colors",onClick:()=>g("industry"),children:["Industry",e.jsx(_,{field:"industry"})]}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-background divide-y divide-border",children:U.map((n,x)=>{var p;return e.jsxs("tr",{className:"hover:bg-secondary transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-500/20 rounded-lg flex items-center justify-center border border-blue-500/30",children:e.jsx(be,{className:"h-5 w-5 text-blue-400"})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-foreground",children:n.name})})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:n.website?e.jsx("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-2 text-muted-foreground hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-colors",title:n.website,children:e.jsx(Ke,{className:"h-5 w-5"})}):e.jsx("span",{className:"text-muted-foreground",children:"â€”"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-center",children:n.linkedinUrl?e.jsx("a",{href:n.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-2 text-muted-foreground hover:text-blue-400 hover:bg-blue-500/10 rounded-lg transition-colors",title:"View on LinkedIn",children:e.jsx(Xe,{className:"h-5 w-5"})}):e.jsx("span",{className:"text-muted-foreground",children:"â€”"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-foreground",children:[e.jsx(Oe,{className:"h-4 w-4 text-muted-foreground mr-1.5 flex-shrink-0"}),e.jsx("span",{children:((p=n.location)==null?void 0:p.display)||"â€”"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-500/20 text-blue-300 border border-blue-500/30 capitalize",children:n.industry||"â€”"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs("button",{onClick:()=>m(n),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-blue-300 bg-blue-500/20 border border-blue-500/30 rounded-lg hover:bg-blue-500/30 hover:text-blue-200 transition-colors",children:[e.jsx(Qe,{className:"h-4 w-4 mr-1.5"}),"View Contacts"]}),$&&e.jsx(W,{size:"sm",variant:"ghost",className:"text-red-300 hover:text-red-200 hover:bg-red-500/10",disabled:N===H(n),onClick:()=>$(n),children:N===H(n)?e.jsx(O,{className:"h-4 w-4 animate-spin"}):e.jsx(Le,{className:"h-4 w-4"})})]})})]},n.id||x)})})]})}),j.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-border bg-muted",children:e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'Click on column headers to sort â€¢ Click "View Contacts" to find professionals at any firm'})})]})}const gt=window.location.hostname==="localhost"?"http://localhost:5001":"https://www.offerloop.ai",pt=({firmContext:y,userResume:m,fitContext:$,onApplyQuery:N,onFindContacts:w})=>{const[E,S]=a.useState([]),[M,l]=a.useState(""),[u,j]=a.useState(!1),q=a.useRef(null),U=a.useRef(null);a.useEffect(()=>{var r;(r=q.current)==null||r.scrollIntoView({behavior:"smooth"})},[E]);const g=async r=>{var D;const C=r||M.trim();if(!C||u)return;const k={id:`user-${Date.now()}`,role:"user",content:C};S(P=>[...P,k]),l(""),j(!0);try{const v=await(await fetch(`${gt}/api/scout/firm-assist`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:C,firm_context:y,user_resume:m,fit_context:$,conversation_history:E.map(i=>({role:i.role,content:i.content}))})})).json(),h={id:`assistant-${Date.now()}`,role:"assistant",content:v.message,suggestions:v.suggestions,action_type:v.action_type};S(i=>[...i,h])}catch(P){console.error("[Scout] Firm assist error:",P),S(v=>[...v,{id:`error-${Date.now()}`,role:"assistant",content:"I ran into an issue. Please try again!"}])}finally{j(!1),(D=U.current)==null||D.focus()}},_=r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),g())},H=r=>{N&&N(r)},n=r=>r.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>").replace(/\n/g,"<br />"),p=(()=>{var k,D;const r=y.current_results.length>0;return!(y.current_query.length>0)&&!r?m?[{label:"Find firms based on my resume",action:"Help me find firms in accordance to my background"},{label:"Help me build a search",action:"Help me figure out what firms to search for"},{label:"Investment banking firms",action:"Search for investment banks in New York"},{label:"Consulting firms",action:"Search for consulting firms"}]:[{label:"Help me build a search",action:"Help me figure out what firms to search for"},{label:"Investment banking firms",action:"Search for investment banks in New York"},{label:"Consulting firms",action:"Search for consulting firms"}]:r?[{label:"Which fit my background?",action:"Which firms fit my background best?"},{label:"Show smaller firms",action:"Refine to show smaller or boutique firms"},{label:"What's next?",action:"What should I do next with these results?"},{label:`Tell me about ${((k=y.current_results[0])==null?void 0:k.name)||"a firm"}`,action:`Tell me about ${((D=y.current_results[0])==null?void 0:D.name)||"Goldman Sachs"}`}]:[{label:"Refine my search",action:"Help me refine my search"},{label:"Different location",action:"Show me firms in a different location"},{label:"Different industry",action:"Search for a different industry"}]})();return e.jsxs("div",{className:"flex flex-col h-full bg-white",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[E.length===0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-slate-700",children:y.current_results.length>0?`You have ${y.current_results.length} firms. I can help you find the best fits or research any of them!`:m?"I can analyze your resume and suggest the best firms to target, or help you build a search. What would you like to do?":"I can help you find the right firms to target. What industry or type of company are you interested in?"})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map((r,C)=>e.jsx("button",{onClick:()=>g(r.action),className:"px-3 py-1.5 text-xs font-medium bg-white border border-slate-200 rounded-full hover:bg-slate-50 transition-colors text-left",children:r.label},C))})]}),E.map(r=>e.jsx("div",{className:`flex ${r.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[90%] rounded-lg p-3 ${r.role==="user"?"bg-blue-500 text-white":"bg-slate-100 text-slate-800"}`,children:[e.jsx("div",{className:"text-sm whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:n(r.content)}}),r.suggestions&&e.jsxs("div",{className:"mt-3 pt-2 border-t border-slate-200/50 space-y-2",children:[r.suggestions.refined_query&&e.jsx("button",{onClick:()=>H(r.suggestions.refined_query),className:"w-full py-1.5 text-xs font-medium bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Use this search"}),r.suggestions.recommended_firms&&r.suggestions.recommended_firms.length>0&&e.jsx("div",{className:"space-y-1",children:r.suggestions.recommended_firms.slice(0,3).map((C,k)=>e.jsxs("button",{onClick:()=>w==null?void 0:w(C),className:"w-full py-1.5 text-xs font-medium bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:["Find contacts at ",C]},k))})]})]})},r.id)),u&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-slate-100 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[e.jsx(O,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"text-sm",children:"Thinking..."})]})})}),e.jsx("div",{ref:q})]}),e.jsx("div",{className:"p-3 border-t border-slate-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Me,{ref:U,value:M,onChange:r=>l(r.target.value),onKeyPress:_,placeholder:"Ask about firms...",className:"flex-1 text-sm",disabled:u}),e.jsx(W,{onClick:()=>g(),disabled:!M.trim()||u,size:"sm",className:"bg-blue-500 hover:bg-blue-600",children:u?e.jsx(O,{className:"h-4 w-4 animate-spin"}):e.jsx(Ze,{className:"h-4 w-4"})})]})})]})},bt=({firmContext:y,fitContext:m,onApplyQuery:$,onFindContacts:N})=>{const{user:w}=Ie(),[E,S]=a.useState(!1),[M,l]=a.useState({x:0,y:0}),[u,j]=a.useState({width:370,height:600}),[q,U]=a.useState(null);a.useEffect(()=>{E&&!D.current?(l({x:Math.max(16,window.innerWidth-u.width-16),y:16}),D.current=!0):E||(D.current=!1)},[E,u.width]),a.useEffect(()=>{const h=()=>{if(E){const i=window.innerWidth-u.width,F=window.innerHeight-u.height;l(R=>({x:Math.max(0,Math.min(R.x,i)),y:Math.max(0,Math.min(R.y,F))}))}};return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[E,u]);const[g,_]=a.useState(!1),[H,n]=a.useState(!1),[x,p]=a.useState({x:0,y:0}),[r,C]=a.useState({x:0,y:0,width:0,height:0,posX:0,posY:0}),k=a.useRef(null),D=a.useRef(!1);a.useEffect(()=>{(async()=>{if(w!=null&&w.uid)try{const i=mt(dt,"users",w.uid),F=await xt(i);if(F.exists()){const R=F.data(),z={};R.resumeParsed&&Object.assign(z,R.resumeParsed),R.resumeText&&(z.rawText=R.resumeText),U(z)}}catch(i){console.error("[ScoutFirmAssistantButton] Failed to load resume:",i)}})()},[w==null?void 0:w.uid]),a.useEffect(()=>{const h=`
      @keyframes wave {
        0%, 100% { transform: rotate(-8deg); }
        50% { transform: rotate(8deg); }
      }
      @keyframes ping-soft {
        0% { transform: scale(1); opacity: 1; }
        50% { transform: scale(1.25); opacity: 0.4; }
        100% { transform: scale(1); opacity: 1; }
      }
    `,i=document.createElement("style");return i.textContent=h,document.head.appendChild(i),()=>{document.head.contains(i)&&document.head.removeChild(i)}},[]);const P=h=>{if(k.current){_(!0);const i=k.current.getBoundingClientRect();p({x:h.clientX-i.left,y:h.clientY-i.top}),h.preventDefault()}},v=h=>{if(h.stopPropagation(),h.preventDefault(),k.current){n(!0);const i=k.current.getBoundingClientRect();C({x:h.clientX,y:h.clientY,width:i.width,height:i.height,posX:M.x,posY:M.y})}};return a.useEffect(()=>{const h=F=>{if(g){const R=F.clientX-x.x,z=F.clientY-x.y,Q=window.innerWidth-u.width,X=window.innerHeight-u.height;l({x:Math.max(0,Math.min(R,Q)),y:Math.max(0,Math.min(z,X))})}else if(H){const R=F.clientX-r.x,z=F.clientY-r.y,Q=300,X=400,oe=r.width-R,G=r.height-z,ae=r.posX+R,K=r.posY+z,T=window.innerWidth-ae,le=window.innerHeight-K,ne=Math.max(Q,Math.min(oe,T)),V=Math.max(X,Math.min(G,le)),Y=r.posX+(r.width-ne),B=r.posY+(r.height-V);j({width:ne,height:V}),l({x:Math.max(0,Y),y:Math.max(0,B)})}},i=()=>{_(!1),n(!1)};return(g||H)&&(document.addEventListener("mousemove",h),document.addEventListener("mouseup",i)),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",i)}},[g,H,x,r,u,M]),e.jsxs(e.Fragment,{children:[E&&e.jsxs("div",{ref:k,className:"fixed z-40 flex flex-col rounded-2xl border border-[#E3E8F0] bg-white shadow-lg overflow-hidden",style:{left:`${M.x}px`,top:`${M.y}px`,width:`${u.width}px`,height:`${u.height}px`,cursor:g?"grabbing":"default",userSelect:g||H?"none":"auto"},children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-[#E3E8F0] bg-white cursor-grab active:cursor-grabbing select-none",onMouseDown:P,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center overflow-hidden",style:{backgroundColor:"#fff6e2"},children:e.jsx("img",{src:"/scout-mascot.png",alt:"Scout AI",className:"w-6 h-6 object-contain"})}),e.jsx("div",{children:e.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Scout AI"})})]}),e.jsx("button",{onClick:()=>S(!1),className:"text-xs text-slate-500 hover:text-slate-700 transition-colors",children:"Close"})]}),e.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:e.jsx(pt,{firmContext:y,userResume:q||void 0,fitContext:m,onApplyQuery:$,onFindContacts:N})}),e.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 cursor-nwse-resize z-10",onMouseDown:v,style:{background:"linear-gradient(to bottom right, transparent 0%, transparent 40%, #E3E8F0 40%, #E3E8F0 45%, transparent 45%, transparent 100%)"},children:e.jsx("div",{className:"absolute top-1 left-1 w-3 h-3 border-l-2 border-t-2 border-slate-400"})})]}),e.jsxs("button",{onClick:()=>S(!0),className:"inline-flex items-center gap-2 rounded-full border px-3 py-1.5 bg-[#ECF4FF] border-[#C7D8FF] text-sm font-medium text-[#111827] shadow-sm hover:shadow-md hover:scale-105 hover:bg-gradient-to-r hover:from-[#ECF4FF] hover:to-white cursor-pointer transition-all duration-150",children:[e.jsxs("div",{className:"relative flex items-center justify-center h-6 w-6 rounded-full bg-[#FFF7EA] flex-shrink-0",children:[e.jsx("img",{src:"/scout-mascot.png",alt:"Scout AI",className:"w-4 h-4 object-contain",style:{animation:"wave 2.5s ease-in-out infinite",transformOrigin:"center bottom"}}),e.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full bg-[#3B82F6]",style:{animation:"ping-soft 1.2s ease-in-out infinite"}})]}),e.jsx("span",{className:"whitespace-nowrap hidden sm:inline",children:"Ask Scout"})]})]})},yt=["Investment banks in New York focused on healthcare M&A","Mid-sized consulting firms in San Francisco","Venture capital firms in Boston focused on biotech","Large private equity firms in Chicago","Software companies in Austin with 50-200 employees"],$t=()=>{var me;const y=et(),{user:m,checkCredits:$}=Ie(),N=m||{credits:0,tier:"free"},[w,E]=a.useState(""),[S,M]=a.useState(!1),[l,u]=a.useState([]),[j,q]=a.useState(null),[U,g]=a.useState(null),[_,H]=a.useState(!1),[n,x]=a.useState(null),[p,r]=a.useState(!1),[C,k]=a.useState([]),[D,P]=a.useState(!1),[v,h]=a.useState("firm-search"),[i,F]=a.useState(!1),[R,z]=a.useState(null),[Q,X]=a.useState(!1),[oe,G]=a.useState(!1),ae=a.useRef([]),K=a.useRef(new Set),[T,le]=a.useState(10),[ne]=a.useState([5,10,20,40]),[V]=a.useState(5);a.useEffect(()=>{$&&m&&$()},[T,$,m]),a.useEffect(()=>{ae.current=l},[l]);const Y=a.useRef(new Set),B=a.useCallback(async()=>{if(console.log("ðŸš€ loadAllSavedFirms called",{hasUser:!!m,userId:m==null?void 0:m.uid}),!m){console.log("âŒ No user, skipping load"),F(!1);return}F(!0);try{console.log("ðŸ“¥ Loading saved firms from Firebase...");const t=await re.getFirmSearchHistory(100,!0);console.log("ðŸ“¦ History received:",{historyLength:t.length,history:t});const o=[],A=new Set,f=new Set;t.forEach((s,d)=>{var L;console.log(`ðŸ” Processing history item ${d}:`,{hasResults:!!s.results,resultsIsArray:Array.isArray(s.results),resultsLength:((L=s.results)==null?void 0:L.length)||0}),s.results&&Array.isArray(s.results)&&s.results.forEach(b=>{var te;if(b.id&&K.current.has(b.id)){console.log(`â­ï¸ Skipping deleted firm: ${b.id} (${b.name})`);return}if(b.id&&Y.current.has(b.id)){console.log(`â­ï¸ Skipping recently deleted firm: ${b.id} (${b.name})`);return}const ie=b.id||`${b.name}-${(te=b.location)==null?void 0:te.display}`;b.id?A.has(b.id)||(A.add(b.id),o.push(b)):f.has(ie)||(f.add(ie),o.push(b))})}),console.log(`âœ… Loaded ${o.length} unique firms from ${t.length} recent searches`);const c=o.filter(s=>s.id&&K.current.has(s.id)?(console.log(`ðŸš« Filtering out deleted firm from results: ${s.id} (${s.name})`),!1):!0);c.length<o.length&&console.log(`ðŸ§¹ Filtered out ${o.length-c.length} deleted firms from results`),Y.current.size>0&&(console.log(`ðŸ§¹ Clearing ${Y.current.size} recently deleted firm IDs from tracking`),Y.current.clear()),u(c),J.current=!1}catch(t){console.error("âŒ Failed to load saved firms:",t),I({title:"Failed to load firms",description:t instanceof Error?t.message:"Please check your connection and try refreshing.",variant:"destructive"})}finally{F(!1)}},[m]),ce=a.useCallback(async()=>{if(m){P(!0);try{const t=await re.getFirmSearchHistory(10);k(t)}catch(t){console.error("Failed to load search history:",t)}finally{P(!1)}}},[m]);a.useEffect(()=>{ce(),$&&$()},[ce,$]);const J=a.useRef(!1);a.useEffect(()=>{if(v!=="firm-library"){J.current=!1;return}if(!m){console.log("â­ï¸ No user, cannot load saved firms");return}if(i){console.log("â­ï¸ Already loading saved firms, skipping");return}if(J.current){console.log("â­ï¸ Load already attempted, skipping to prevent infinite retry");return}if(ae.current.length>0){console.log("â­ï¸ Results already populated, skipping load to preserve search results");return}console.log("ðŸ“š âœ… Loading saved firms for firm-library tab (all conditions met)"),J.current=!0,B()},[v,m,B,i]);const Z=async t=>{var c;const o=t||w;if(!o.trim()){g("Please enter a search query");return}if(!m){g("Please sign in to search for firms"),I({title:"Authentication Required",description:"Please sign in to use Firm Search.",variant:"destructive"});return}M(!0),g(null),H(!0);const A=2+Math.ceil(T/5)*2,f=A<60?`${A} seconds`:`${Math.ceil(A/60)} minutes`;x({current:0,total:T,step:`Generating firm names... (est. ${f})`});try{const s=await re.searchFirms(o,T);if(x(null),s.success){if(q(s.parsedFilters),s.firms.length===0)g("No firms found matching your criteria. Try broadening your search or adjusting the location/industry.");else{const d=s.firms;u(d);const L=s.partialMessage?`${s.partialMessage} Used ${s.creditsCharged||0} credits.`:`Found ${s.firms.length} firm${s.firms.length!==1?"s":""}. Used ${s.creditsCharged||0} credits.`;I({title:s.partialMessage?"Partial Results":"Search Complete!",description:L,variant:(s.partialMessage,"default")}),$&&await $(),h("firm-library")}ce()}else s.insufficientCredits?(g(s.error||"Insufficient credits"),I({title:"Insufficient Credits",description:`You need ${s.creditsNeeded} credits but only have ${s.currentCredits}. Please upgrade your plan or reduce batch size.`,variant:"destructive"})):g(s.error||"Search failed. Please try again.")}catch(s){if(console.error("Search error:",s),s.status===401||(c=s.message)!=null&&c.includes("Authentication required"))g("Authentication required. Please sign in again."),I({title:"Authentication Required",description:"Your session may have expired. Please sign in again.",variant:"destructive"});else if(s.status===402||s.error_code==="INSUFFICIENT_CREDITS"){const d=s.creditsNeeded||s.required||T*V,L=s.currentCredits||s.available||N.credits||0;g(`Insufficient credits. You need ${d} credits but only have ${L}.`),I({title:"Insufficient Credits",description:`You need ${d} credits but only have ${L}. Please upgrade your plan or reduce batch size.`,variant:"destructive"}),$&&await $()}else if(s.status===502||s.error_code==="EXTERNAL_API_ERROR"){const d=s.message||"The search service is temporarily unavailable. Please try again in a few minutes.";g(d),I({title:"Service Temporarily Unavailable",description:d,variant:"destructive"})}else g(s.message||"An unexpected error occurred. Please try again."),I({title:"Search Failed",description:s.message||"An error occurred. Please try again.",variant:"destructive"})}finally{M(!1),x(null)}},he=t=>{var A,f;const o=new URLSearchParams;if(o.set("company",t.name),(A=t.location)!=null&&A.display)o.set("location",t.location.display);else if((f=t.location)!=null&&f.city){const c=[t.location.city,t.location.state,t.location.country].filter(Boolean);o.set("location",c.join(", "))}y(`/contact-search?${o.toString()}`)},Pe=t=>{E(t),I({title:"Query updated",description:"Click Search to run the new query"})},ze=t=>{const o=l.find(A=>A.name===t);o?he(o):I({title:"Firm not found",description:`Couldn't find ${t} in your results`,variant:"destructive"})},Te={current_query:w,current_results:l,parsed_filters:j},ee=t=>{var o;return t.id||`${t.name}-${(o=t.location)==null?void 0:o.display}`},_e=async t=>{var A;const o=ee(t);z(o);try{console.log("ðŸ—‘ï¸ Deleting firm:",{firmId:t.id,firmName:t.name,firmLocation:(A=t.location)==null?void 0:A.display,firmKey:o}),t.id&&(K.current.add(t.id),Y.current.add(t.id),console.log(`ðŸ“ Tracking deleted firm ID: ${t.id}`)),u(c=>{const s=c.filter(d=>t.id&&d.id?d.id!==t.id:ee(d)!==o);return console.log(`ðŸ—‘ï¸ Removed firm from local state (optimistic): ${c.length} -> ${s.length}`),s});const f=await re.deleteFirm(t);if(console.log("ðŸ—‘ï¸ Delete result:",f),f.success){if(f.deletedCount===0){console.warn("âš ï¸ Delete API returned success but deletedCount is 0 - firm not found in Firebase!"),t.id&&(K.current.delete(t.id),Y.current.delete(t.id)),u(c=>c.some(d=>t.id&&d.id?d.id===t.id:ee(d)===o)?c:(console.log("ðŸ”„ Re-adding firm to local state (wasn't actually deleted)"),[...c,t])),I({title:"Delete failed",description:"Firm not found in database. It may have already been deleted.",variant:"destructive"});return}if(I({title:"Firm deleted",description:`Removed from your Firm Library (${f.deletedCount} occurrence${f.deletedCount>1?"s":""} removed).`}),v==="firm-library"){console.log("ðŸ”„ Reloading saved firms after deletion to sync with Firebase...");const c=[1e3,2e3,3e3];for(const s of c)setTimeout(async()=>{try{console.log(`ðŸ”„ Reload attempt after ${s}ms...`),await B(),console.log(`âœ… Reloaded saved firms after ${s}ms`)}catch(d){console.error(`âŒ Error reloading firms after ${s}ms:`,d)}},s)}}else throw t.id&&(K.current.delete(t.id),Y.current.delete(t.id)),u(c=>c.some(d=>t.id&&d.id?d.id===t.id:ee(d)===o)?c:(console.log("ðŸ”„ Re-adding firm to local state (deletion failed)"),[...c,t])),new Error(f.error||"Failed to delete firm")}catch(f){console.error("âŒ Delete firm error:",f),t.id&&(K.current.delete(t.id),Y.current.delete(t.id)),u(c=>c.some(d=>t.id&&d.id?d.id===t.id:ee(d)===o)?c:(console.log("ðŸ”„ Re-adding firm to local state (error during deletion)"),[...c,t])),I({title:"Delete failed",description:f instanceof Error?f.message:"Please try again.",variant:"destructive"})}finally{z(null)}},He=async()=>{const t=l.length;X(!1);try{const o=l.map(s=>re.deleteFirm(s)),f=(await Promise.allSettled(o)).filter(s=>s.status==="fulfilled"&&s.value.success&&(s.value.deletedCount||0)>0).length,c=t-f;u([]),c===0?(I({title:"All firms deleted",description:`Removed ${f} firm${f!==1?"s":""} from your Firm Library.`}),v==="firm-library"&&(console.log("ðŸ”„ Reloading saved firms after delete all to verify Firebase state..."),setTimeout(async()=>{try{await B(),console.log("âœ… Reloaded saved firms after delete all")}catch(s){console.error("âŒ Error reloading firms after delete all:",s)}},1e3))):(I({title:"Partial deletion",description:`Deleted ${f} of ${t} firms. ${c} failed. Please refresh to see current state.`,variant:"default"}),v==="firm-library"&&setTimeout(async()=>{try{await B()}catch(s){console.error("âŒ Error reloading firms after partial delete:",s)}},1e3))}catch(o){console.error("Error deleting all firms:",o),u([]),I({title:"Delete error",description:"An error occurred while deleting firms. Please refresh the page to see the current state.",variant:"destructive"}),v==="firm-library"&&setTimeout(async()=>{try{await B()}catch(A){console.error("âŒ Error reloading firms after delete error:",A)}},1e3)}},Ue=t=>{E(t.query),r(!1),Z(t.query)},Ye=t=>{E(t),Z(t)},qe=t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),Z())},Ve=()=>{if(N.tier==="free"){G(!0);return}if(!l||l.length===0)return;const o=["Company Name","Website","LinkedIn","Location","Industry"].join(","),A=l.map(L=>{var te,xe,fe,ge;const b=pe=>{if(!pe)return"";const se=String(pe);return se.includes(",")||se.includes('"')||se.includes(`
`)?`"${se.replace(/"/g,'""')}"`:se},ie=((te=L.location)==null?void 0:te.display)||[(xe=L.location)==null?void 0:xe.city,(fe=L.location)==null?void 0:fe.state,(ge=L.location)==null?void 0:ge.country].filter(Boolean).join(", ");return[b(L.name),b(L.website),b(L.linkedinUrl),b(ie),b(L.industry)].join(",")}),f=[o,...A].join(`
`),c=new Blob([f],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),d=URL.createObjectURL(c);s.setAttribute("href",d),s.setAttribute("download",`firms_${new Date().toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},Be=()=>{G(!1),y("/pricing")},We=((N==null?void 0:N.tier)==="pro"?"pro":"free")==="free"?10:40;return e.jsx(nt,{className:"bg-transparent",children:e.jsxs("div",{className:"flex min-h-screen w-full bg-transparent text-foreground",children:[e.jsx(it,{}),e.jsxs("div",{className:"flex-1 bg-transparent",children:[e.jsxs("header",{className:"h-16 flex items-center justify-between border-b border-gray-100/30 px-6 bg-transparent shadow-sm relative z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ot,{className:"text-foreground hover:bg-secondary"}),e.jsx("h1",{className:"text-xl font-semibold",children:"Firm Search"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-shrink-0",children:[e.jsx(W,{variant:"ghost",size:"icon",onClick:()=>y("/home?tab=outbox"),className:"h-9 w-9 hover:bg-blue-100 hover:text-blue-600 flex-shrink-0","aria-label":"View outbox",children:e.jsx(tt,{className:"h-5 w-5"})}),e.jsx(W,{variant:"ghost",size:"icon",onClick:()=>y("/home?tab=calendar"),className:"h-9 w-9 hover:bg-blue-100 hover:text-blue-600 flex-shrink-0","aria-label":"View calendar",children:e.jsx(st,{className:"h-5 w-5"})}),e.jsx(bt,{firmContext:Te,onApplyQuery:Pe,onFindContacts:ze})]})]}),e.jsx("main",{className:"p-8 bg-transparent",children:e.jsx("div",{className:"max-w-7xl mx-auto bg-transparent",children:e.jsxs(lt,{value:v,onValueChange:h,className:"w-full bg-transparent",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs(ct,{className:"h-14 tabs-container-gradient border border-border grid grid-cols-2 max-w-lg w-full rounded-xl p-1 bg-white",children:[e.jsxs(ve,{value:"firm-search",className:"h-12 font-medium text-base data-[state=active] data-[state=active]:text-white data-[state=inactive]:text-muted-foreground transition-all",children:[e.jsx(ue,{className:"h-5 w-5 mr-2"}),"Firm Search"]}),e.jsxs(ve,{value:"firm-library",className:"h-12 font-medium text-base data-[state=active] data-[state=active]:text-white data-[state=inactive]:text-muted-foreground transition-all",children:[e.jsx(ye,{className:"h-5 w-5 mr-2"}),"Firm Library (",l.length,")"]})]})}),e.jsx(Ne,{value:"firm-search",className:"bg-transparent",children:e.jsxs("div",{className:"mx-auto max-w-6xl",children:[e.jsx(de,{className:"bg-white border-border shadow-sm rounded-2xl",children:e.jsxs(Se,{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-semibold text-foreground",children:"Firm Search"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Discover companies that match your career interests."})]}),!m&&e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-yellow-600 flex items-start gap-2",children:[e.jsx(we,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Please sign in to use Firm Search."})]})}),e.jsxs("div",{className:"space-y-4 pt-4 border-t border-border",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ht,{className:"text-xl text-foreground",children:"Describe the firms you're looking for"}),e.jsxs(W,{variant:"outline",size:"sm",onClick:()=>r(!p),className:"border-input text-foreground hover:bg-secondary",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"History"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:w,onChange:t=>E(t.target.value),onKeyDown:qe,placeholder:"e.g., Mid-sized investment banks in New York focused on healthcare M&A...",rows:4,className:"min-h-[120px] w-full rounded-xl bg-white border border-input px-4 py-3 text-sm text-foreground placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:border-transparent resize-none disabled:opacity-50",disabled:S}),e.jsx("button",{onClick:()=>Z(),disabled:S||!w.trim()||!m,className:"absolute bottom-3 right-3 p-2 bg-primary rounded-full hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-white",children:S?e.jsx(O,{className:"h-5 w-5 animate-spin text-white"}):e.jsx(rt,{className:"h-5 w-5 text-white"})})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Include ",e.jsx("span",{className:"text-destructive",children:"*industry*"})," (required), ",e.jsx("span",{className:"text-destructive",children:"*location*"})," (required), and optionally size, focus areas, and any key words you want for best results."]}),e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between pt-4 border-t border-border",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Firm Batch Size"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose how many firms to pull per search."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/50 p-1 border border-input",children:ne.map(t=>e.jsx("button",{type:"button",onClick:()=>le(t),disabled:S||t>We,className:`px-3 py-1.5 text-xs font-medium rounded-full transition ${T===t?"text-white":"text-muted-foreground hover:text-foreground"} disabled:opacity-50 disabled:cursor-not-allowed`,style:T===t?{background:"linear-gradient(135deg, #3B82F6, #60A5FA)"}:void 0,children:t},t))}),e.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[e.jsxs("div",{className:"font-medium text-foreground",children:[T*V," credits"]}),e.jsxs("div",{className:"text-[11px] text-muted-foreground",children:[V," credits per firm"]})]})]})]}),N.credits!==void 0&&N.credits<T*V&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-red-400 flex items-start gap-2",children:[e.jsx("span",{children:"âš ï¸ Warning:"}),e.jsxs("span",{children:["Insufficient credits. You need ",T*V," credits but only have ",N.credits,"."]})]})}),e.jsx(W,{onClick:()=>Z(),disabled:S||!w.trim()||!m||(N.credits??0)<T*V,className:"w-full h-12 text-white font-semibold",style:{background:"linear-gradient(135deg, #3B82F6, #60A5FA)"},children:S?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-4 w-4 mr-2 animate-spin"}),(n==null?void 0:n.step)||"Searching..."]}):"Search Firms"})]}),!_&&e.jsxs("div",{className:"space-y-3 pt-4 border-t border-border",children:[e.jsx("h3",{className:"text-sm font-medium text-foreground",children:"Examples you can try"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Click an example to fill in the search description."}),e.jsx("div",{className:"flex flex-wrap gap-2",children:yt.map((t,o)=>e.jsx("button",{type:"button",onClick:()=>Ye(t),className:"whitespace-nowrap rounded-full border border-border bg-white px-3 py-1.5 text-xs text-foreground hover:bg-secondary hover:text-foreground transition-colors",children:t},o))})]})]})}),U&&e.jsxs("div",{className:"p-4 bg-red-900/30 border border-red-500/50 rounded-lg flex items-start space-x-3",children:[e.jsx(we,{className:"h-5 w-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("div",{children:e.jsx("p",{className:"text-red-200",children:U})})]}),j&&_&&!U&&e.jsx("div",{className:"p-4 bg-blue-900/30 border border-blue-500/50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-200",children:[e.jsx("span",{className:"font-medium",children:"Searching for:"})," ",j.size&&j.size!=="none"&&e.jsxs("span",{className:"capitalize",children:[j.size,"-sized "]}),e.jsx("span",{className:"capitalize",children:j.industry})," firms in"," ",e.jsx("span",{children:j.location}),((me=j.keywords)==null?void 0:me.length)>0&&e.jsxs("span",{children:[" focused on ",j.keywords.join(", ")]})]})}),S&&e.jsx(de,{className:"bg-white border-border",children:e.jsxs(Se,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:(n==null?void 0:n.step)||"Searching..."}),n&&e.jsxs("span",{className:"text-muted-foreground",children:[n.current,"/",n.total]})]}),n&&e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${n.current/n.total*100}%`}})})]}),e.jsx(ut,{variant:"card",count:3})]})}),_&&!S&&l.length>0&&e.jsx("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:e.jsxs("p",{className:"text-green-600",children:[e.jsxs("span",{className:"font-medium",children:["âœ“ Found ",l.length," firms!"]}),' Switch to the "Firm Library" tab to view results and export to CSV.']})})]})}),e.jsx(Ne,{value:"firm-library",className:"!bg-white",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white rounded-lg border border-border p-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-foreground",children:[l.length," firm",l.length!==1?"s":""," saved"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Export your results to CSV for further analysis"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(W,{onClick:()=>{console.log("ðŸ”„ Manual refresh triggered"),J.current=!1,B()},variant:"outline",size:"sm",className:"gap-2",disabled:i,children:[i?e.jsx(O,{className:"h-4 w-4 animate-spin"}):e.jsx(ue,{className:"h-4 w-4"}),"Refresh"]}),l.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(W,{onClick:()=>X(!0),variant:"outline",className:"gap-2 border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700",children:[e.jsx(Le,{className:"h-4 w-4"}),"Delete All"]}),e.jsxs(W,{onClick:Ve,className:`gap-2 ${N.tier==="free"?"bg-gray-400 hover:bg-gray-400 cursor-not-allowed opacity-60":"bg-blue-600 hover:bg-blue-700"}`,disabled:N.tier==="free",title:N.tier==="free"?"Upgrade to Pro or Elite to export CSV":"Export firms to CSV",children:[e.jsx(at,{className:"h-4 w-4"}),"Export CSV"]})]})]})]}),l.length>0?e.jsx(ft,{firms:l,onViewContacts:he,onDelete:_e,deletingId:R}):e.jsxs(de,{className:"bg-white border-border p-12 text-center",children:[e.jsx(ye,{className:"h-10 w-10 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-foreground mb-2",children:"No firms to display yet"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:'Switch to the "Firm Search" tab to find companies'})]})]})})]})})})]}),p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white shadow-xl border-l border-border z-50",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Search History"}),e.jsx("button",{onClick:()=>r(!1),className:"p-2 text-muted-foreground hover:text-foreground rounded-lg hover:bg-secondary",children:"âœ•"})]}),e.jsx("div",{className:"overflow-y-auto h-full pb-20",children:D?e.jsx("div",{className:"p-8 text-center",children:e.jsx(O,{className:"h-6 w-6 text-muted-foreground animate-spin mx-auto"})}):C.length===0?e.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[e.jsx(je,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No search history yet"})]}):e.jsx("div",{className:"divide-y divide-border",children:C.map(t=>e.jsxs("button",{onClick:()=>Ue(t),className:"w-full p-4 text-left hover:bg-secondary transition-colors",children:[e.jsx("p",{className:"text-sm font-medium text-foreground line-clamp-2",children:t.query}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.resultsCount," firms found"]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(t.createdAt).toLocaleDateString()})]})]},t.id))})})]}),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>r(!1)})]}),e.jsx(Ce,{open:Q,onOpenChange:X,children:e.jsxs(ke,{children:[e.jsxs(Fe,{children:[e.jsx(Ae,{children:"Delete All Firms?"}),e.jsxs(Ee,{children:["This will permanently remove all ",l.length," firm",l.length!==1?"s":""," from your Firm Library. This action cannot be undone."]})]}),e.jsxs($e,{children:[e.jsx(De,{children:"Cancel"}),e.jsx(Re,{onClick:He,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:"Delete All"})]})]})}),e.jsx(Ce,{open:oe,onOpenChange:G,children:e.jsxs(ke,{children:[e.jsxs(Fe,{children:[e.jsx(Ae,{children:"Upgrade to Export CSV"}),e.jsx(Ee,{children:"CSV export is available for Pro and Elite tier users. Upgrade your plan to export your firm search results to CSV for further analysis."})]}),e.jsxs($e,{children:[e.jsx(De,{children:"Cancel"}),e.jsx(Re,{onClick:Be,className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-600",children:"Upgrade to Pro/Elite"})]})]})})]})})};export{$t as default};
