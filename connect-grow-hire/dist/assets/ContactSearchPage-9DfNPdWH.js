const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CbRDpcOQ.js","assets/vendor-react-8__hEqSi.js","assets/vendor-3c7QqsrR.js","assets/vendor-firebase-fqjS7TZQ.js","assets/index-Dxkivupg.css"])))=>i.map(i=>d[i]);
import{c as oe,a as we,B as Z,f as ve,_ as M,t as p}from"./index-CbRDpcOQ.js";import{r as i,j as e,az as ie,aA as ye,$ as Ne,q as Se,am as Ce,Y as Te,a6 as _e,a3 as Ie}from"./vendor-react-8__hEqSi.js";import{S as Ae,A as ke,a as De}from"./AppSidebar-C3T1EY_x.js";import{T as $e,a as Ee,b as ee,c as te}from"./tabs-Dj1cUU_Y.js";import{C as L,c as R,a as Pe,b as Fe}from"./card-DEr-NLBm.js";import{S as Le}from"./ContactDirectory-BUy_DiM9.js";import{I as Re}from"./input-Da8vUUVy.js";import{C as Ue,b as Be,d as ze,e as Ge}from"./command-CSXDQZ_9.js";import{P as Oe,a as Me,b as qe}from"./popover-BJP4sLkL.js";import{a as ae,i as Ve}from"./api-BG-uyxl1.js";import{f as se}from"./firebaseApi-BFL2T2zL.js";import{T as Ye}from"./constants-CpKbYGZX.js";import{e as re,l as ne}from"./activityLogger-BZL1Xx2P.js";import{P as Je}from"./PageHeaderActions-j8WjX7Tv.js";import"./vendor-3c7QqsrR.js";import"./vendor-firebase-fqjS7TZQ.js";import"./avatar-CmaKgUkD.js";const le=i.forwardRef(({className:s,value:b,...j},_)=>e.jsx(ie,{ref:_,className:oe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...j,children:e.jsx(ye,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(b||0)}%)`}})}));le.displayName=ie.displayName;function He(s,b){const[j,_]=i.useState(s);return i.useEffect(()=>{const r=setTimeout(()=>{_(s)},b);return()=>{clearTimeout(r)}},[s,b]),j}const Ke=window.location.hostname==="localhost"?"http://localhost:5001":"https://www.offerloop.ai",Qe=(s,b,j=!0)=>{const[_,r]=i.useState([]),[w,k]=i.useState(!1),[h,v]=i.useState(null),f=He(b,300);return i.useEffect(()=>{if(!j||!f||f.length<2){r([]),v(null);return}(async()=>{k(!0),v(null);try{const l=await fetch(`${Ke}/api/autocomplete/${s}?query=${encodeURIComponent(f)}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const S=await l.json();if(S.error)throw new Error(S.error);r(S.suggestions||[])}catch(l){console.error("Autocomplete error:",l),v(l instanceof Error?l.message:"Unknown error"),r([])}finally{k(!1)}})()},[s,f,j]),{suggestions:_,isLoading:w,error:h}},U=({value:s,onChange:b,placeholder:j,dataType:_,disabled:r=!1,className:w})=>{const[k,h]=i.useState(!1),[v,f]=i.useState(s),D=i.useRef(null),{suggestions:l,isLoading:S,error:y}=Qe(_,v,k);i.useEffect(()=>{f(s)},[s]);const B=u=>{const x=u.target.value;f(x),b(x),x.length>=2&&!r?h(!0):h(!1)},$=u=>{var x;f(u),b(u),h(!1),(x=D.current)==null||x.blur()},z=()=>{v.length>=2&&!r&&h(!0)},N=()=>{setTimeout(()=>h(!1),150)},E=u=>{var x;u.key==="Escape"&&(h(!1),(x=D.current)==null||x.blur())},F=k&&!r&&v.length>=2,I=S||l.length>0||!!y;return e.jsx("div",{className:"relative",children:e.jsxs(Oe,{open:!!(F&&I),children:[e.jsx(Me,{asChild:!0,children:e.jsx("div",{children:e.jsx(Re,{ref:D,value:v,onChange:B,onFocus:z,onBlur:N,onKeyDown:E,placeholder:j,disabled:r,className:oe(w,F&&"rounded-b-none")})})}),e.jsx(qe,{className:"w-full p-0 mt-0 rounded-t-none border-t-0",align:"start",side:"bottom",sideOffset:-1,onOpenAutoFocus:u=>u.preventDefault(),children:e.jsx(Ue,{children:e.jsxs(Be,{className:"max-h-48",children:[S&&e.jsxs("div",{className:"flex items-center justify-center p-4 text-sm text-muted-foreground",children:[e.jsx(Ne,{className:"h-4 w-4 animate-spin mr-2"}),"Loading suggestions..."]}),y&&e.jsxs("div",{className:"p-4 text-sm text-destructive",children:["Error loading suggestions: ",y]}),!S&&!y&&l.length===0&&v.length>=2&&e.jsxs("div",{className:"p-4 text-sm text-muted-foreground",children:['No suggestions found for "',v,'"']}),!S&&!y&&l.length>0&&e.jsx(ze,{children:l.slice(0,8).map((u,x)=>e.jsx(Ge,{value:u,onSelect:()=>$(u),className:"cursor-pointer hover:bg-secondary",children:e.jsx("span",{className:"truncate",children:u})},`${u}-${x}`))})]})})})]})})},xt=()=>{const{user:s,checkCredits:b,updateCredits:j}=we(),_=Se(),r=s||{credits:0,maxCredits:0,name:"User",email:"user@example.com",tier:"free"},w=i.useMemo(()=>{if((r==null?void 0:r.tier)==="pro")return"pro";const o=Number((r==null?void 0:r.maxCredits)??0),a=Number((r==null?void 0:r.credits)??0);return o>=1800||a>150?"pro":"free"},[r==null?void 0:r.tier,r==null?void 0:r.maxCredits,r==null?void 0:r.credits]);function k(o){return o&&Array.isArray(o.contacts)}const[h,v]=i.useState(""),[f,D]=i.useState(""),[l,S]=i.useState(""),[y,B]=i.useState(""),[$,z]=i.useState(null),[N,E]=i.useState(!1),[F,I]=i.useState(0),[u,x]=i.useState(!1),[G,q]=i.useState([]),[ce,V]=i.useState(null),Y=G.length>0,[A,J]=i.useState(1),T=i.useMemo(()=>{const o=w==="free"?3:8,a=Math.floor((r.credits??0)/15);return Math.min(o,a)},[w,r.credits]);i.useEffect(()=>{A>T&&J(Math.max(1,T))},[T,A]);const[P,H]=i.useState(null),[de,K]=i.useState("contact-search"),Q=Ye[w],me=o=>Object.fromEntries(Object.entries(o).filter(([,a])=>a!==void 0)),W=i.useCallback(async()=>{if(!s)return null;try{if(s!=null&&s.uid){const t=await se.getProfessionalInfo(s.uid);if(t)return{name:`${t.firstName||""} ${t.lastName||""}`.trim()||s.name||"",university:t.university||"",major:t.fieldOfStudy||"",year:t.graduationYear||"",graduationYear:t.graduationYear||"",degree:t.currentDegree||"",careerInterests:t.targetIndustries||[]}}const o=localStorage.getItem("professionalInfo"),a=localStorage.getItem("resumeData"),n=o?JSON.parse(o):{},d=a?JSON.parse(a):{};return{name:`${n.firstName||""} ${n.lastName||""}`.trim()||d.name||s.name||"",university:n.university||d.university||"",major:n.fieldOfStudy||d.major||"",year:n.graduationYear||d.year||"",graduationYear:n.graduationYear||d.year||"",degree:n.currentDegree||d.degree||"",careerInterests:n.targetIndustries||[]}}catch{return null}},[s]),O=async(o,a)=>{if(s)try{const n=new Date().toLocaleDateString("en-US"),d=o.map(t=>{const m=[t.City??"",t.State??""].filter(Boolean).join(", ")||t.location||a||"";return me({firstName:t.FirstName??t.firstName??"",lastName:t.LastName??t.lastName??"",linkedinUrl:t.LinkedIn??t.linkedinUrl??"",email:t.Email??t.email??"",company:t.Company??t.company??"",jobTitle:t.Title??t.jobTitle??"",college:t.College??t.college??"",location:m,firstContactDate:n,status:"Not Contacted",lastContactDate:n,emailSubject:t.email_subject??t.emailSubject??void 0,emailBody:t.email_body??t.emailBody??void 0,gmailThreadId:t.gmailThreadId??t.gmail_thread_id??void 0,gmailMessageId:t.gmailMessageId??t.gmail_message_id??void 0,gmailDraftId:t.gmailDraftId??t.gmail_draft_id??void 0,gmailDraftUrl:t.gmailDraftUrl??t.gmail_draft_url??void 0,hasUnreadReply:!1,notificationsMuted:!1})});await se.bulkCreateContacts(s.uid,d)}catch(n){throw n}},ue=async()=>{try{if(!s)return!1;const{auth:o}=await M(async()=>{const{auth:C}=await import("./index-CbRDpcOQ.js").then(c=>c.j);return{auth:C}},__vite__mapDeps([0,1,2,3,4])),a=o.currentUser;if(!a)return!1;const n=await a.getIdToken(!0),d=window.location.hostname==="localhost"?"http://localhost:5001":"https://www.offerloop.ai",t=await fetch(`${d}/api/google/gmail/status`,{headers:{Authorization:`Bearer ${n}`}});return t.ok?!(await t.json()).connected:!0}catch{return!0}},he=async()=>{try{const{auth:o}=await M(async()=>{const{auth:C}=await import("./index-CbRDpcOQ.js").then(c=>c.j);return{auth:C}},__vite__mapDeps([0,1,2,3,4])),a=o.currentUser;if(!a)return;const n=await a.getIdToken(!0),d=window.location.hostname==="localhost"?"http://localhost:5001":"https://www.offerloop.ai",t=await fetch(`${d}/api/google/oauth/start`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!t.ok)return;const m=await t.json();m.authUrl&&(sessionStorage.setItem("gmail_oauth_return",window.location.pathname),window.location.href=m.authUrl)}catch{}},xe=async o=>{var X;const{auth:a}=await M(async()=>{const{auth:be}=await import("./index-CbRDpcOQ.js").then(je=>je.j);return{auth:be}},__vite__mapDeps([0,1,2,3,4])),n=await((X=a.currentUser)==null?void 0:X.getIdToken(!0)),d=window.location.hostname==="localhost"?"http://localhost:5001":"https://www.offerloop.ai",t=await W(),m=await fetch(`${d}/api/emails/generate-and-draft`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({contacts:o,resumeText:"",userProfile:t,careerInterests:(t==null?void 0:t.careerInterests)||[]})}),C=m.headers.get("content-type")||"",c=await m.text(),g=c?C.includes("application/json")?JSON.parse(c):{raw:c}:{};if(m.status===401){if(g!=null&&g.needsAuth&&(g!=null&&g.authUrl))return window.location.href=g.authUrl,null;throw new Error(g.error||"Gmail session expired — please reconnect.")}if(!m.ok)throw new Error(g.error||`HTTP ${m.status}: ${m.statusText}`);return g};i.useEffect(()=>{(async()=>{if(s)try{const a=await ue();H(!a)}catch{H(!1)}})()},[s]);const fe=(o,a,n)=>{v(o),a&&D(a),n&&S(n)},ge=o=>{var n;const a=(n=o.target.files)==null?void 0:n[0];if(a&&a.type==="application/pdf"){if(a.size>10*1024*1024){p({title:"File Too Large",description:"Please upload a PDF smaller than 10MB.",variant:"destructive"});return}z(a),p({title:"Resume uploaded",description:a.name})}},pe=async()=>{var o;if(!h.trim()||!l.trim()){p({title:"Missing Required Fields",description:"Please enter both job title and location.",variant:"destructive"});return}if(!s){p({title:"Authentication Required",description:"Please sign in to search for contacts.",variant:"destructive"}),_("/signin");return}E(!0),I(0),x(!1);try{const[a,n]=await Promise.all([W(),b?b():Promise.resolve(r.credits??0)]);if(n<15){E(!1),p({title:"Insufficient Credits",description:`You have ${n} credits. You need at least 15 credits to search.`,variant:"destructive"});return}if(w==="pro"&&!$){E(!1),p({title:"Resume Required",description:"Pro tier requires a resume upload for similarity matching.",variant:"destructive"});return}if(w==="free"){const d={jobTitle:h.trim(),company:f.trim()||"",location:l.trim(),saveToDirectory:!1,userProfile:a,careerInterests:(a==null?void 0:a.careerInterests)||[],collegeAlumni:(y||"").trim(),batchSize:A},t=await ae.runFreeSearch(d);if(!k(t)){p({title:"Search Failed",description:(t==null?void 0:t.error)||"Please try again.",variant:"destructive"});return}const m=t.contacts.length*15,C=Math.max(0,n-m);if(j&&await j(C).catch(()=>{}),I(100),q(t.contacts),V({successful_drafts:t.successful_drafts??0,total_contacts:t.contacts.length}),I(100),x(!0),s!=null&&s.uid&&t.contacts.length>0)try{const c=re({jobTitle:h.trim(),company:f.trim()||void 0,location:l.trim(),college:y.trim()||void 0,contactCount:t.contacts.length});await ne(s.uid,"contactSearch",c,{jobTitle:h.trim(),company:f.trim()||"",location:l.trim(),collegeAlumni:y.trim()||"",contactCount:t.contacts.length,tier:"free"})}catch{}try{await O(t.contacts,l.trim()),p({title:"Search Complete!",description:`Found ${t.contacts.length} contacts. Used ${m} credits. ${C} credits remaining.`,duration:5e3})}catch(c){console.error("Failed to save contacts:",c),p({title:"Search Complete!",description:`Found ${t.contacts.length} contacts. Used ${m} credits.`,variant:"destructive",duration:5e3})}}else if(w==="pro"){const d={jobTitle:h.trim(),company:f.trim()||"",location:l.trim(),resume:$,saveToDirectory:!1,userProfile:a,careerInterests:(a==null?void 0:a.careerInterests)||[],collegeAlumni:(y||"").trim(),batchSize:A},t=await ae.runProSearch(d);if(Ve(t)){if(E(!1),I(0),(o=t.error)!=null&&o.includes("Insufficient credits")){p({title:"Insufficient Credits",description:t.error,variant:"destructive"}),b&&await b();return}p({title:"Search Failed",description:t.error||"Please try again.",variant:"destructive"});return}const m=t.contacts.length*15,C=Math.max(0,n-m);if(j&&await j(C),q(t.contacts),V({successful_drafts:t.successful_drafts,total_contacts:t.contacts.length}),I(100),x(!0),s!=null&&s.uid&&t.contacts.length>0)try{const c=re({jobTitle:h.trim(),company:f.trim()||void 0,location:l.trim(),college:y.trim()||void 0,contactCount:t.contacts.length});await ne(s.uid,"contactSearch",c,{jobTitle:h.trim(),company:f.trim()||"",location:l.trim(),collegeAlumni:y.trim()||"",contactCount:t.contacts.length,tier:"pro"})}catch{}try{await xe(t.contacts)}catch(c){if(c!=null&&c.needsAuth||c!=null&&c.require_reauth){const g=c.authUrl;if(g){window.location.href=g;return}}}try{await O(t.contacts,l.trim()),p({title:"Search Complete!",description:`Found ${t.contacts.length} contacts. Used ${m} credits. ${C} credits remaining.`,duration:5e3})}catch{p({title:"Search Complete!",description:`Found ${t.contacts.length} contacts. Used ${m} credits.`,variant:"destructive",duration:5e3})}}}catch(a){if(a!=null&&a.needsAuth||a!=null&&a.require_reauth){const n=a.authUrl;if(n){if(p({title:"Gmail Connection Expired",description:a.message||"Please reconnect your Gmail account to create drafts.",variant:"destructive",duration:5e3}),a.contacts&&a.contacts.length>0)try{await O(a.contacts,l.trim())}catch(d){console.error("Failed to save contacts before redirect:",d)}window.location.href=n;return}}p({title:"Search Failed",description:a instanceof Error?a.message:"Please try again.",variant:"destructive",duration:5e3}),x(!1)}finally{E(!1),u?setTimeout(()=>{I(0),x(!1)},2e3):setTimeout(()=>I(0),500)}};return e.jsx(Ae,{children:e.jsxs("div",{className:"flex min-h-screen w-full bg-transparent text-foreground",children:[e.jsx(ke,{}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("header",{className:"h-16 flex items-center justify-between border-b border-gray-100/30 px-6 bg-transparent shadow-sm relative z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(De,{className:"text-foreground hover:bg-secondary"}),e.jsx("h1",{className:"text-xl font-semibold",children:"Contact Search"})]}),e.jsx(Je,{onJobTitleSuggestion:fe})]}),e.jsx("main",{className:"p-8 bg-transparent",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs($e,{value:de,onValueChange:K,className:"w-full",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs(Ee,{className:"h-14 tabs-container-gradient border border-border grid grid-cols-2 max-w-lg w-full rounded-xl p-1 bg-white",children:[e.jsxs(ee,{value:"contact-search",className:"h-12 font-medium text-base data-[state=active] data-[state=active]:text-white data-[state=inactive]:text-muted-foreground transition-all",children:[e.jsx(Ce,{className:"h-5 w-5 mr-2"}),"Contact Search"]}),e.jsxs(ee,{value:"contact-library",className:"h-12 font-medium text-base data-[state=active] data-[state=active]:text-white data-[state=inactive]:text-muted-foreground transition-all",children:[e.jsx(Te,{className:"h-5 w-5 mr-2"}),"Contact Library"]})]})}),e.jsxs(te,{value:"contact-search",className:"mt-6",children:[e.jsx(L,{className:"mb-6 bg-white border-border",children:e.jsx(R,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${P?"bg-blue-500":"bg-yellow-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:P?"Gmail Connected":"Gmail Not Connected"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:P?"Email drafts will be created in your Gmail":"Connect Gmail to create email drafts automatically"})]})]}),e.jsx(Z,{onClick:()=>he(),variant:P?"outline":"default",size:"sm",className:P?"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50":" text-white shadow-sm",style:P?void 0:{background:"linear-gradient(135deg, #3B82F6, #60A5FA)"},children:P?"Reconnect":"Connect Gmail"})]})})}),e.jsxs(L,{className:"bg-white border-border",children:[e.jsx(Pe,{className:"border-b border-border",children:e.jsxs(Fe,{className:"text-xl text-foreground",children:["Professional Search Filters",e.jsx("span",{className:"text-sm text-muted-foreground",children:"- I want to network with..."})]})}),e.jsxs(R,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2 text-foreground",children:["Job Title ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(U,{value:h,onChange:v,placeholder:"e.g. Analyst, unsure of exact title in company? Ask Scout",dataType:"job_title",disabled:N,className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-purple-500 hover:border-purple-400 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",children:"Company"}),e.jsx(U,{value:f,onChange:D,placeholder:"e.g. Google, Meta, or any preferred firm",dataType:"company",disabled:N,className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-purple-500 hover:border-purple-400 transition-colors"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2 text-foreground",children:["Location ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(U,{value:l,onChange:S,placeholder:"e.g. Los Angeles, CA, New York, NY, city of office",dataType:"location",disabled:N,className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-purple-500 hover:border-purple-400 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",children:"College Alumni"}),e.jsx(U,{value:y,onChange:B,placeholder:"e.g. Stanford, USC, preferred college they attended",dataType:"school",disabled:N,className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-purple-500 hover:border-purple-400 transition-colors"})]})]}),e.jsxs("div",{className:"col-span-1 lg:col-span-2 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email Batch Size"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"- Choose how many contacts to generate per search"})]}),e.jsx("div",{className:"bg-muted/30 rounded-xl p-6 border border-border shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border border-blue-400/40 rounded-xl px-4 py-3 min-w-[70px] text-center shadow-inner",children:e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-300 to-cyan-300 bg-clip-text text-transparent",children:A})}),e.jsx("div",{className:"flex-1 max-w-[320px] pt-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"1",max:T,value:A,onChange:o=>J(Number(o.target.value)),disabled:N||T<1,className:`w-full h-3 bg-gray-700/50 rounded-full appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed 
                                    [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-7 [&::-webkit-slider-thumb]:h-7 
                                    [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white
                                    [&::-webkit-slider-thumb]:shadow-[0_0_20px_rgba(59,130,246,0.6)] 
                                    [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-blue-400
                                    [&::-webkit-slider-thumb]:hover:shadow-[0_0_25px_rgba(59,130,246,0.8)] 
                                    [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:duration-200
                                    [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:w-7 [&::-moz-range-thumb]:h-7 
                                    [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-white
                                    [&::-moz-range-thumb]:shadow-[0_0_20px_rgba(59,130,246,0.6)] 
                                    [&::-moz-range-thumb]:border-2 [&::-moz-range-thumb]:border-blue-400`,style:{background:`linear-gradient(to right, 
                                      rgba(59, 130, 246, 0.8) 0%, 
                                      rgba(96, 165, 250, 0.8) ${(A-1)/(T-1)*100}%, 
                                      rgba(55, 65, 81, 0.3) ${(A-1)/(T-1)*100}%, 
                                      rgba(55, 65, 81, 0.3) 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-3 font-medium",children:[e.jsx("span",{children:"1"}),e.jsx("span",{children:T})]})]})}),e.jsx("div",{className:"bg-blue-50 rounded-xl px-4 py-3 min-w-[100px] border border-blue-400/20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-xl font-bold text-blue-600",children:A*15}),e.jsx("span",{className:"text-sm text-blue-600/70 ml-2",children:"credits"})]})})]})}),T<(w==="free"?3:8)&&e.jsx("div",{className:"mt-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-yellow-700 flex items-start gap-2",children:[e.jsx("span",{children:"Warning"}),e.jsxs("span",{children:["Limited by available credits. Maximum: ",T," contacts."]})]})})]}),w==="pro"&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium mb-2 text-foreground",children:["Resume ",e.jsx("span",{className:"text-destructive",children:"*"})," (Required for Pro tier AI similarity matching)"]}),e.jsxs("div",{className:"border-2 border-dashed border-input rounded-lg p-4 text-center hover:border-purple-400 transition-colors bg-muted/30",children:[e.jsx("input",{type:"file",accept:".pdf",onChange:ge,className:"hidden",id:"resume-upload",disabled:N}),e.jsxs("label",{htmlFor:"resume-upload",className:`cursor-pointer ${N?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(_e,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-foreground mb-1",children:$?$.name:"Upload resume for AI similarity matching (Required for Pro)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF only, max 10MB"})]})]})]}),e.jsxs("div",{className:"space-y-4 mt-8",children:[e.jsx(Z,{onClick:pe,disabled:!h.trim()||!l.trim()||N||w==="pro"&&!$||(r.credits??0)<15,size:"lg",className:" text-white font-medium px-8 transition-all hover:scale-105 shadow-sm",style:{background:"linear-gradient(135deg, #3B82F6, #60A5FA)"},children:N?"Searching...":"Find Contacts"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4"}),e.jsxs("span",{children:["Up to ",Q.maxContacts," contacts + emails"]})]}),e.jsx("span",{className:"text-muted-foreground",children:"•"}),e.jsx("span",{children:"Auto-saved to Contact Library"})]})]}),(N||u)&&e.jsx(L,{className:"mt-6 bg-white border-border",children:e.jsx(R,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-foreground",children:u?e.jsx("span",{className:"text-green-600 font-semibold",children:"Search completed successfully!"}):`Searching with ${Q.name} tier...`}),e.jsxs("span",{className:u?"text-green-600 font-bold":"text-primary",children:[F,"%"]})]}),e.jsx(le,{value:F,className:"h-2"}),u&&e.jsx("div",{className:"mt-2 text-sm text-green-600",children:"Check your Contact Library to view and manage your new contacts."})]})})}),N&&!Y&&e.jsx(L,{className:"mt-6 bg-white border-border",children:e.jsx(R,{className:"p-6",children:e.jsx(ve,{variant:"contacts",count:3})})}),Y&&ce&&e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-500/10 to-blue-500/10 border-2 border-green-500/50 rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:"text-base font-semibold text-green-700",children:"Search Completed Successfully!"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{className:"bg-blue-50 rounded p-2 border border-blue-200/50",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:G.length}),e.jsx("div",{className:"text-xs text-blue-600/70",children:"Contacts Found"})]}),e.jsxs("div",{className:"bg-blue-50 rounded p-2 border border-blue-200/50",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:G.length}),e.jsx("div",{className:"text-xs text-blue-600/70",children:"Email Drafts"})]})]}),e.jsxs("div",{className:"text-sm text-blue-700 mt-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"Saved"}),"All contacts saved to your Contact Library"]}),e.jsx("button",{onClick:()=>K("contact-library"),className:"mt-3 text-sm text-blue-600 hover:text-blue-700 underline",children:"View in Contact Library"})]})]})]})]}),e.jsx(te,{value:"contact-library",className:"mt-6",children:e.jsx(Le,{})})]})})})]})]})})};export{xt as default};
