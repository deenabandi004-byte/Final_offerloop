const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BlHBLROI.js","assets/vendor-ui-Dvm6rNa4.js","assets/vendor-react-BYoYq924.js","assets/index-D0yzOJ85.css"])))=>i.map(i=>d[i]);
import{b as ue,a as Pe,B as ae,x as ke,_ as V,t as y}from"./index-BlHBLROI.js";import{j as e,c as $e,P as me}from"./vendor-ui-Dvm6rNa4.js";import{r as i,u as De}from"./vendor-react-BYoYq924.js";import{S as Ee,A as Le,a as Re}from"./AppSidebar-Cn2aJ38A.js";import{T as Fe,a as Ue,b as re,c as se}from"./tabs-B3Jp1R5J.js";import{C as R,c as F,a as Me,b as Be}from"./card-BhhoFDdW.js";import{S as Oe}from"./ContactDirectory-DOM7iVv6.js";import{I as Ge}from"./input-XODqQdub.js";import{C as ze,b as Ve,d as qe,e as Ye,U as Je}from"./command-Cpn169HM.js";import{P as He,a as We,b as Ke}from"./popover-DprC4tu3.js";import{L as Xe}from"./loader-circle-Dc92CH8W.js";import{D as Qe,a as oe,i as Ze}from"./api-BaCf4yf7.js";import{f as ne}from"./firebaseApi-DOnxKxO3.js";import{T as et}from"./constants-CpKbYGZX.js";import{e as ie,l as le}from"./activityLogger-hKmX71uM.js";import{P as tt}from"./PageHeaderActions-DBb3HQNj.js";import{S as at}from"./search-BYePgFCK.js";import{F as rt}from"./file-text-anY0C2WZ.js";import"./avatar-Dzw8yNMj.js";import"./user-C_wegfzu.js";import"./briefcase-dTGXHmKy.js";import"./credit-card-CUtRkOcf.js";import"./settings-DRsa6wdQ.js";import"./chevron-down-BYs8h_N4.js";import"./zap-4xeOdT8m.js";import"./refresh-cw-IxHaehM0.js";import"./trash-2-CokCcdpM.js";import"./mail-BHr62ECQ.js";import"./external-link-CNjLoQl2.js";var q="Progress",Y=100,[st]=$e(q),[ot,nt]=st(q),he=i.forwardRef((a,l)=>{const{__scopeProgress:g,value:b=null,max:s,getValueLabel:w=it,...I}=a;(s||s===0)&&!ce(s)&&console.error(lt(`${s}`,"Progress"));const c=ce(s)?s:Y;b!==null&&!de(b,c)&&console.error(ct(`${b}`,"Progress"));const m=de(b,c)?b:null,f=M(m)?w(m,c):void 0;return e.jsx(ot,{scope:g,value:m,max:c,children:e.jsx(me.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":M(m)?m:void 0,"aria-valuetext":f,role:"progressbar","data-state":fe(m,c),"data-value":m??void 0,"data-max":c,...I,ref:l})})});he.displayName=q;var pe="ProgressIndicator",xe=i.forwardRef((a,l)=>{const{__scopeProgress:g,...b}=a,s=nt(pe,g);return e.jsx(me.div,{"data-state":fe(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...b,ref:l})});xe.displayName=pe;function it(a,l){return`${Math.round(a/l*100)}%`}function fe(a,l){return a==null?"indeterminate":a===l?"complete":"loading"}function M(a){return typeof a=="number"}function ce(a){return M(a)&&!isNaN(a)&&a>0}function de(a,l){return M(a)&&!isNaN(a)&&a<=l&&a>=0}function lt(a,l){return`Invalid prop \`max\` of value \`${a}\` supplied to \`${l}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Y}\`.`}function ct(a,l){return`Invalid prop \`value\` of value \`${a}\` supplied to \`${l}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Y} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ge=he,dt=xe;const be=i.forwardRef(({className:a,value:l,...g},b)=>e.jsx(ge,{ref:b,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...g,children:e.jsx(dt,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(l||0)}%)`}})}));be.displayName=ge.displayName;function ut(a,l){const[g,b]=i.useState(a);return i.useEffect(()=>{const s=setTimeout(()=>{b(a)},l);return()=>{clearTimeout(s)}},[a,l]),g}const mt=window.location.hostname==="localhost"?"http://localhost:5001":"https://www.offerloop.ai",ht=(a,l,g=!0)=>{const[b,s]=i.useState([]),[w,I]=i.useState(!1),[c,m]=i.useState(null),f=ut(l,300);return i.useEffect(()=>{if(!g||!f||f.length<2){s([]),m(null);return}(async()=>{I(!0),m(null);try{const d=await fetch(`${mt}/api/autocomplete/${a}?query=${encodeURIComponent(f)}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const C=await d.json();if(C.error)throw new Error(C.error);s(C.suggestions||[])}catch(d){console.error("Autocomplete error:",d),m(d instanceof Error?d.message:"Unknown error"),s([])}finally{I(!1)}})()},[a,f,g]),{suggestions:b,isLoading:w,error:c}},U=({value:a,onChange:l,placeholder:g,dataType:b,disabled:s=!1,className:w})=>{const[I,c]=i.useState(!1),[m,f]=i.useState(a),k=i.useRef(null),{suggestions:d,isLoading:C,error:N}=ht(b,m,I);i.useEffect(()=>{f(a)},[a]);const B=x=>{const v=x.target.value;f(v),l(v),v.length>=2&&!s?c(!0):c(!1)},$=x=>{var v;f(x),l(x),c(!1),(v=k.current)==null||v.blur()},O=()=>{m.length>=2&&!s&&c(!0)},S=()=>{setTimeout(()=>c(!1),150)},D=x=>{var v;x.key==="Escape"&&(c(!1),(v=k.current)==null||v.blur())},L=I&&!s&&m.length>=2,A=C||d.length>0||!!N;return e.jsx("div",{className:"relative",children:e.jsxs(He,{open:!!(L&&A),children:[e.jsx(We,{asChild:!0,children:e.jsx("div",{children:e.jsx(Ge,{ref:k,value:m,onChange:B,onFocus:O,onBlur:S,onKeyDown:D,placeholder:g,disabled:s,className:ue(w,L&&"rounded-b-none")})})}),e.jsx(Ke,{className:"w-full p-0 mt-0 rounded-t-none border-t-0",align:"start",side:"bottom",sideOffset:-1,onOpenAutoFocus:x=>x.preventDefault(),children:e.jsx(ze,{children:e.jsxs(Ve,{className:"max-h-48",children:[C&&e.jsxs("div",{className:"flex items-center justify-center p-4 text-sm text-muted-foreground",children:[e.jsx(Xe,{className:"h-4 w-4 animate-spin mr-2"}),"Loading suggestions..."]}),N&&e.jsxs("div",{className:"p-4 text-sm text-destructive",children:["Error loading suggestions: ",N]}),!C&&!N&&d.length===0&&m.length>=2&&e.jsxs("div",{className:"p-4 text-sm text-muted-foreground",children:['No suggestions found for "',m,'"']}),!C&&!N&&d.length>0&&e.jsx(qe,{children:d.slice(0,8).map((x,v)=>e.jsx(Ye,{value:x,onSelect:()=>$(x),className:"cursor-pointer hover:bg-secondary",children:e.jsx("span",{className:"truncate",children:x})},`${x}-${v}`))})]})})})]})})},zt=()=>{const{user:a,checkCredits:l,updateCredits:g}=Pe(),b=De(),s=a||{credits:0,maxCredits:0,name:"User",email:"user@example.com",tier:"free"},w=i.useMemo(()=>{if((s==null?void 0:s.tier)==="pro")return"pro";const n=Number((s==null?void 0:s.maxCredits)??0),r=Number((s==null?void 0:s.credits)??0);return n>=1800||r>150?"pro":"free"},[s==null?void 0:s.tier,s==null?void 0:s.maxCredits,s==null?void 0:s.credits]);function I(n){return n&&Array.isArray(n.contacts)}const[c,m]=i.useState(""),[f,k]=i.useState(""),[d,C]=i.useState(""),[N,B]=i.useState(""),[$,O]=i.useState(null),[S,D]=i.useState(!1),[L,A]=i.useState(0),[x,v]=i.useState(!1),[G,J]=i.useState([]),[ve,H]=i.useState(null),W=G.length>0,[P,K]=i.useState(1),_=i.useMemo(()=>{const n=w==="free"?3:8,r=Math.floor((s.credits??0)/15);return Math.min(n,r)},[w,s.credits]);i.useEffect(()=>{P>_&&K(Math.max(1,_))},[_,P]);const[E,X]=i.useState(null),[je,Q]=i.useState("contact-search"),Z=et[w],we=n=>Object.fromEntries(Object.entries(n).filter(([,r])=>r!==void 0)),ee=i.useCallback(async()=>{if(!a)return null;try{if(a!=null&&a.uid){const t=await ne.getProfessionalInfo(a.uid);if(t)return{name:`${t.firstName||""} ${t.lastName||""}`.trim()||a.name||"",university:t.university||"",major:t.fieldOfStudy||"",year:t.graduationYear||"",graduationYear:t.graduationYear||"",degree:t.currentDegree||"",careerInterests:t.targetIndustries||[]}}const n=localStorage.getItem("professionalInfo"),r=localStorage.getItem("resumeData"),o=n?JSON.parse(n):{},h=r?JSON.parse(r):{};return{name:`${o.firstName||""} ${o.lastName||""}`.trim()||h.name||a.name||"",university:o.university||h.university||"",major:o.fieldOfStudy||h.major||"",year:o.graduationYear||h.year||"",graduationYear:o.graduationYear||h.year||"",degree:o.currentDegree||h.degree||"",careerInterests:o.targetIndustries||[]}}catch{return null}},[a]),z=async(n,r)=>{if(a)try{const o=new Date().toLocaleDateString("en-US"),h=n.map(t=>{const p=[t.City??"",t.State??""].filter(Boolean).join(", ")||t.location||r||"";return we({firstName:t.FirstName??t.firstName??"",lastName:t.LastName??t.lastName??"",linkedinUrl:t.LinkedIn??t.linkedinUrl??"",email:t.Email??t.email??"",company:t.Company??t.company??"",jobTitle:t.Title??t.jobTitle??"",college:t.College??t.college??"",location:p,firstContactDate:o,status:"Not Contacted",lastContactDate:o,emailSubject:t.email_subject??t.emailSubject??void 0,emailBody:t.email_body??t.emailBody??void 0,gmailThreadId:t.gmailThreadId??t.gmail_thread_id??void 0,gmailMessageId:t.gmailMessageId??t.gmail_message_id??void 0,gmailDraftId:t.gmailDraftId??t.gmail_draft_id??void 0,gmailDraftUrl:t.gmailDraftUrl??t.gmail_draft_url??void 0,hasUnreadReply:!1,notificationsMuted:!1})});await ne.bulkCreateContacts(a.uid,h)}catch(o){throw o}},ye=async()=>{try{if(!a)return!1;const{auth:n}=await V(async()=>{const{auth:T}=await import("./index-BlHBLROI.js").then(u=>u.W);return{auth:T}},__vite__mapDeps([0,1,2,3])),r=n.currentUser;if(!r)return!1;const o=await r.getIdToken(!0),h=window.location.hostname==="localhost"?"http://localhost:5001":"https://www.offerloop.ai",t=await fetch(`${h}/api/google/gmail/status`,{headers:{Authorization:`Bearer ${o}`}});return t.ok?!(await t.json()).connected:!0}catch{return!0}},Ne=async()=>{try{const{auth:n}=await V(async()=>{const{auth:T}=await import("./index-BlHBLROI.js").then(u=>u.W);return{auth:T}},__vite__mapDeps([0,1,2,3])),r=n.currentUser;if(!r)return;const o=await r.getIdToken(!0),h=window.location.hostname==="localhost"?"http://localhost:5001":"https://www.offerloop.ai",t=await fetch(`${h}/api/google/oauth/start`,{method:"GET",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!t.ok)return;const p=await t.json();p.authUrl&&(sessionStorage.setItem("gmail_oauth_return",window.location.pathname),window.location.href=p.authUrl)}catch{}},Se=async n=>{var te;const{auth:r}=await V(async()=>{const{auth:Ie}=await import("./index-BlHBLROI.js").then(Ae=>Ae.W);return{auth:Ie}},__vite__mapDeps([0,1,2,3])),o=await((te=r.currentUser)==null?void 0:te.getIdToken(!0)),h=window.location.hostname==="localhost"?"http://localhost:5001":"https://www.offerloop.ai",t=await ee(),p=await fetch(`${h}/api/emails/generate-and-draft`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({contacts:n,resumeText:"",userProfile:t,careerInterests:(t==null?void 0:t.careerInterests)||[]})}),T=p.headers.get("content-type")||"",u=await p.text(),j=u?T.includes("application/json")?JSON.parse(u):{raw:u}:{};if(p.status===401){if(j!=null&&j.needsAuth&&(j!=null&&j.authUrl))return window.location.href=j.authUrl,null;throw new Error(j.error||"Gmail session expired — please reconnect.")}if(!p.ok)throw new Error(j.error||`HTTP ${p.status}: ${p.statusText}`);return j};i.useEffect(()=>{(async()=>{if(a)try{const r=await ye();X(!r)}catch{X(!1)}})()},[a]);const Ce=(n,r,o)=>{m(n),r&&k(r),o&&C(o)},Te=n=>{var o;const r=(o=n.target.files)==null?void 0:o[0];if(r&&r.type==="application/pdf"){if(r.size>10*1024*1024){y({title:"File Too Large",description:"Please upload a PDF smaller than 10MB.",variant:"destructive"});return}O(r),y({title:"Resume uploaded",description:r.name})}},_e=async()=>{var n;if(!c.trim()||!d.trim()){y({title:"Missing Required Fields",description:"Please enter both job title and location.",variant:"destructive"});return}if(!a){y({title:"Authentication Required",description:"Please sign in to search for contacts.",variant:"destructive"}),b("/signin");return}D(!0),A(0),v(!1);try{const[r,o]=await Promise.all([ee(),l?l():Promise.resolve(s.credits??0)]);if(o<15){D(!1),y({title:"Insufficient Credits",description:`You have ${o} credits. You need at least 15 credits to search.`,variant:"destructive"});return}if(w==="pro"&&!$){D(!1),y({title:"Resume Required",description:"Pro tier requires a resume upload for similarity matching.",variant:"destructive"});return}if(w==="free"){const h={jobTitle:c.trim(),company:f.trim()||"",location:d.trim(),saveToDirectory:!1,userProfile:r,careerInterests:(r==null?void 0:r.careerInterests)||[],collegeAlumni:(N||"").trim(),batchSize:P},t=await oe.runFreeSearch(h);if(!I(t)){y({title:"Search Failed",description:(t==null?void 0:t.error)||"Please try again.",variant:"destructive"});return}const p=t.contacts.length*15,T=Math.max(0,o-p);if(g&&await g(T).catch(()=>{}),A(100),J(t.contacts),H({successful_drafts:t.successful_drafts??0,total_contacts:t.contacts.length}),A(100),v(!0),a!=null&&a.uid&&t.contacts.length>0)try{const u=ie({jobTitle:c.trim(),company:f.trim()||void 0,location:d.trim(),college:N.trim()||void 0,contactCount:t.contacts.length});await le(a.uid,"contactSearch",u,{jobTitle:c.trim(),company:f.trim()||"",location:d.trim(),collegeAlumni:N.trim()||"",contactCount:t.contacts.length,tier:"free"})}catch{}try{await z(t.contacts,d.trim()),y({title:"Search Complete!",description:`Found ${t.contacts.length} contacts. Used ${p} credits. ${T} credits remaining.`,duration:5e3})}catch(u){console.error("Failed to save contacts:",u),y({title:"Search Complete!",description:`Found ${t.contacts.length} contacts. Used ${p} credits.`,variant:"destructive",duration:5e3})}}else if(w==="pro"){const h={jobTitle:c.trim(),company:f.trim()||"",location:d.trim(),resume:$,saveToDirectory:!1,userProfile:r,careerInterests:(r==null?void 0:r.careerInterests)||[],collegeAlumni:(N||"").trim(),batchSize:P},t=await oe.runProSearch(h);if(Ze(t)){if(D(!1),A(0),(n=t.error)!=null&&n.includes("Insufficient credits")){y({title:"Insufficient Credits",description:t.error,variant:"destructive"}),l&&await l();return}y({title:"Search Failed",description:t.error||"Please try again.",variant:"destructive"});return}const p=t.contacts.length*15,T=Math.max(0,o-p);if(g&&await g(T),J(t.contacts),H({successful_drafts:t.successful_drafts,total_contacts:t.contacts.length}),A(100),v(!0),a!=null&&a.uid&&t.contacts.length>0)try{const u=ie({jobTitle:c.trim(),company:f.trim()||void 0,location:d.trim(),college:N.trim()||void 0,contactCount:t.contacts.length});await le(a.uid,"contactSearch",u,{jobTitle:c.trim(),company:f.trim()||"",location:d.trim(),collegeAlumni:N.trim()||"",contactCount:t.contacts.length,tier:"pro"})}catch{}try{await Se(t.contacts)}catch(u){if(u!=null&&u.needsAuth||u!=null&&u.require_reauth){const j=u.authUrl;if(j){window.location.href=j;return}}}try{await z(t.contacts,d.trim()),y({title:"Search Complete!",description:`Found ${t.contacts.length} contacts. Used ${p} credits. ${T} credits remaining.`,duration:5e3})}catch{y({title:"Search Complete!",description:`Found ${t.contacts.length} contacts. Used ${p} credits.`,variant:"destructive",duration:5e3})}}}catch(r){if(r!=null&&r.needsAuth||r!=null&&r.require_reauth){const o=r.authUrl;if(o){if(y({title:"Gmail Connection Expired",description:r.message||"Please reconnect your Gmail account to create drafts.",variant:"destructive",duration:5e3}),r.contacts&&r.contacts.length>0)try{await z(r.contacts,d.trim())}catch(h){console.error("Failed to save contacts before redirect:",h)}window.location.href=o;return}}y({title:"Search Failed",description:r instanceof Error?r.message:"Please try again.",variant:"destructive",duration:5e3}),v(!1)}finally{D(!1),x?setTimeout(()=>{A(0),v(!1)},2e3):setTimeout(()=>A(0),500)}};return e.jsx(Ee,{children:e.jsxs("div",{className:"flex min-h-screen w-full bg-transparent text-foreground",children:[e.jsx(Le,{}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("header",{className:"h-16 flex items-center justify-between border-b border-gray-100/30 px-6 bg-transparent shadow-sm relative z-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Re,{className:"text-foreground hover:bg-secondary"}),e.jsx("h1",{className:"text-xl font-semibold",children:"Contact Search"})]}),e.jsx(tt,{onJobTitleSuggestion:Ce})]}),e.jsx("main",{className:"p-8 bg-transparent",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs(Fe,{value:je,onValueChange:Q,className:"w-full",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs(Ue,{className:"h-14 tabs-container-gradient border border-border grid grid-cols-2 max-w-lg w-full rounded-xl p-1 bg-white",children:[e.jsxs(re,{value:"contact-search",className:"h-12 font-medium text-base data-[state=active] data-[state=active]:text-white data-[state=inactive]:text-muted-foreground transition-all",children:[e.jsx(at,{className:"h-5 w-5 mr-2"}),"Contact Search"]}),e.jsxs(re,{value:"contact-library",className:"h-12 font-medium text-base data-[state=active] data-[state=active]:text-white data-[state=inactive]:text-muted-foreground transition-all",children:[e.jsx(rt,{className:"h-5 w-5 mr-2"}),"Contact Library"]})]})}),e.jsxs(se,{value:"contact-search",className:"mt-6",children:[e.jsx(R,{className:"mb-6 bg-white border-border",children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${E?"bg-blue-500":"bg-yellow-500"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-foreground",children:E?"Gmail Connected":"Gmail Not Connected"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:E?"Email drafts will be created in your Gmail":"Connect Gmail to create email drafts automatically"})]})]}),e.jsx(ae,{onClick:()=>Ne(),variant:E?"outline":"default",size:"sm",className:E?"bg-white border border-gray-200 text-gray-700 hover:bg-gray-50":" text-white shadow-sm",style:E?void 0:{background:"linear-gradient(135deg, #3B82F6, #60A5FA)"},children:E?"Reconnect":"Connect Gmail"})]})})}),e.jsxs(R,{className:"bg-white border-border",children:[e.jsx(Me,{className:"border-b border-border",children:e.jsxs(Be,{className:"text-xl text-foreground",children:["Professional Search Filters",e.jsx("span",{className:"text-sm text-muted-foreground",children:"- I want to network with..."})]})}),e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2 text-foreground",children:["Job Title ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(U,{value:c,onChange:m,placeholder:"e.g. Analyst, unsure of exact title in company? Ask Scout",dataType:"job_title",disabled:S,className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-purple-500 hover:border-purple-400 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",children:"Company"}),e.jsx(U,{value:f,onChange:k,placeholder:"e.g. Google, Meta, or any preferred firm",dataType:"company",disabled:S,className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-purple-500 hover:border-purple-400 transition-colors"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-2 text-foreground",children:["Location ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(U,{value:d,onChange:C,placeholder:"e.g. Los Angeles, CA, New York, NY, city of office",dataType:"location",disabled:S,className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-purple-500 hover:border-purple-400 transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2 text-foreground",children:"College Alumni"}),e.jsx(U,{value:N,onChange:B,placeholder:"e.g. Stanford, USC, preferred college they attended",dataType:"school",disabled:S,className:"bg-white border-input text-foreground placeholder:text-muted-foreground focus:border-purple-500 hover:border-purple-400 transition-colors"})]})]}),e.jsxs("div",{className:"col-span-1 lg:col-span-2 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:"Email Batch Size"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"- Choose how many contacts to generate per search"})]}),e.jsx("div",{className:"bg-muted/30 rounded-xl p-6 border border-border shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border border-blue-400/40 rounded-xl px-4 py-3 min-w-[70px] text-center shadow-inner",children:e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-blue-300 to-cyan-300 bg-clip-text text-transparent",children:P})}),e.jsx("div",{className:"flex-1 max-w-[320px] pt-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"1",max:_,value:P,onChange:n=>K(Number(n.target.value)),disabled:S||_<1,className:`w-full h-3 bg-gray-700/50 rounded-full appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed 
                                    [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-7 [&::-webkit-slider-thumb]:h-7 
                                    [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white
                                    [&::-webkit-slider-thumb]:shadow-[0_0_20px_rgba(59,130,246,0.6)] 
                                    [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-blue-400
                                    [&::-webkit-slider-thumb]:hover:shadow-[0_0_25px_rgba(59,130,246,0.8)] 
                                    [&::-webkit-slider-thumb]:transition-all [&::-webkit-slider-thumb]:duration-200
                                    [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:w-7 [&::-moz-range-thumb]:h-7 
                                    [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-white
                                    [&::-moz-range-thumb]:shadow-[0_0_20px_rgba(59,130,246,0.6)] 
                                    [&::-moz-range-thumb]:border-2 [&::-moz-range-thumb]:border-blue-400`,style:{background:`linear-gradient(to right, 
                                      rgba(59, 130, 246, 0.8) 0%, 
                                      rgba(96, 165, 250, 0.8) ${(P-1)/(_-1)*100}%, 
                                      rgba(55, 65, 81, 0.3) ${(P-1)/(_-1)*100}%, 
                                      rgba(55, 65, 81, 0.3) 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-3 font-medium",children:[e.jsx("span",{children:"1"}),e.jsx("span",{children:_})]})]})}),e.jsx("div",{className:"bg-blue-50 rounded-xl px-4 py-3 min-w-[100px] border border-blue-400/20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-xl font-bold text-blue-600",children:P*15}),e.jsx("span",{className:"text-sm text-blue-600/70 ml-2",children:"credits"})]})})]})}),_<(w==="free"?3:8)&&e.jsx("div",{className:"mt-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-yellow-700 flex items-start gap-2",children:[e.jsx("span",{children:"Warning"}),e.jsxs("span",{children:["Limited by available credits. Maximum: ",_," contacts."]})]})})]}),w==="pro"&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium mb-2 text-foreground",children:["Resume ",e.jsx("span",{className:"text-destructive",children:"*"})," (Required for Pro tier AI similarity matching)"]}),e.jsxs("div",{className:"border-2 border-dashed border-input rounded-lg p-4 text-center hover:border-purple-400 transition-colors bg-muted/30",children:[e.jsx("input",{type:"file",accept:".pdf",onChange:Te,className:"hidden",id:"resume-upload",disabled:S}),e.jsxs("label",{htmlFor:"resume-upload",className:`cursor-pointer ${S?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(Je,{className:"h-6 w-6 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-foreground mb-1",children:$?$.name:"Upload resume for AI similarity matching (Required for Pro)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF only, max 10MB"})]})]})]}),e.jsxs("div",{className:"space-y-4 mt-8",children:[e.jsx(ae,{onClick:_e,disabled:!c.trim()||!d.trim()||S||w==="pro"&&!$||(s.credits??0)<15,size:"lg",className:" text-white font-medium px-8 transition-all hover:scale-105 shadow-sm",style:{background:"linear-gradient(135deg, #3B82F6, #60A5FA)"},children:S?"Searching...":"Find Contacts"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-4 w-4"}),e.jsxs("span",{children:["Up to ",Z.maxContacts," contacts + emails"]})]}),e.jsx("span",{className:"text-muted-foreground",children:"•"}),e.jsx("span",{children:"Auto-saved to Contact Library"})]})]}),(S||x)&&e.jsx(R,{className:"mt-6 bg-white border-border",children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-foreground",children:x?e.jsx("span",{className:"text-green-600 font-semibold",children:"Search completed successfully!"}):`Searching with ${Z.name} tier...`}),e.jsxs("span",{className:x?"text-green-600 font-bold":"text-primary",children:[L,"%"]})]}),e.jsx(be,{value:L,className:"h-2"}),x&&e.jsx("div",{className:"mt-2 text-sm text-green-600",children:"Check your Contact Library to view and manage your new contacts."})]})})}),S&&!W&&e.jsx(R,{className:"mt-6 bg-white border-border",children:e.jsx(F,{className:"p-6",children:e.jsx(ke,{variant:"contacts",count:3})})}),W&&ve&&e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-500/10 to-blue-500/10 border-2 border-green-500/50 rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:"text-base font-semibold text-green-700",children:"Search Completed Successfully!"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{className:"bg-blue-50 rounded p-2 border border-blue-200/50",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:G.length}),e.jsx("div",{className:"text-xs text-blue-600/70",children:"Contacts Found"})]}),e.jsxs("div",{className:"bg-blue-50 rounded p-2 border border-blue-200/50",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:G.length}),e.jsx("div",{className:"text-xs text-blue-600/70",children:"Email Drafts"})]})]}),e.jsxs("div",{className:"text-sm text-blue-700 mt-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"Saved"}),"All contacts saved to your Contact Library"]}),e.jsx("button",{onClick:()=>Q("contact-library"),className:"mt-3 text-sm text-blue-600 hover:text-blue-700 underline",children:"View in Contact Library"})]})]})]})]}),e.jsx(se,{value:"contact-library",className:"mt-6",children:e.jsx(Oe,{})})]})})})]})]})})};export{zt as default};
